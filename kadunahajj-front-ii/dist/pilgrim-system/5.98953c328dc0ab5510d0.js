(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3/ER":function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r?i.a.Buffer:void 0,c=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,i=c?c(n):new e.constructor(n);return e.copy(i),i}}).call(this,n("3UD+")(e))},"3UD+":function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},"9gQ6":function(e,t,n){"use strict";n.r(t),n.d(t,"UserModule",function(){return Jl});var i=n("3Pt+"),r=n("ofXK"),o=n("oOf3"),a=n("1kSV"),c=n("fXoL"),s=n("MO+k"),l=n("2Vo4"),d=function(e,t){return e===t||e!=e&&t!=t},u=function(e,t){for(var n=e.length;n--;)if(d(e[n][0],t))return n;return-1},h=Array.prototype.splice;function f(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}f.prototype.clear=function(){this.__data__=[],this.size=0},f.prototype.delete=function(e){var t=this.__data__,n=u(t,e);return!(n<0||(n==t.length-1?t.pop():h.call(t,n,1),--this.size,0))},f.prototype.get=function(e){var t=this.__data__,n=u(t,e);return n<0?void 0:t[n][1]},f.prototype.has=function(e){return u(this.__data__,e)>-1},f.prototype.set=function(e,t){var n=this.__data__,i=u(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var p,g=f,m=n("Ju5/"),b=m.a.Symbol,v=Object.prototype,y=v.hasOwnProperty,x=v.toString,P=b?b.toStringTag:void 0,S=Object.prototype.toString,w=b?b.toStringTag:void 0,R=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":w&&w in Object(e)?function(e){var t=y.call(e,P),n=e[P];try{e[P]=void 0;var i=!0}catch(o){}var r=x.call(e);return i&&(t?e[P]=n:delete e[P]),r}(e):function(e){return S.call(e)}(e)},k=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},I=function(e){if(!k(e))return!1;var t=R(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},O=m.a["__core-js_shared__"],_=(p=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",D=Function.prototype.toString,C=function(e){if(null!=e){try{return D.call(e)}catch(t){}try{return e+""}catch(t){}}return""},K=/^\[object .+?Constructor\]$/,A=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!k(e)||(t=e,_&&_ in t))&&(I(e)?A:K).test(C(e));var t}(n)?n:void 0},T=M(m.a,"Map"),F=M(Object,"create"),N=Object.prototype.hasOwnProperty,L=Object.prototype.hasOwnProperty;function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}z.prototype.clear=function(){this.__data__=F?F(null):{},this.size=0},z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},z.prototype.get=function(e){var t=this.__data__;if(F){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return N.call(t,e)?t[e]:void 0},z.prototype.has=function(e){var t=this.__data__;return F?void 0!==t[e]:L.call(t,e)},z.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=F&&void 0===t?"__lodash_hash_undefined__":t,this};var j=z,E=function(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map};function B(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}B.prototype.clear=function(){this.size=0,this.__data__={hash:new j,map:new(T||g),string:new j}},B.prototype.delete=function(e){var t=E(this,e).delete(e);return this.size-=t?1:0,t},B.prototype.get=function(e){return E(this,e).get(e)},B.prototype.has=function(e){return E(this,e).has(e)},B.prototype.set=function(e,t){var n=E(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};var Y=B;function H(e){var t=this.__data__=new g(e);this.size=t.size}H.prototype.clear=function(){this.__data__=new g,this.size=0},H.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},H.prototype.get=function(e){return this.__data__.get(e)},H.prototype.has=function(e){return this.__data__.has(e)},H.prototype.set=function(e,t){var n=this.__data__;if(n instanceof g){var i=n.__data__;if(!T||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Y(i)}return n.set(e,t),this.size=n.size,this};var V=H,q=function(){try{var e=M(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),W=function(e,t,n){"__proto__"==t&&q?q(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},$=Object.prototype.hasOwnProperty,U=function(e,t,n){var i=e[t];$.call(e,t)&&d(i,n)&&(void 0!==n||t in e)||W(e,t,n)},G=function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var c=t[o],s=i?i(n[c],e[c],c,n,e):void 0;void 0===s&&(s=e[c]),r?W(n,c,s):U(n,c,s)}return n},X=function(e){return null!=e&&"object"==typeof e},J=function(e){return X(e)&&"[object Arguments]"==R(e)},Z=Object.prototype,Q=Z.hasOwnProperty,ee=Z.propertyIsEnumerable,te=J(function(){return arguments}())?J:function(e){return X(e)&&Q.call(e,"callee")&&!ee.call(e,"callee")},ne=Array.isArray,ie=n("WOAq"),re=/^(?:0|[1-9]\d*)$/,oe=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&re.test(e))&&e>-1&&e%1==0&&e<t},ae=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ce={};ce["[object Float32Array]"]=ce["[object Float64Array]"]=ce["[object Int8Array]"]=ce["[object Int16Array]"]=ce["[object Int32Array]"]=ce["[object Uint8Array]"]=ce["[object Uint8ClampedArray]"]=ce["[object Uint16Array]"]=ce["[object Uint32Array]"]=!0,ce["[object Arguments]"]=ce["[object Array]"]=ce["[object ArrayBuffer]"]=ce["[object Boolean]"]=ce["[object DataView]"]=ce["[object Date]"]=ce["[object Error]"]=ce["[object Function]"]=ce["[object Map]"]=ce["[object Number]"]=ce["[object Object]"]=ce["[object RegExp]"]=ce["[object Set]"]=ce["[object String]"]=ce["[object WeakMap]"]=!1;var se=function(e){return function(t){return e(t)}},le=n("xutz"),de=le.a&&le.a.isTypedArray,ue=de?se(de):function(e){return X(e)&&ae(e.length)&&!!ce[R(e)]},he=Object.prototype.hasOwnProperty,fe=function(e,t){var n=ne(e),i=!n&&te(e),r=!n&&!i&&Object(ie.a)(e),o=!n&&!i&&!r&&ue(e),a=n||i||r||o,c=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],s=c.length;for(var l in e)!t&&!he.call(e,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||oe(l,s))||c.push(l);return c},pe=Object.prototype,ge=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||pe)},me=function(e,t){return function(n){return e(t(n))}},be=me(Object.keys,Object),ve=Object.prototype.hasOwnProperty,ye=function(e){return null!=e&&ae(e.length)&&!I(e)},xe=function(e){return ye(e)?fe(e):function(e){if(!ge(e))return be(e);var t=[];for(var n in Object(e))ve.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},Pe=Object.prototype.hasOwnProperty,Se=function(e){return ye(e)?fe(e,!0):function(e){if(!k(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=ge(e),n=[];for(var i in e)("constructor"!=i||!t&&Pe.call(e,i))&&n.push(i);return n}(e)},we=n("3/ER"),Re=function(){return[]},ke=Object.prototype.propertyIsEnumerable,Ie=Object.getOwnPropertySymbols,Oe=Ie?function(e){return null==e?[]:(e=Object(e),function(t,n){for(var i=-1,r=null==t?0:t.length,o=0,a=[];++i<r;){var c=t[i];ke.call(e,c)&&(a[o++]=c)}return a}(Ie(e)))}:Re,_e=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},De=me(Object.getPrototypeOf,Object),Ce=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)_e(t,Oe(e)),e=De(e);return t}:Re,Ke=function(e,t,n){var i=t(e);return ne(e)?i:_e(i,n(e))},Ae=function(e){return Ke(e,xe,Oe)},Me=function(e){return Ke(e,Se,Ce)},Te=M(m.a,"DataView"),Fe=M(m.a,"Promise"),Ne=M(m.a,"Set"),Le=M(m.a,"WeakMap"),ze="[object Map]",je="[object Promise]",Ee="[object Set]",Be="[object WeakMap]",Ye="[object DataView]",He=C(Te),Ve=C(T),qe=C(Fe),We=C(Ne),$e=C(Le),Ue=R;(Te&&Ue(new Te(new ArrayBuffer(1)))!=Ye||T&&Ue(new T)!=ze||Fe&&Ue(Fe.resolve())!=je||Ne&&Ue(new Ne)!=Ee||Le&&Ue(new Le)!=Be)&&(Ue=function(e){var t=R(e),n="[object Object]"==t?e.constructor:void 0,i=n?C(n):"";if(i)switch(i){case He:return Ye;case Ve:return ze;case qe:return je;case We:return Ee;case $e:return Be}return t});var Ge=Ue,Xe=Object.prototype.hasOwnProperty,Je=m.a.Uint8Array,Ze=function(e){var t=new e.constructor(e.byteLength);return new Je(t).set(new Je(e)),t},Qe=/\w*$/,et=b?b.prototype:void 0,tt=et?et.valueOf:void 0,nt=Object.create,it=function(){function e(){}return function(t){if(!k(t))return{};if(nt)return nt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),rt=le.a&&le.a.isMap,ot=rt?se(rt):function(e){return X(e)&&"[object Map]"==Ge(e)},at=le.a&&le.a.isSet,ct=at?se(at):function(e){return X(e)&&"[object Set]"==Ge(e)},st="[object Arguments]",lt="[object Function]",dt={};dt[st]=dt["[object Array]"]=dt["[object ArrayBuffer]"]=dt["[object DataView]"]=dt["[object Boolean]"]=dt["[object Date]"]=dt["[object Float32Array]"]=dt["[object Float64Array]"]=dt["[object Int8Array]"]=dt["[object Int16Array]"]=dt["[object Int32Array]"]=dt["[object Map]"]=dt["[object Number]"]=dt["[object Object]"]=dt["[object RegExp]"]=dt["[object Set]"]=dt["[object String]"]=dt["[object Symbol]"]=dt["[object Uint8Array]"]=dt["[object Uint8ClampedArray]"]=dt["[object Uint16Array]"]=dt["[object Uint32Array]"]=!0,dt["[object Error]"]=dt[lt]=dt["[object WeakMap]"]=!1;var ut=function e(t,n,i,r,o,a){var c,s=1&n,l=2&n,d=4&n;if(i&&(c=o?i(t,r,o,a):i(t)),void 0!==c)return c;if(!k(t))return t;var u=ne(t);if(u){if(c=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Xe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!s)return function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(t,c)}else{var h=Ge(t),f=h==lt||"[object GeneratorFunction]"==h;if(Object(ie.a)(t))return Object(we.a)(t,s);if("[object Object]"==h||h==st||f&&!o){if(c=l||f?{}:function(e){return"function"!=typeof e.constructor||ge(e)?{}:it(De(e))}(t),!s)return l?function(e,t){return G(e,Ce(e),t)}(t,function(e,t){return e&&G(t,Se(t),e)}(c,t)):function(e,t){return G(e,Oe(e),t)}(t,function(e,t){return e&&G(t,xe(t),e)}(c,t))}else{if(!dt[h])return o?t:{};c=function(e,t,n){var i,r,o=e.constructor;switch(t){case"[object ArrayBuffer]":return Ze(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var n=t?Ze(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?Ze(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(r=new(i=e).constructor(i.source,Qe.exec(i))).lastIndex=i.lastIndex,r;case"[object Set]":return new o;case"[object Symbol]":return tt?Object(tt.call(e)):{}}}(t,h,s)}}a||(a=new V);var p=a.get(t);if(p)return p;a.set(t,c),ct(t)?t.forEach(function(r){c.add(e(r,n,i,r,t,a))}):ot(t)&&t.forEach(function(r,o){c.set(o,e(r,n,i,o,t,a))});var g=u?void 0:(d?l?Me:Ae:l?Se:xe)(t);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n););}(g||t,function(r,o){g&&(r=t[o=r]),U(c,o,e(r,n,i,o,t,a))}),c};const ht=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]];function ft(e,t){return"rgba("+e.concat(t).join(",")+")"}function pt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function gt(e){return{backgroundColor:e.map(e=>ft(e,.6)),borderColor:e.map(()=>"#fff"),pointBackgroundColor:e.map(e=>ft(e,1)),pointBorderColor:e.map(()=>"#fff"),pointHoverBackgroundColor:e.map(e=>ft(e,1)),pointHoverBorderColor:e.map(e=>ft(e,1))}}function mt(){return[pt(0,255),pt(0,255),pt(0,255)]}function bt(e){return ht[e]||mt()}function vt(e){const t=new Array(e);for(let n=0;n<e;n++)t[n]=ht[n]||mt();return t}let yt=(()=>{class e{constructor(){this.pColorschemesOptions={},this.colorschemesOptions=new l.a({})}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(c.Tb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();var xt=function(e){return e[e.Default=0]="Default",e[e.Update=1]="Update",e[e.Refresh=2]="Refresh",e}({});let Pt=(()=>{class e{constructor(e,t){this.element=e,this.themeService=t,this.options={},this.chartClick=new c.r,this.chartHover=new c.r,this.old={dataExists:!1,dataLength:0,datasetsExists:!1,datasetsLength:0,datasetsDataObjects:[],datasetsDataLengths:[],colorsExists:!1,colors:[],labelsExist:!1,labels:[],legendExists:!1,legend:{}},this.subs=[]}static registerPlugin(e){s.Chart.plugins.register(e)}static unregisterPlugin(e){s.Chart.plugins.unregister(e)}ngOnInit(){this.ctx=this.element.nativeElement.getContext("2d"),this.refresh(),this.subs.push(this.themeService.colorschemesOptions.subscribe(()=>this.themeChanged()))}themeChanged(){this.refresh()}ngDoCheck(){if(!this.chart)return;let e=xt.Default;const t=t=>{e=t>e?t:e};switch(!!this.data!==this.old.dataExists&&(this.propagateDataToDatasets(this.data),this.old.dataExists=!!this.data,t(xt.Update)),this.data&&this.data.length!==this.old.dataLength&&(this.old.dataLength=this.data&&this.data.length||0,t(xt.Update)),!!this.datasets!==this.old.datasetsExists&&(this.old.datasetsExists=!!this.datasets,t(xt.Update)),this.datasets&&this.datasets.length!==this.old.datasetsLength&&(this.old.datasetsLength=this.datasets&&this.datasets.length||0,t(xt.Update)),this.datasets&&this.datasets.filter((e,t)=>e.data!==this.old.datasetsDataObjects[t]).length&&(this.old.datasetsDataObjects=this.datasets.map(e=>e.data),t(xt.Update)),this.datasets&&this.datasets.filter((e,t)=>e.data.length!==this.old.datasetsDataLengths[t]).length&&(this.old.datasetsDataLengths=this.datasets.map(e=>e.data.length),t(xt.Update)),!!this.colors!==this.old.colorsExists&&(this.old.colorsExists=!!this.colors,this.updateColors(),t(xt.Update)),this.colors&&this.colors.filter((e,t)=>!this.colorsEqual(e,this.old.colors[t])).length&&(this.old.colors=this.colors.map(e=>this.copyColor(e)),this.updateColors(),t(xt.Update)),!!this.labels!==this.old.labelsExist&&(this.old.labelsExist=!!this.labels,t(xt.Update)),this.labels&&this.labels.filter((e,t)=>!this.labelsEqual(e,this.old.labels[t])).length&&(this.old.labels=this.labels.map(e=>this.copyLabel(e)),t(xt.Update)),!!this.options.legend!==this.old.legendExists&&(this.old.legendExists=!!this.options.legend,t(xt.Refresh)),this.options.legend&&this.options.legend.position!==this.old.legend.position&&(this.old.legend.position=this.options.legend.position,t(xt.Refresh)),e){case xt.Default:break;case xt.Update:this.update();break;case xt.Refresh:this.refresh()}}copyLabel(e){return Array.isArray(e)?[...e]:e}labelsEqual(e,t){return Array.isArray(e)===Array.isArray(t)&&(Array.isArray(e)||e===t)&&(!Array.isArray(e)||e.length===t.length)&&(!Array.isArray(e)||0===e.filter((e,n)=>e!==t[n]).length)}copyColor(e){return{backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderColor:e.borderColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,pointBorderColor:e.pointBorderColor,pointBackgroundColor:e.pointBackgroundColor,pointBorderWidth:e.pointBorderWidth,pointRadius:e.pointRadius,pointHoverRadius:e.pointHoverRadius,pointHitRadius:e.pointHitRadius,pointHoverBackgroundColor:e.pointHoverBackgroundColor,pointHoverBorderColor:e.pointHoverBorderColor,pointHoverBorderWidth:e.pointHoverBorderWidth,pointStyle:e.pointStyle,hoverBackgroundColor:e.hoverBackgroundColor,hoverBorderColor:e.hoverBorderColor,hoverBorderWidth:e.hoverBorderWidth}}colorsEqual(e,t){return!e==!t&&(!e||e.backgroundColor===t.backgroundColor&&e.borderWidth===t.borderWidth&&e.borderColor===t.borderColor&&e.borderCapStyle===t.borderCapStyle&&e.borderDash===t.borderDash&&e.borderDashOffset===t.borderDashOffset&&e.borderJoinStyle===t.borderJoinStyle&&e.pointBorderColor===t.pointBorderColor&&e.pointBackgroundColor===t.pointBackgroundColor&&e.pointBorderWidth===t.pointBorderWidth&&e.pointRadius===t.pointRadius&&e.pointHoverRadius===t.pointHoverRadius&&e.pointHitRadius===t.pointHitRadius&&e.pointHoverBackgroundColor===t.pointHoverBackgroundColor&&e.pointHoverBorderColor===t.pointHoverBorderColor&&e.pointHoverBorderWidth===t.pointHoverBorderWidth&&e.pointStyle===t.pointStyle&&e.hoverBackgroundColor===t.hoverBackgroundColor&&e.hoverBorderColor===t.hoverBorderColor&&e.hoverBorderWidth===t.hoverBorderWidth)}updateColors(){this.datasets.forEach((e,t)=>{this.colors&&this.colors[t]?Object.assign(e,this.colors[t]):Object.assign(e,function(e,t,n){if("pie"===e||"doughnut"===e)return gt(vt(n));if("polarArea"===e)return{backgroundColor:(i=vt(n)).map(e=>ft(e,.6)),borderColor:i.map(e=>ft(e,1)),hoverBackgroundColor:i.map(e=>ft(e,.8)),hoverBorderColor:i.map(e=>ft(e,1))};var i;if("line"===e||"radar"===e)return function(e){return{backgroundColor:ft(e,.4),borderColor:ft(e,1),pointBackgroundColor:ft(e,1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:ft(e,.8)}}(bt(t));if("bar"===e||"horizontalBar"===e)return function(e){return{backgroundColor:ft(e,.6),borderColor:ft(e,1),hoverBackgroundColor:ft(e,.8),hoverBorderColor:ft(e,1)}}(bt(t));if("bubble"===e)return gt(vt(n));if("scatter"===e)return gt(vt(n));throw new Error(`getColors - Unsupported chart type ${e}`)}(this.chartType,t,e.data.length),Object.assign({},e))})}ngOnChanges(e){let t=xt.Default;const n=e=>{t=e>t?e:t};switch(e.hasOwnProperty("data")&&e.data.currentValue&&(this.propagateDataToDatasets(e.data.currentValue),n(xt.Update)),e.hasOwnProperty("datasets")&&e.datasets.currentValue&&(this.propagateDatasetsToData(e.datasets.currentValue),n(xt.Update)),e.hasOwnProperty("labels")&&(this.chart&&(this.chart.data.labels=e.labels.currentValue),n(xt.Update)),e.hasOwnProperty("legend")&&(this.chart&&(this.chart.config.options.legend.display=e.legend.currentValue,this.chart.generateLegend()),n(xt.Update)),e.hasOwnProperty("options")&&n(xt.Refresh),t){case xt.Update:this.update();break;case xt.Refresh:case xt.Default:this.refresh()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}update(e){return this.chart?this.chart.update(e):null}hideDataset(e,t){this.chart.getDatasetMeta(e).hidden=t,this.chart.update()}isDatasetHidden(e){return this.chart.getDatasetMeta(e).hidden}toBase64Image(){return this.chart.toBase64Image()}getChartConfiguration(){const e=this.getDatasets(),t=Object.assign({},this.options);!1===this.legend&&(t.legend={display:!1}),t.hover=t.hover||{},t.hover.onHover||(t.hover.onHover=(e,t)=>{t&&!t.length||this.chartHover.emit({event:e,active:t})}),t.onClick||(t.onClick=(e,t)=>{this.chartClick.emit({event:e,active:t})});const n=this.smartMerge(t,this.themeService.getColorschemesOptions());return{type:this.chartType,data:{labels:this.labels||[],datasets:e},plugins:this.plugins,options:n}}getChartBuilder(e){const t=this.getChartConfiguration();return new s.Chart(e,t)}smartMerge(e,t,n=0){if(0===n&&(e=ut(e,5)),Object.keys(t).forEach(i=>{if(Array.isArray(t[i])){const r=e[i];r&&r.forEach(e=>{this.smartMerge(e,t[i][0],n+1)})}else"object"==typeof t[i]?(i in e||(e[i]={}),this.smartMerge(e[i],t[i],n+1)):e[i]=t[i]}),0===n)return e}isMultiLineLabel(e){return Array.isArray(e)}joinLabel(e){return e?this.isMultiLineLabel(e)?e.join(" "):e:null}propagateDatasetsToData(e){this.data=this.datasets.map(e=>e.data),this.chart&&(this.chart.data.datasets=e),this.updateColors()}propagateDataToDatasets(e){this.isMultiDataSet(e)?this.datasets&&e.length===this.datasets.length?this.datasets.forEach((t,n)=>{t.data=e[n]}):(this.datasets=e.map((e,t)=>({data:e,label:this.joinLabel(this.labels[t])||`Label ${t}`})),this.chart&&(this.chart.data.datasets=this.datasets)):this.datasets?(this.datasets[0].data=e,this.datasets.splice(1)):(this.datasets=[{data:e}],this.chart&&(this.chart.data.datasets=this.datasets)),this.updateColors()}isMultiDataSet(e){return Array.isArray(e[0])}getDatasets(){if(!this.datasets&&!this.data)throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);return this.datasets?(this.propagateDatasetsToData(this.datasets),this.datasets):this.data?(this.propagateDataToDatasets(this.data),this.datasets):null}refresh(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.ctx&&(this.chart=this.getChartBuilder(this.ctx))}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(c.o),c.Xb(yt))},e.\u0275dir=c.Sb({type:e,selectors:[["canvas","baseChart",""]],inputs:{options:"options",data:"data",datasets:"datasets",labels:"labels",chartType:"chartType",colors:"colors",legend:"legend",plugins:"plugins"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[c.Ib]}),e})(),St=(()=>{class e{}return e.\u0275mod=c.Vb({type:e}),e.\u0275inj=c.Ub({factory:function(t){return new(t||e)},imports:[[]]}),e})();var wt=n("tyNb"),Rt=n("quSY"),kt=n("AytR"),It=n("0IaG"),Ot=n("IRLN"),_t=n("F4W7");function Dt(e,t){1&e&&c.Yb(0,"app-loader")}function Ct(e,t){1&e&&(c.dc(0,"p",3),c.Rc(1,"Pilgrim Details"),c.cc())}function Kt(e,t){if(1&e&&(c.bc(0),c.dc(1,"li",54),c.Rc(2),c.sc(3,"titlecase"),c.dc(4,"a",55),c.Rc(5,"View"),c.cc(),c.cc(),c.ac()),2&e){const e=t.$implicit,n=c.rc(3);c.Kb(2),c.Tc(" ",c.tc(3,2,e.documentName),"\xa0"),c.Kb(2),c.yc("href",n.imageFile(e.docUrl),c.Kc)}}function At(e,t){if(1&e&&(c.bc(0),c.Pc(1,Kt,6,4,"ng-container",56),c.ac()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngForOf",e.attachedDocuments.otherDocuments)}}function Mt(e,t){if(1&e&&(c.dc(0,"mat-dialog-content"),c.dc(1,"h5"),c.Rc(2,"Personal details"),c.cc(),c.Yb(3,"hr",4),c.dc(4,"div",5),c.dc(5,"label",6),c.Rc(6,"Full Name"),c.cc(),c.Yb(7,"input",7),c.sc(8,"uppercase"),c.cc(),c.dc(9,"div",8),c.dc(10,"div",9),c.dc(11,"label",10),c.Rc(12,"Gender"),c.cc(),c.Yb(13,"input",11),c.sc(14,"uppercase"),c.cc(),c.dc(15,"div",9),c.dc(16,"label",12),c.Rc(17,"Marital Status"),c.cc(),c.Yb(18,"input",13),c.sc(19,"uppercase"),c.cc(),c.cc(),c.dc(20,"div",8),c.dc(21,"div",9),c.dc(22,"label",14),c.Rc(23,"State Of Origin"),c.cc(),c.Yb(24,"input",15),c.sc(25,"uppercase"),c.cc(),c.dc(26,"div",9),c.dc(27,"label",16),c.Rc(28,"Local Gov't"),c.cc(),c.Yb(29,"input",17),c.sc(30,"uppercase"),c.cc(),c.cc(),c.dc(31,"div",8),c.dc(32,"div",9),c.dc(33,"label",18),c.Rc(34,"Date Of Birth"),c.cc(),c.Yb(35,"input",19),c.sc(36,"date"),c.cc(),c.dc(37,"div",9),c.dc(38,"label",20),c.Rc(39,"Phone"),c.cc(),c.Yb(40,"input",21),c.cc(),c.cc(),c.dc(41,"div",8),c.dc(42,"div",9),c.dc(43,"label",22),c.Rc(44,"Alternate Phone"),c.cc(),c.Yb(45,"input",23),c.cc(),c.dc(46,"div",9),c.dc(47,"label",24),c.Rc(48,"Email"),c.cc(),c.Yb(49,"input",25),c.cc(),c.cc(),c.dc(50,"div",5),c.dc(51,"label",26),c.Rc(52,"Residential Address"),c.cc(),c.dc(53,"textarea",27),c.sc(54,"uppercase"),c.Rc(55,"    "),c.cc(),c.cc(),c.Yb(56,"br"),c.dc(57,"h5"),c.Rc(58,"Office details"),c.cc(),c.Yb(59,"hr",4),c.dc(60,"div",8),c.dc(61,"div",9),c.dc(62,"label",28),c.Rc(63,"Occupation"),c.cc(),c.Yb(64,"input",29),c.sc(65,"uppercase"),c.cc(),c.dc(66,"div",9),c.dc(67,"label",30),c.Rc(68,"Profession"),c.cc(),c.Yb(69,"input",31),c.sc(70,"uppercase"),c.cc(),c.cc(),c.dc(71,"div",5),c.dc(72,"label",32),c.Rc(73,"Place Of Work"),c.cc(),c.Yb(74,"input",33),c.sc(75,"uppercase"),c.cc(),c.dc(76,"div",5),c.dc(77,"label",34),c.Rc(78,"Office Address"),c.cc(),c.dc(79,"textarea",35),c.sc(80,"uppercase"),c.Rc(81,"    "),c.cc(),c.cc(),c.Yb(82,"br"),c.dc(83,"h5"),c.Rc(84,"Next of kin details"),c.cc(),c.Yb(85,"hr",4),c.dc(86,"div",5),c.dc(87,"label",36),c.Rc(88,"Full Name"),c.cc(),c.Yb(89,"input",37),c.sc(90,"uppercase"),c.cc(),c.dc(91,"div",8),c.dc(92,"div",9),c.dc(93,"label",38),c.Rc(94,"Relationship"),c.cc(),c.Yb(95,"input",39),c.sc(96,"uppercase"),c.cc(),c.dc(97,"div",9),c.dc(98,"label",40),c.Rc(99,"Phone"),c.cc(),c.Yb(100,"input",41),c.cc(),c.cc(),c.dc(101,"div",5),c.dc(102,"label",42),c.Rc(103,"Home Address"),c.cc(),c.dc(104,"textarea",43),c.sc(105,"uppercase"),c.Rc(106,"    "),c.cc(),c.cc(),c.Yb(107,"br"),c.dc(108,"h5"),c.Rc(109,"E-Passport details"),c.cc(),c.Yb(110,"hr",44),c.dc(111,"div",8),c.dc(112,"div",9),c.dc(113,"label",45),c.Rc(114,"Passport Number"),c.cc(),c.Yb(115,"input",46),c.sc(116,"uppercase"),c.cc(),c.dc(117,"div",9),c.dc(118,"label",47),c.Rc(119,"Passport Type"),c.cc(),c.Yb(120,"input",48),c.sc(121,"uppercase"),c.cc(),c.cc(),c.dc(122,"div",8),c.dc(123,"div",9),c.dc(124,"label",49),c.Rc(125,"Date of Issue"),c.cc(),c.Yb(126,"input",50),c.sc(127,"date"),c.cc(),c.dc(128,"div",9),c.dc(129,"label",51),c.Rc(130,"Expiry Date"),c.cc(),c.Yb(131,"input",52),c.sc(132,"date"),c.cc(),c.cc(),c.Yb(133,"br"),c.dc(134,"h5"),c.Rc(135,"Uploaded Documents"),c.cc(),c.dc(136,"ul",53),c.dc(137,"li",54),c.Rc(138," Guarantor Form\xa0"),c.dc(139,"a",55),c.Rc(140,"View"),c.cc(),c.cc(),c.dc(141,"li",54),c.Rc(142," MOU\xa0"),c.dc(143,"a",55),c.Rc(144,"View"),c.cc(),c.cc(),c.dc(145,"li",54),c.Rc(146," E-Passport\xa0"),c.dc(147,"a",55),c.Rc(148,"View"),c.cc(),c.cc(),c.Pc(149,At,2,1,"ng-container",0),c.cc(),c.cc()),2&e){const e=c.rc();c.Kb(7),c.yc("value",c.tc(8,26,e.personalDetails.surname+", "+e.personalDetails.otherNames)),c.Kb(6),c.yc("value",c.tc(14,28,e.personalDetails.sex)),c.Kb(5),c.yc("value",c.tc(19,30,e.personalDetails.maritalStatus)),c.Kb(6),c.yc("value",c.tc(25,32,e.personalDetails.stateOfOrigin.name)),c.Kb(5),c.yc("value",c.tc(30,34,e.personalDetails.localGovOfOrigin.name)),c.Kb(6),c.yc("value",c.uc(36,36,e.personalDetails.dateOfBirth,"longDate")),c.Kb(5),c.yc("value",e.personalDetails.phone),c.Kb(5),c.yc("value",e.personalDetails.alternatePhone),c.Kb(4),c.yc("value",e.personalDetails.email),c.Kb(4),c.yc("value",c.tc(54,39,e.personalDetails.homeAddress)),c.Kb(11),c.yc("value",c.tc(65,41,e.officeDetails.occupation)),c.Kb(5),c.yc("value",c.tc(70,43,e.officeDetails.profession)),c.Kb(5),c.yc("value",c.tc(75,45,e.officeDetails.placeOfWork)),c.Kb(5),c.yc("value",c.tc(80,47,e.officeDetails.officeAddress)),c.Kb(10),c.yc("value",c.tc(90,49,e.nextOfKinDetails.fullName)),c.Kb(6),c.yc("value",c.tc(96,51,e.nextOfKinDetails.relationship)),c.Kb(5),c.yc("value",e.nextOfKinDetails.phone),c.Kb(4),c.yc("value",c.tc(105,53,e.nextOfKinDetails.address)),c.Kb(11),c.yc("value",c.tc(116,55,e.passportDetails.passportNumber)),c.Kb(5),c.yc("value",c.tc(121,57,e.passportDetails.passportType)),c.Kb(6),c.yc("value",c.uc(127,59,e.passportDetails.dateOfIssue,"longDate")),c.Kb(5),c.yc("value",c.uc(132,62,e.passportDetails.expiryDate,"longDate")),c.Kb(8),c.yc("href",e.imageFile(e.attachedDocuments.guarantorFormUrl),c.Kc),c.Kb(4),c.yc("href",e.imageFile(e.attachedDocuments.mouUrl),c.Kc),c.Kb(4),c.yc("href",e.imageFile(e.attachedDocuments.passportUrl),c.Kc),c.Kb(2),c.yc("ngIf",e.attachedDocuments.otherDocuments)}}function Tt(e,t){1&e&&(c.dc(0,"mat-dialog-actions",57),c.dc(1,"button",58),c.Rc(2," Close "),c.cc(),c.cc())}let Ft=(()=>{class e{constructor(e,t){this.data=e,this.loader=t,this.subscription=new Rt.a}ngOnInit(){this.personalDetails=Object.assign({},this.data.personalDetails),this.officeDetails=Object.assign({},this.data.officeDetails),this.nextOfKinDetails=Object.assign({},this.data.nextOfKinDetails),this.passportDetails=Object.assign({},this.data.passportDetails),this.attachedDocuments=Object.assign({},this.data.attachedDocuments),window.scroll(0,0)}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}imageFile(e){return window.scroll(0,0),`${kt.a.pilgrims}/image/${e}`}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(It.a),c.Xb(Ot.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-pilgrim-details"]],decls:4,vars:4,consts:[[4,"ngIf"],["mat-dialog-title","","style","font-size: 160%;",4,"ngIf"],["align","end",4,"ngIf"],["mat-dialog-title","",2,"font-size","160%"],[2,"margin-top","0px","margin-bottom","0px"],[1,"form-group","row","mx-auto"],["for","name"],["type","text","id","name","disabled","",1,"form-control","form-control-sm",3,"value"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","sex"],["type","text","id","sex","disabled","",1,"form-control","form-control-sm",3,"value"],["for","maritalStatus"],["type","text","id","maritalStatus","disabled","",1,"form-control","form-control-sm",3,"value"],["for","stateOfOrigin"],["type","text","id","stateOfOrigin","disabled","",1,"form-control","form-control-sm",3,"value"],["for","lgaOfOrigin"],["type","text","id","lgaOfOrigin","disabled","",1,"form-control","form-control-sm",3,"value"],["for","dateOfBirth"],["type","text","id","dateOfBirth","disabled","",1,"form-control","form-control-sm",3,"value"],["for","phone"],["type","text","id","phone","disabled","",1,"form-control","form-control-sm",3,"value"],["for","altPhone"],["type","text","id","altPhone","disabled","",1,"form-control","form-control-sm",3,"value"],["for","email"],["type","email","id","email","disabled","",1,"form-control","form-control-sm",3,"value"],["for","address"],["id","address","rows","3","disabled","",1,"form-control","form-control-sm",3,"value"],["for","occupation"],["type","text","id","occupation","disabled","",1,"form-control","form-control-sm",3,"value"],["for","profession"],["type","text","id","profession","disabled","",1,"form-control","form-control-sm",3,"value"],["for","placeOfWork"],["type","text","id","placeOfWork","disabled","",1,"form-control","form-control-sm",3,"value"],["for","officeAddress"],["id","officeAddress","rows","3","disabled","",1,"form-control","form-control-sm",3,"value"],["for","kinFullName"],["type","text","id","kinFullName","disabled","",1,"form-control","form-control-sm",3,"value"],["for","relationship"],["type","text","id","relationship","disabled","",1,"form-control","form-control-sm",3,"value"],["for","kinPhone"],["type","text","id","kinPhone","disabled","",1,"form-control","form-control-sm",3,"value"],["for","kinAdress"],["id","kinAdress","rows","3","disabled","",1,"form-control","form-control-sm",3,"value"],[2,"margin-top","0px"],["for","passportNumber"],["type","text","id","passportNumber","disabled","",1,"form-control","form-control-sm",3,"value"],["for","passportType"],["type","text","id","passportType","disabled","",1,"form-control","form-control-sm",3,"value"],["for","dateOfIssue"],["type","text","id","dateOfIssue","disabled","",1,"form-control","form-control-sm",3,"value"],["for","expiryDate"],["type","text","id","expiryDate","disabled","",1,"form-control","form-control-sm",3,"value"],[1,"list-group","mb-3"],[1,"list-group-item"],["target","_blank",1,"float-right",3,"href"],[4,"ngFor","ngForOf"],["align","end"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2"]],template:function(e,t){1&e&&(c.Pc(0,Dt,1,0,"app-loader",0),c.Pc(1,Ct,2,0,"p",1),c.Pc(2,Mt,150,65,"mat-dialog-content",0),c.Pc(3,Tt,3,0,"mat-dialog-actions",2)),2&e&&(c.yc("ngIf",t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible))},directives:[r.p,_t.a,It.h,It.e,r.o,It.c,It.d],pipes:[r.A,r.f,r.y],styles:[""]}),e})();var Nt,Lt=n("wd/R"),zt=new Uint8Array(16);function jt(){if(!Nt&&!(Nt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nt(zt)}for(var Et=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Bt=function(e){return"string"==typeof e&&Et.test(e)},Yt=[],Ht=0;Ht<256;++Ht)Yt.push((Ht+256).toString(16).substr(1));var Vt=function(e,t,n){var i=(e=e||{}).random||(e.rng||jt)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Yt[e[t+0]]+Yt[e[t+1]]+Yt[e[t+2]]+Yt[e[t+3]]+"-"+Yt[e[t+4]]+Yt[e[t+5]]+"-"+Yt[e[t+6]]+Yt[e[t+7]]+"-"+Yt[e[t+8]]+Yt[e[t+9]]+"-"+Yt[e[t+10]]+Yt[e[t+11]]+Yt[e[t+12]]+Yt[e[t+13]]+Yt[e[t+14]]+Yt[e[t+15]]).toLowerCase();if(!Bt(n))throw TypeError("Stringified UUID is invalid");return n}(i)},qt=n("YWmY"),Wt=n("EnSQ"),$t=n("G9Ti"),Ut=n("OC8m"),Gt=n("jhN1");function Xt(e,t){1&e&&c.Yb(0,"app-loader")}function Jt(e,t){1&e&&(c.dc(0,"p",4),c.Rc(1,"Edit Pilgrim"),c.cc())}function Zt(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Qt(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Surname must be minimum ",e.surname.errors.minlength.requiredLength," characters. ")}}function en(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Surname must be maximum ",e.surname.errors.maxlength.requiredLength," characters. ")}}function tn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,Zt,2,0,"div",1),c.Pc(2,Qt,2,1,"div",1),c.Pc(3,en,2,1,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.surname.errors.required),c.Kb(1),c.yc("ngIf",e.surname.errors.minlength),c.Kb(1),c.yc("ngIf",e.surname.errors.maxlength)}}function nn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function rn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Other names must be minimum ",e.otherNames.errors.minlength.requiredLength," characters. ")}}function on(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Other names must be maximum ",e.otherNames.errors.maxlength.requiredLength," characters. ")}}function an(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,nn,2,0,"div",1),c.Pc(2,rn,2,1,"div",1),c.Pc(3,on,2,1,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.otherNames.errors.required),c.Kb(1),c.yc("ngIf",e.otherNames.errors.minlength),c.Kb(1),c.yc("ngIf",e.otherNames.errors.maxlength)}}function cn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's gender. "),c.cc())}function sn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,cn,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.sex.errors.required)}}function ln(e,t){if(1&e&&(c.dc(0,"option",69),c.Rc(1),c.sc(2,"uppercase"),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(c.tc(2,2,e))}}function dn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's marital status. "),c.cc())}function un(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,dn,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.maritalStatus.errors.required)}}function hn(e,t){if(1&e&&(c.dc(0,"option",69),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function fn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's state of origin. "),c.cc())}function pn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,fn,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.stateOfOrigin.errors.required)}}function gn(e,t){1&e&&(c.bc(0),c.Yb(1,"label"),c.dc(2,"div",70),c.dc(3,"div",71),c.dc(4,"span",72),c.Rc(5,"Loading..."),c.cc(),c.cc(),c.dc(6,"div",71),c.dc(7,"span",72),c.Rc(8,"Loading..."),c.cc(),c.cc(),c.dc(9,"div",71),c.dc(10,"span",72),c.Rc(11,"Loading..."),c.cc(),c.cc(),c.dc(12,"div",71),c.dc(13,"span",72),c.Rc(14,"Loading..."),c.cc(),c.cc(),c.cc(),c.ac())}function mn(e,t){if(1&e&&(c.dc(0,"option",69),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function bn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's marital status. "),c.cc())}function vn(e,t){if(1&e&&(c.dc(0,"div",76),c.Pc(1,bn,2,0,"div",1),c.cc()),2&e){const e=c.rc(3);c.yc("hidden",e.lgas.length<1),c.Kb(1),c.yc("ngIf",e.localGovOfOrigin.errors.required)}}function yn(e,t){if(1&e&&(c.bc(0),c.dc(1,"label",73),c.Rc(2,"Local Government"),c.cc(),c.dc(3,"select",74),c.dc(4,"option",16),c.Rc(5,"Select local government"),c.cc(),c.Pc(6,mn,2,2,"option",21),c.cc(),c.Pc(7,vn,2,2,"div",75),c.ac()),2&e){const e=c.rc(2);c.Kb(1),c.Pb("text-danger",e.localGovOfOrigin.touched&&e.localGovOfOrigin.invalid),c.yc("hidden",!e.showLga),c.Kb(2),c.Pb("error-control",e.localGovOfOrigin.touched&&e.localGovOfOrigin.invalid),c.yc("hidden",!e.showLga),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.lgas),c.Kb(1),c.yc("ngIf",e.localGovOfOrigin.touched&&e.localGovOfOrigin.invalid)}}function xn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Pn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Address must be minimum ",e.homeAddress.errors.minlength.requiredLength," characters. ")}}function Sn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Address must be maximum ",e.homeAddress.errors.maxlength.requiredLength," characters. ")}}function wn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,xn,2,0,"div",1),c.Pc(2,Pn,2,1,"div",1),c.Pc(3,Sn,2,1,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.homeAddress.errors.required),c.Kb(1),c.yc("ngIf",e.homeAddress.errors.minlength),c.Kb(1),c.yc("ngIf",e.homeAddress.errors.maxlength)}}function Rn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a valid date. "),c.cc())}function kn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,Rn,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.dateOfBirth.errors.required)}}function In(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This Field is required "),c.cc())}function On(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Phone must be minimum ",e.phone.errors.minlength.requiredLength," characters. ")}}function _n(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Phone must be maximum ",e.phone.errors.maxlength.requiredLength," characters. ")}}function Dn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid phone number. "),c.cc())}function Cn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,In,2,0,"div",1),c.Pc(2,On,2,1,"div",1),c.Pc(3,_n,2,1,"div",1),c.Pc(4,Dn,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.phone.errors.required),c.Kb(1),c.yc("ngIf",e.phone.errors.minlength),c.Kb(1),c.yc("ngIf",e.phone.errors.maxlength),c.Kb(1),c.yc("ngIf",e.phone.errors.pattern)}}function Kn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid phone number. "),c.cc())}function An(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,Kn,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.alternatePhone.errors.pattern)}}function Mn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid email address. "),c.cc())}function Tn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,Mn,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.email.errors.email)}}function Fn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Nn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Occupation must be minimum ",e.occupation.errors.minlength.requiredLength," characters. ")}}function Ln(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Occupation must be maximum ",e.occupation.errors.maxlength.requiredLength," characters. ")}}function zn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,Fn,2,0,"div",1),c.Pc(2,Nn,2,1,"div",1),c.Pc(3,Ln,2,1,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.occupation.errors.required),c.Kb(1),c.yc("ngIf",e.occupation.errors.minlength),c.Kb(1),c.yc("ngIf",e.occupation.errors.maxlength)}}function jn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function En(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Profession must be minimum ",e.profession.errors.minlength.requiredLength," characters. ")}}function Bn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Profession must be maximum ",e.profession.errors.maxlength.requiredLength," characters. ")}}function Yn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,jn,2,0,"div",1),c.Pc(2,En,2,1,"div",1),c.Pc(3,Bn,2,1,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.profession.errors.required),c.Kb(1),c.yc("ngIf",e.profession.errors.minlength),c.Kb(1),c.yc("ngIf",e.profession.errors.maxlength)}}function Hn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Vn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Place of work must be minimum ",e.placeOfWork.errors.minlength.requiredLength," characters. ")}}function qn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Place of work must be maximum ",e.placeOfWork.errors.maxlength.requiredLength," characters. ")}}function Wn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,Hn,2,0,"div",1),c.Pc(2,Vn,2,1,"div",1),c.Pc(3,qn,2,1,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.placeOfWork.errors.required),c.Kb(1),c.yc("ngIf",e.placeOfWork.errors.minlength),c.Kb(1),c.yc("ngIf",e.placeOfWork.errors.maxlength)}}function $n(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Un(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Office address must be minimum ",e.officeAddress.errors.minlength.requiredLength," characters. ")}}function Gn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Office address must be maximum ",e.officeAddress.errors.maxlength.requiredLength," characters. ")}}function Xn(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,$n,2,0,"div",1),c.Pc(2,Un,2,1,"div",1),c.Pc(3,Gn,2,1,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.officeAddress.errors.required),c.Kb(1),c.yc("ngIf",e.officeAddress.errors.minlength),c.Kb(1),c.yc("ngIf",e.officeAddress.errors.maxlength)}}function Jn(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Zn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Next of kin name must be minimum ",e.nextOfKinFullName.errors.minlength.requiredLength," characters. ")}}function Qn(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Next of kin name must be maximum ",e.nextOfKinFullName.errors.maxlength.requiredLength," characters. ")}}function ei(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,Jn,2,0,"div",1),c.Pc(2,Zn,2,1,"div",1),c.Pc(3,Qn,2,1,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.nextOfKinFullName.errors.required),c.Kb(1),c.yc("ngIf",e.nextOfKinFullName.errors.minlength),c.Kb(1),c.yc("ngIf",e.nextOfKinFullName.errors.maxlength)}}function ti(e,t){if(1&e&&(c.dc(0,"option",69),c.Rc(1),c.sc(2,"uppercase"),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(c.tc(2,2,e))}}function ni(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's next of kin nextOfKinRelationship. "),c.cc())}function ii(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,ni,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.nextOfKinRelationship.errors.required)}}function ri(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This Field is required "),c.cc())}function oi(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Phone must be minimum ",e.nextOfKinPhone.errors.minlength.requiredLength," characters. ")}}function ai(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Phone must be maximum ",e.nextOfKinPhone.errors.maxlength.requiredLength," characters. ")}}function ci(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid phone number. "),c.cc())}function si(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,ri,2,0,"div",1),c.Pc(2,oi,2,1,"div",1),c.Pc(3,ai,2,1,"div",1),c.Pc(4,ci,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.nextOfKinPhone.errors.required),c.Kb(1),c.yc("ngIf",e.nextOfKinPhone.errors.minlength),c.Kb(1),c.yc("ngIf",e.nextOfKinPhone.errors.maxlength),c.Kb(1),c.yc("ngIf",e.nextOfKinPhone.errors.pattern)}}function li(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function di(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Address must be minimum ",e.nextOfKinAddress.errors.minlength.requiredLength," characters. ")}}function ui(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Address must be maximum ",e.nextOfKinAddress.errors.maxlength.requiredLength," characters. ")}}function hi(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,li,2,0,"div",1),c.Pc(2,di,2,1,"div",1),c.Pc(3,ui,2,1,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.nextOfKinAddress.errors.required),c.Kb(1),c.yc("ngIf",e.nextOfKinAddress.errors.minlength),c.Kb(1),c.yc("ngIf",e.nextOfKinAddress.errors.maxlength)}}function fi(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function pi(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,fi,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.passportNumber.errors.required)}}function gi(e,t){if(1&e&&(c.dc(0,"option",69),c.Rc(1),c.sc(2,"uppercase"),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(c.tc(2,2,e))}}function mi(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's passport type. "),c.cc())}function bi(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,mi,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.passportType.errors.required)}}function vi(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a valid date. "),c.cc())}function yi(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,vi,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.dateOfIssue.errors.required||e.dateOfIssue.errors.greaterThanToday)}}function xi(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a valid date. "),c.cc())}function Pi(e,t){if(1&e&&(c.dc(0,"div",68),c.Pc(1,xi,2,0,"div",1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.expiryDate.errors.required)}}function Si(e,t){if(1&e){const e=c.ec();c.bc(0),c.dc(1,"li",61),c.Rc(2),c.sc(3,"uppercase"),c.dc(4,"a",62),c.Rc(5,"View"),c.cc(),c.dc(6,"a",63),c.nc("click",function(){return c.Jc(e),c.Hc(9).click()}),c.Rc(7,"Change"),c.cc(),c.dc(8,"input",64,78),c.nc("change",function(n){c.Jc(e);const i=t.index;return c.rc(3).otherFilesChanged(i,n.target.files[0])}),c.cc(),c.cc(),c.ac()}if(2&e){const e=t.$implicit,n=c.rc(3);c.Kb(2),c.Tc(" ",c.tc(3,2,e.documentName+" ")," "),c.Kb(2),c.yc("href",n.imageFile(e.docUrl),c.Kc)}}function wi(e,t){if(1&e&&(c.bc(0),c.Pc(1,Si,10,4,"ng-container",77),c.ac()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngForOf",e.attachedDocuments.otherDocuments)}}function Ri(e,t){if(1&e){const e=c.ec();c.dc(0,"mat-dialog-content"),c.dc(1,"form",5),c.dc(2,"h5"),c.Rc(3,"Personal details"),c.cc(),c.Yb(4,"hr",6),c.dc(5,"div",7),c.dc(6,"div",8),c.dc(7,"label",9),c.Rc(8,"Surname"),c.cc(),c.Yb(9,"input",10),c.Pc(10,tn,4,3,"div",11),c.cc(),c.dc(11,"div",8),c.dc(12,"label",12),c.Rc(13,"Other Names"),c.cc(),c.Yb(14,"input",13),c.Pc(15,an,4,3,"div",11),c.cc(),c.cc(),c.dc(16,"div",7),c.dc(17,"div",8),c.dc(18,"label",14),c.Rc(19,"Sex"),c.cc(),c.dc(20,"select",15),c.dc(21,"option",16),c.Rc(22,"Select sex"),c.cc(),c.dc(23,"option",17),c.Rc(24,"Male"),c.cc(),c.dc(25,"option",18),c.Rc(26,"Female"),c.cc(),c.cc(),c.Pc(27,sn,2,1,"div",11),c.cc(),c.dc(28,"div",8),c.dc(29,"label",19),c.Rc(30,"Marital Status"),c.cc(),c.dc(31,"select",20),c.dc(32,"option",16),c.Rc(33,"Select marital status"),c.cc(),c.Pc(34,ln,3,4,"option",21),c.cc(),c.Pc(35,un,2,1,"div",11),c.cc(),c.cc(),c.dc(36,"div",7),c.dc(37,"div",8),c.dc(38,"label",22),c.Rc(39,"State of Origin"),c.cc(),c.dc(40,"select",23),c.nc("change",function(){c.Jc(e);const t=c.rc();return t.getLocalGovs(t.stateOfOrigin.value)}),c.dc(41,"option",16),c.Rc(42,"Select state of origin"),c.cc(),c.Pc(43,hn,2,2,"option",21),c.cc(),c.Pc(44,pn,2,1,"div",11),c.cc(),c.dc(45,"div",8),c.bc(46,24),c.Pc(47,gn,15,0,"ng-container",25),c.Pc(48,yn,8,9,"ng-container",25),c.ac(),c.cc(),c.cc(),c.dc(49,"div",26),c.dc(50,"label",27),c.Rc(51,"Residential Address"),c.cc(),c.dc(52,"textarea",28),c.Rc(53,"        "),c.cc(),c.Pc(54,wn,4,3,"div",11),c.cc(),c.dc(55,"div",7),c.dc(56,"div",8),c.dc(57,"label",29),c.Rc(58," Date of Birth "),c.cc(),c.Yb(59,"input",30),c.Pc(60,kn,2,1,"div",11),c.cc(),c.dc(61,"div",8),c.dc(62,"label",31),c.Rc(63," Phone "),c.cc(),c.Yb(64,"input",32),c.Pc(65,Cn,5,4,"div",11),c.cc(),c.cc(),c.dc(66,"div",7),c.dc(67,"div",8),c.dc(68,"label",33),c.Rc(69," Alternate Phone "),c.cc(),c.Yb(70,"input",34),c.Pc(71,An,2,1,"div",11),c.cc(),c.dc(72,"div",8),c.dc(73,"label",35),c.Rc(74," Email "),c.cc(),c.Yb(75,"input",36),c.Pc(76,Tn,2,1,"div",11),c.cc(),c.cc(),c.cc(),c.dc(77,"form",5),c.Yb(78,"br"),c.dc(79,"h5"),c.Rc(80,"Office details"),c.cc(),c.Yb(81,"hr",6),c.dc(82,"div",7),c.dc(83,"div",8),c.dc(84,"label",37),c.Rc(85,"Occupation"),c.cc(),c.Yb(86,"input",38),c.Pc(87,zn,4,3,"div",11),c.cc(),c.dc(88,"div",8),c.dc(89,"label",39),c.Rc(90,"Profession"),c.cc(),c.Yb(91,"input",40),c.Pc(92,Yn,4,3,"div",11),c.cc(),c.cc(),c.dc(93,"div",26),c.dc(94,"label",41),c.Rc(95,"Place of Work"),c.cc(),c.Yb(96,"input",42),c.Pc(97,Wn,4,3,"div",11),c.cc(),c.dc(98,"div",26),c.dc(99,"label",43),c.Rc(100,"Office Address"),c.cc(),c.dc(101,"textarea",44),c.Rc(102,"        "),c.cc(),c.Pc(103,Xn,4,3,"div",11),c.cc(),c.cc(),c.dc(104,"form",5),c.Yb(105,"br"),c.dc(106,"h5"),c.Rc(107,"Next of kin details"),c.cc(),c.Yb(108,"hr",45),c.dc(109,"div",26),c.dc(110,"label",46),c.Rc(111,"Full Name"),c.cc(),c.Yb(112,"input",47),c.Pc(113,ei,4,3,"div",11),c.cc(),c.dc(114,"div",7),c.dc(115,"div",8),c.dc(116,"label",48),c.Rc(117,"Relationship"),c.cc(),c.dc(118,"select",49),c.dc(119,"option",16),c.Rc(120,"Select relationship"),c.cc(),c.Pc(121,ti,3,4,"option",21),c.cc(),c.Pc(122,ii,2,1,"div",11),c.cc(),c.dc(123,"div",8),c.dc(124,"label",31),c.Rc(125," Phone "),c.cc(),c.Yb(126,"input",32),c.Pc(127,si,5,4,"div",11),c.cc(),c.cc(),c.dc(128,"div",26),c.dc(129,"label",50),c.Rc(130,"Residential Address"),c.cc(),c.dc(131,"textarea",51),c.Rc(132,"        "),c.cc(),c.Pc(133,hi,4,3,"div",11),c.cc(),c.cc(),c.dc(134,"form",5),c.Yb(135,"br"),c.dc(136,"h5"),c.Rc(137,"E-Passport details"),c.cc(),c.Yb(138,"hr",6),c.dc(139,"div",7),c.dc(140,"div",8),c.dc(141,"label",52),c.Rc(142," Passport Number "),c.cc(),c.Yb(143,"input",53),c.Pc(144,pi,2,1,"div",11),c.cc(),c.dc(145,"div",8),c.dc(146,"label",54),c.Rc(147," Passport Type "),c.cc(),c.dc(148,"select",55),c.dc(149,"option",16),c.Rc(150,"Select passport type"),c.cc(),c.Pc(151,gi,3,4,"option",21),c.cc(),c.Pc(152,bi,2,1,"div",11),c.cc(),c.cc(),c.dc(153,"div",7),c.dc(154,"div",8),c.dc(155,"label",56),c.Rc(156," Date of Issue "),c.cc(),c.Yb(157,"input",57),c.Pc(158,yi,2,1,"div",11),c.cc(),c.dc(159,"div",8),c.dc(160,"label",58),c.Rc(161," Expiry Date "),c.cc(),c.Yb(162,"input",59),c.Pc(163,Pi,2,1,"div",11),c.cc(),c.cc(),c.cc(),c.Yb(164,"hr"),c.dc(165,"h5"),c.Rc(166,"Uploaded Documents"),c.cc(),c.dc(167,"ul",60),c.dc(168,"li",61),c.Rc(169," Guarantor Form\xa0"),c.dc(170,"a",62),c.Rc(171,"View"),c.cc(),c.dc(172,"a",63),c.nc("click",function(){return c.Jc(e),c.Hc(175).click()}),c.Rc(173,"Change"),c.cc(),c.dc(174,"input",64,65),c.nc("change",function(t){return c.Jc(e),c.rc().fileChanged(t.target.files[0],"guarantorFormUrl")}),c.cc(),c.cc(),c.dc(176,"li",61),c.Rc(177," MOU\xa0"),c.dc(178,"a",62),c.Rc(179,"View"),c.cc(),c.dc(180,"a",63),c.nc("click",function(){return c.Jc(e),c.Hc(183).click()}),c.Rc(181,"Change"),c.cc(),c.dc(182,"input",64,66),c.nc("change",function(t){return c.Jc(e),c.rc().fileChanged(t.target.files[0],"mouUrl")}),c.cc(),c.cc(),c.dc(184,"li",61),c.Rc(185," E-Passport\xa0"),c.dc(186,"a",62),c.Rc(187,"View"),c.cc(),c.dc(188,"a",63),c.nc("click",function(){return c.Jc(e),c.Hc(191).click()}),c.Rc(189,"Change"),c.cc(),c.dc(190,"input",64,67),c.nc("change",function(t){return c.Jc(e),c.rc().fileChanged(t.target.files[0],"passportUrl")}),c.cc(),c.cc(),c.Pc(192,wi,2,1,"ng-container",1),c.cc(),c.cc()}if(2&e){const e=c.rc();c.Kb(1),c.yc("formGroup",e.personalDetailsForm),c.Kb(6),c.Pb("text-danger",e.surname.touched&&e.surname.invalid),c.Kb(2),c.Pb("error-control",e.surname.touched&&e.surname.invalid),c.Kb(1),c.yc("ngIf",e.surname.touched&&e.surname.invalid),c.Kb(2),c.Pb("text-danger",e.otherNames.touched&&e.otherNames.invalid),c.Kb(2),c.Pb("error-control",e.otherNames.touched&&e.otherNames.invalid),c.Kb(1),c.yc("ngIf",e.otherNames.touched&&e.otherNames.invalid),c.Kb(3),c.Pb("text-danger",e.sex.touched&&e.sex.invalid),c.Kb(2),c.Pb("error-control",e.sex.touched&&e.sex.invalid),c.Kb(1),c.yc("value",null),c.Kb(6),c.yc("ngIf",e.sex.touched&&e.sex.invalid),c.Kb(2),c.Pb("text-danger",e.maritalStatus.touched&&e.maritalStatus.invalid),c.Kb(2),c.Pb("error-control",e.maritalStatus.touched&&e.maritalStatus.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.maritalStatuses),c.Kb(1),c.yc("ngIf",e.maritalStatus.touched&&e.maritalStatus.invalid),c.Kb(3),c.Pb("text-danger",e.stateOfOrigin.touched&&e.stateOfOrigin.invalid),c.Kb(2),c.Pb("error-control",e.stateOfOrigin.touched&&e.stateOfOrigin.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.states),c.Kb(1),c.yc("ngIf",e.stateOfOrigin.touched&&e.stateOfOrigin.invalid),c.Kb(2),c.yc("ngSwitch",e.lgLoader),c.Kb(1),c.yc("ngSwitchCase",!0),c.Kb(1),c.yc("ngSwitchCase",!1),c.Kb(2),c.Pb("text-danger",e.homeAddress.touched&&e.homeAddress.invalid),c.Kb(2),c.Pb("error-control",e.homeAddress.touched&&e.homeAddress.invalid),c.Kb(2),c.yc("ngIf",e.homeAddress.touched&&e.homeAddress.invalid),c.Kb(3),c.Pb("text-danger",e.dateOfBirth.touched&&e.dateOfBirth.invalid),c.Kb(2),c.Pb("error-control",e.dateOfBirth.touched&&e.dateOfBirth.invalid),c.Kb(1),c.yc("ngIf",e.dateOfBirth.touched&&e.dateOfBirth.invalid),c.Kb(2),c.Pb("text-danger",e.phone.touched&&e.phone.invalid),c.Kb(2),c.Pb("error-control",e.phone.touched&&e.phone.invalid),c.Kb(1),c.yc("ngIf",e.phone.touched&&e.phone.invalid),c.Kb(3),c.Pb("text-danger",e.alternatePhone.touched&&e.alternatePhone.invalid),c.Kb(2),c.Pb("error-control",e.alternatePhone.touched&&e.alternatePhone.invalid),c.Kb(1),c.yc("ngIf",e.alternatePhone.touched&&e.alternatePhone.invalid),c.Kb(2),c.Pb("text-danger",e.email.touched&&e.email.invalid),c.Kb(2),c.Pb("error-control",e.email.touched&&e.email.invalid),c.Kb(1),c.yc("ngIf",e.email.touched&&e.email.invalid),c.Kb(1),c.yc("formGroup",e.officeDetailsForm),c.Kb(7),c.Pb("text-danger",e.occupation.touched&&e.occupation.invalid),c.Kb(2),c.Pb("error-control",e.occupation.touched&&e.occupation.invalid),c.Kb(1),c.yc("ngIf",e.occupation.touched&&e.occupation.invalid),c.Kb(2),c.Pb("text-danger",e.profession.touched&&e.profession.invalid),c.Kb(2),c.Pb("error-control",e.profession.touched&&e.profession.invalid),c.Kb(1),c.yc("ngIf",e.profession.touched&&e.profession.invalid),c.Kb(2),c.Pb("text-danger",e.placeOfWork.touched&&e.placeOfWork.invalid),c.Kb(2),c.Pb("error-control",e.placeOfWork.touched&&e.placeOfWork.invalid),c.Kb(1),c.yc("ngIf",e.placeOfWork.touched&&e.placeOfWork.invalid),c.Kb(2),c.Pb("text-danger",e.officeAddress.touched&&e.officeAddress.invalid),c.Kb(2),c.Pb("error-control",e.officeAddress.touched&&e.officeAddress.invalid),c.Kb(2),c.yc("ngIf",e.officeAddress.touched&&e.officeAddress.invalid),c.Kb(1),c.yc("formGroup",e.nextOfKinDetailsForm),c.Kb(6),c.Pb("text-danger",e.nextOfKinFullName.touched&&e.nextOfKinFullName.invalid),c.Kb(2),c.Pb("error-control",e.nextOfKinFullName.touched&&e.nextOfKinFullName.invalid),c.Kb(1),c.yc("ngIf",e.nextOfKinFullName.touched&&e.nextOfKinFullName.invalid),c.Kb(3),c.Pb("text-danger",e.nextOfKinRelationship.touched&&e.nextOfKinRelationship.invalid),c.Kb(2),c.Pb("error-control",e.nextOfKinRelationship.touched&&e.nextOfKinRelationship.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.relationships),c.Kb(1),c.yc("ngIf",e.nextOfKinRelationship.touched&&e.nextOfKinRelationship.invalid),c.Kb(2),c.Pb("text-danger",e.nextOfKinPhone.touched&&e.nextOfKinPhone.invalid),c.Kb(2),c.Pb("error-control",e.nextOfKinPhone.touched&&e.nextOfKinPhone.invalid),c.Kb(1),c.yc("ngIf",e.nextOfKinPhone.touched&&e.nextOfKinPhone.invalid),c.Kb(2),c.Pb("text-danger",e.nextOfKinAddress.touched&&e.nextOfKinAddress.invalid),c.Kb(2),c.Pb("error-control",e.nextOfKinAddress.touched&&e.nextOfKinAddress.invalid),c.Kb(2),c.yc("ngIf",e.nextOfKinAddress.touched&&e.nextOfKinAddress.invalid),c.Kb(1),c.yc("formGroup",e.passportDetailsForm),c.Kb(7),c.Pb("text-danger",e.passportNumber.touched&&e.passportNumber.invalid),c.Kb(2),c.Pb("error-control",e.passportNumber.touched&&e.passportNumber.invalid),c.Kb(1),c.yc("ngIf",e.passportNumber.touched&&e.passportNumber.invalid),c.Kb(2),c.Pb("text-danger",e.passportType.touched&&e.passportType.invalid),c.Kb(2),c.Pb("error-control",e.passportType.touched&&e.passportType.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.passportTypes),c.Kb(1),c.yc("ngIf",e.passportType.touched&&e.passportType.invalid),c.Kb(3),c.Pb("text-danger",e.dateOfIssue.touched&&e.dateOfIssue.invalid),c.Kb(2),c.Pb("error-control",e.dateOfIssue.touched&&e.dateOfIssue.invalid),c.Kb(1),c.yc("ngIf",e.dateOfIssue.touched&&e.dateOfIssue.invalid),c.Kb(2),c.Pb("text-danger",e.expiryDate.touched&&e.expiryDate.invalid),c.Kb(2),c.Pb("error-control",e.expiryDate.touched&&e.expiryDate.invalid),c.Kb(1),c.yc("ngIf",e.expiryDate.touched&&e.expiryDate.invalid),c.Kb(7),c.yc("href",e.imageFile(e.attachedDocuments.guarantorFormUrl),c.Kc),c.Kb(8),c.yc("href",e.imageFile(e.attachedDocuments.mouUrl),c.Kc),c.Kb(8),c.yc("href",e.imageFile(e.attachedDocuments.passportUrl),c.Kc),c.Kb(6),c.yc("ngIf",e.attachedDocuments.otherDocuments)}}function ki(e,t){if(1&e&&(c.dc(0,"mat-dialog-actions",79),c.dc(1,"button",80),c.Rc(2," Close "),c.cc(),c.dc(3,"button",81),c.Rc(4," Save "),c.cc(),c.cc()),2&e){const e=c.rc();c.Kb(1),c.yc("disabled",e.loader.loaderVisible),c.Kb(2),c.yc("disabled",e.loader.loaderVisible||!e.formsValid)}}let Ii=(()=>{class e{constructor(e,t,n,i,r,o,a,c){this.data=e,this.dataService=t,this.formsService=n,this.loader=i,this.fb=r,this.notifications=o,this.sanitizer=a,this.dialogRef=c,this.banks=[],this.states=[],this.lgas=[],this.lgLoader=!1,this.showLga=!1,this.subscription=new Rt.a,this.passportTypes=["normal","official","diplomatic"],this.token=sessionStorage.getItem("token"),this.uploadedDocuments={},this.relationships=["mother","father","sibling","grand parent","uncle","aunt","cousin","niece","nephew","child","spouse"],this.maritalStatuses=["single","married","divorced","widow","widower"]}ngOnInit(){this.personalDetails=Object.assign({},this.data.personalDetails),this.officeDetails=Object.assign({},this.data.officeDetails),this.passportDetails=Object.assign({},this.data.passportDetails),this.attachedDocuments=Object.assign({},this.data.attachedDocuments),this.nextOfKinDetails=Object.assign({},this.data.nextOfKinDetails),this.initializeForm(),this.getStates()}imageFile(e){return window.scroll(0,0),`${kt.a.pilgrims}/image/${e}`}initializeForm(){this.editPilgrimForm=this.fb.group({personalDetails:this.fb.group({surname:[this.personalDetails.surname,[i.z.required,i.z.minLength(2),i.z.maxLength(24)]],otherNames:[this.personalDetails.otherNames,[i.z.required,i.z.minLength(2),i.z.maxLength(150)]],sex:[this.personalDetails.sex,i.z.required],maritalStatus:[this.personalDetails.maritalStatus,i.z.required],homeAddress:[this.personalDetails.homeAddress,[i.z.required,i.z.minLength(5),i.z.maxLength(50)]],stateOfOrigin:[this.personalDetails.stateOfOrigin._id,i.z.required],localGovOfOrigin:[this.personalDetails.localGovOfOrigin._id,i.z.required],dateOfBirth:[Lt(new Date(this.personalDetails.dateOfBirth)).format("YYYY-MM-DD"),[i.z.required,qt.a.greaterThanToday]],phone:[this.personalDetails.phone,[i.z.required,i.z.minLength(11),i.z.maxLength(11),i.z.pattern(/^[0-9]{11}$/)]],alternatePhone:[this.personalDetails.alternatePhone,i.z.pattern(/^[0-9]{11}$/)],email:[this.personalDetails.email,i.z.email]}),officeDetails:this.fb.group({occupation:[this.officeDetails.occupation,[i.z.required,i.z.minLength(3),i.z.maxLength(50)]],placeOfWork:[this.officeDetails.placeOfWork,[i.z.required,i.z.minLength(3),i.z.maxLength(50)]],officeAddress:[this.officeDetails.officeAddress,[i.z.required,i.z.minLength(3),i.z.maxLength(50)]],profession:[this.officeDetails.profession,[i.z.required,i.z.minLength(3),i.z.maxLength(50)]]}),nextOfKinDetails:this.fb.group({fullName:[this.nextOfKinDetails.fullName,[i.z.required,i.z.minLength(5),i.z.maxLength(50)]],address:[this.nextOfKinDetails.address,[i.z.required,i.z.minLength(5),i.z.maxLength(50)]],phone:[this.nextOfKinDetails.phone,[i.z.required,i.z.minLength(11),i.z.maxLength(11),i.z.pattern(/^[0-9]{11}/)]],relationship:[this.nextOfKinDetails.relationship,i.z.required]}),passportDetails:this.fb.group({passportType:[this.passportDetails.passportType,i.z.required],passportNumber:[this.passportDetails.passportNumber,i.z.required],placeOfIssue:[this.passportDetails.placeOfIssue,i.z.required],dateOfIssue:[Lt(new Date(this.passportDetails.dateOfIssue)).format("YYYY-MM-DD"),[i.z.required,qt.a.greaterThanToday]],expiryDate:[Lt(new Date(this.passportDetails.expiryDate)).format("YYYY-MM-DD"),[i.z.required,qt.a.lessThanToday]]}),attachedDocuments:this.fb.group({guarantorFormUrl:[this.attachedDocuments.guarantorFormUrl,i.z.required],passportUrl:[this.attachedDocuments.passportUrl,i.z.required],mouUrl:[this.attachedDocuments.mouUrl,i.z.required],otherDocuments:this.fb.array([])})});const e=this.editPilgrimForm.get("attachedDocuments").get("otherDocuments");this.attachedDocuments.otherDocuments.forEach(t=>{const n=this.formsService.docForm;n.patchValue({documentName:t.documentName,docUrl:t.docUrl}),e.push(n)})}get personalDetailsForm(){return this.editPilgrimForm.get("personalDetails")}get officeDetailsForm(){return this.editPilgrimForm.get("officeDetails")}get passportDetailsForm(){return this.editPilgrimForm.get("passportDetails")}get nextOfKinDetailsForm(){return this.editPilgrimForm.get("nextOfKinDetails")}get surname(){return this.personalDetailsForm.get("surname")}get otherNames(){return this.personalDetailsForm.get("otherNames")}get sex(){return this.personalDetailsForm.get("sex")}get maritalStatus(){return this.personalDetailsForm.get("maritalStatus")}get homeAddress(){return this.personalDetailsForm.get("homeAddress")}get stateOfOrigin(){return this.personalDetailsForm.get("stateOfOrigin")}get localGovOfOrigin(){return this.personalDetailsForm.get("localGovOfOrigin")}get dateOfBirth(){return this.personalDetailsForm.get("dateOfBirth")}get phone(){return this.personalDetailsForm.get("phone")}get alternatePhone(){return this.personalDetailsForm.get("alternatePhone")}get email(){return this.personalDetailsForm.get("email")}get occupation(){return this.officeDetailsForm.get("occupation")}get placeOfWork(){return this.officeDetailsForm.get("placeOfWork")}get officeAddress(){return this.officeDetailsForm.get("officeAddress")}get profession(){return this.officeDetailsForm.get("profession")}get passportType(){return this.passportDetailsForm.get("passportType")}get passportNumber(){return this.passportDetailsForm.get("passportNumber")}get dateOfIssue(){return this.passportDetailsForm.get("dateOfIssue")}get expiryDate(){return this.passportDetailsForm.get("expiryDate")}get nextOfKinFullName(){return this.nextOfKinDetailsForm.get("fullName")}get nextOfKinAddress(){return this.nextOfKinDetailsForm.get("address")}get nextOfKinPhone(){return this.nextOfKinDetailsForm.get("phone")}get nextOfKinRelationship(){return this.nextOfKinDetailsForm.get("relationship")}get attachDocumentsForm(){return this.editPilgrimForm.get("attachedDocuments")}fileChanged(e,t){if(!["jpeg","jpg","png",".pdf"].includes(e.name.split(".").pop()))return void this.notifications.errorToast("Please attach an image or pdf file");const n=new FileReader;n.readAsDataURL(e),n.onload=()=>{const i=n.result.toString(),r=Vt()+"."+e.name.split(".").pop();this.attachDocumentsForm.get(t).patchValue(r),this.uploadedDocuments[t]={file:e,dataUrl:this.sanitizer.bypassSecurityTrustUrl(i),fileName:r},this.notifications.successToast("File attached!")}}otherFilesChanged(e,t){if(!["jpeg","jpg","png",".pdf"].includes(t.name.split(".").pop()))return void this.notifications.errorToast("Please attach an image or pdf file");const n=new FileReader;n.readAsDataURL(t),n.onload=()=>{const i=n.result.toString(),r=Vt()+"."+t.name.split(".").pop(),o=this.attachDocumentsForm.get("otherDocuments").controls[e];o.patchValue({docUrl:r}),this.uploadedDocuments[o.get("documentName").value]={file:t,dataUrl:this.sanitizer.bypassSecurityTrustUrl(i),fileName:r},this.notifications.successToast("File attached!")}}submit(){const e=new FormData;for(let n in this.uploadedDocuments)e.append("files",this.uploadedDocuments[n].file,this.uploadedDocuments[n].fileName);const t=this.editPilgrimForm.value;this.notifications.prompt("Are you sure you want to submit?").then(n=>{if(n.isConfirmed){this.loader.showLoader();const n=sessionStorage.getItem("token"),i=`${kt.a.pilgrims}/image`,r=kt.a.pilgrims;this.subscription=Object.keys(this.uploadedDocuments).length>0?this.dataService.post(i,e,n).subscribe(e=>{this.notifications.successToast(`${e.message} Sending user data...`),this.subscription=this.dataService.update(r,this.data._id,t,n).subscribe(e=>{this.notifications.alert("Pilgrim updated successfully.").then(e=>{this.loader.hideLoader(),this.dialogRef.close(!0)})})}):this.dataService.update(r,this.data._id,t,n).subscribe(e=>{this.notifications.alert("Pilgrim updated successfully.").then(e=>{this.loader.hideLoader(),this.dialogRef.close(!0)})})}})}get formsValid(){return this.passportDetailsForm.valid}getStates(){this.loader.showLoader(),this.subscription=this.dataService.get(kt.a.states,this.token,"").subscribe(e=>{this.states=e.filter(e=>"default"!==e.name),this.loader.hideLoader(),this.getLocalGovs(this.stateOfOrigin.value)})}getLocalGovs(e){this.lgLoader=!0,this.subscription=this.dataService.get(`${kt.a.lgas}/by-state`,this.token,e).subscribe(e=>{this.lgas=[...e],sessionStorage.setItem("formLg",JSON.stringify(this.lgas)),this.lgLoader=!1,this.showLga=!0})}get isReviewer(){return this.data.isReviewer}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(It.a),c.Xb(Wt.a),c.Xb($t.a),c.Xb(Ot.a),c.Xb(i.e),c.Xb(Ut.a),c.Xb(Gt.b),c.Xb(It.g))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-edit-pilgrim"]],decls:5,vars:5,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],["mat-dialog-title","","style","font-size: 160%;",4,"ngIf"],["align","end",4,"ngIf"],["mat-dialog-title","",2,"font-size","160%"],[3,"formGroup"],[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","surname"],["type","text","id","surname","formControlName","surname",1,"form-control","form-control-sm"],["class","text-danger mt-1",4,"ngIf"],["for","otherNames"],["type","text","id","otherNames","formControlName","otherNames",1,"form-control","form-control-sm"],["for","sex"],["type","text","id","sex","formControlName","sex",1,"form-control","form-control-sm"],["selected","","hidden","",3,"value"],["value","male"],["value","female"],["for","maritalStatus"],["type","text","id","maritalStatus","formControlName","maritalStatus",1,"form-control","form-control-sm"],[3,"value",4,"ngFor","ngForOf"],["for","stateOfOrigin"],["type","text","id","stateOfOrigin","formControlName","stateOfOrigin",1,"form-control","form-control-sm",3,"change"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group","row","mx-auto"],["for","homeAddress"],["type","text","id","homeAddress","formControlName","homeAddress","rows","3",1,"form-control","form-control-sm"],["for","dateOfBirth"],["type","date","id","dateOfBirth","formControlName","dateOfBirth",1,"form-control","form-control-sm"],["for","phone"],["type","text","id","phone","formControlName","phone",1,"form-control","form-control-sm"],["for","alternatePhone"],["type","text","id","alternatePhone","formControlName","alternatePhone",1,"form-control","form-control-sm"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control","form-control-sm"],["for","occupation"],["type","text","id","occupation","formControlName","occupation",1,"form-control","form-control-sm"],["for","profession"],["type","text","id","profession","formControlName","profession",1,"form-control","form-control-sm"],["for","placeOfWork"],["type","text","id","placeOfWork","formControlName","placeOfWork",1,"form-control","form-control-sm"],["for","officeAddress"],["type","text","id","officeAddress","formControlName","officeAddress","rows","3",1,"form-control","form-control-sm"],[2,"margin-top","0px","margin-bottom","0px"],["for","fullName"],["type","text","id","fullName","formControlName","fullName",1,"form-control","form-control-sm"],["for","relationship"],["type","text","id","relationship","formControlName","relationship",1,"form-control","form-control-sm"],["for","address"],["type","text","id","address","formControlName","address","rows","3",1,"form-control","form-control-sm"],["for","passportNumber"],["type","text","id","passportNumber","formControlName","passportNumber",1,"form-control","form-control-sm"],["for","passportType"],["type","text","id","passportType","formControlName","passportType",1,"form-control","form-control-sm"],["for","dateOfIssue"],["type","date","id","dateOfIssue","formControlName","dateOfIssue",1,"form-control","form-control-sm"],["for","expiryDate"],["type","date","id","expiryDate","formControlName","expiryDate",1,"form-control","form-control-sm"],[1,"list-group","mb-3","col-12","mx-auto","px-0"],[1,"list-group-item"],["target","_blank",1,"float-right",3,"href"],["href","javascript:void(0)",1,"float-right","mr-3",3,"click"],["type","file","hidden","",3,"change"],["guarantorPicker",""],["mouUrl",""],["passportPicker",""],[1,"text-danger","mt-1"],[3,"value"],[1,"d-flex","justify-content-center","mt-3"],["role","status",1,"spinner-grow","spinner-grow-sm","mx-2","text-primary"],[1,"sr-only"],["for","localGovOfOrigin",3,"hidden"],["type","text","id","localGovOfOrigin","formControlName","localGovOfOrigin",1,"form-control","form-control-sm",3,"hidden"],["class","text-danger mt-1",3,"hidden",4,"ngIf"],[1,"text-danger","mt-1",3,"hidden"],[4,"ngFor","ngForOf"],["otherDoc",""],["align","end"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2",3,"disabled"],["type","submit",1,"btn-success","btn-sm","btn","ml-2",3,"disabled"]],template:function(e,t){1&e&&(c.dc(0,"form",0),c.nc("ngSubmit",function(){return t.submit()}),c.Pc(1,Xt,1,0,"app-loader",1),c.Pc(2,Jt,2,0,"p",2),c.Pc(3,Ri,193,130,"mat-dialog-content",1),c.Pc(4,ki,5,2,"mat-dialog-actions",3),c.cc()),2&e&&(c.yc("formGroup",t.editPilgrimForm),c.Kb(1),c.yc("ngIf",t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible))},directives:[i.B,i.q,i.i,r.p,_t.a,It.h,It.e,i.c,i.p,i.g,i.y,i.t,i.A,r.o,r.r,r.s,It.c,It.d],pipes:[r.A],styles:[""]}),e})();var Oi=n("5dVO"),_i=n("mURs"),Di=n("fC9P");function Ci(e,t){1&e&&c.Zb(0)}function Ki(e,t){if(1&e&&(c.dc(0,"option",24),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Tc("Show ",e," Items")}}function Ai(e,t){if(1&e){const e=c.ec();c.dc(0,"div",19),c.dc(1,"div",20),c.dc(2,"select",21),c.nc("ngModelChange",function(t){return c.Jc(e),c.rc().pageSize=t})("change",function(){return c.Jc(e),c.rc().onPageSizeChange()}),c.Pc(3,Ki,2,2,"option",22),c.cc(),c.cc(),c.dc(4,"pagination-controls",23),c.nc("pageChange",function(t){return c.Jc(e),c.rc().onNavigate(t)}),c.cc(),c.cc()}if(2&e){const e=c.rc();c.Kb(2),c.yc("ngModel",e.pageSize),c.Kb(1),c.yc("ngForOf",e.pages)}}function Mi(e,t){1&e&&(c.dc(0,"thead"),c.dc(1,"tr",25),c.dc(2,"td"),c.dc(3,"app-loader"),c.Rc(4,"Fetching data..."),c.cc(),c.cc(),c.cc(),c.cc())}function Ti(e,t){1&e&&c.Zb(0)}function Fi(e,t){if(1&e&&c.Pc(0,Ti,1,0,"ng-container",13),2&e){const e=c.rc(),t=c.Hc(25),n=c.Hc(23);c.yc("ngIf",e.pilgrims.length>0)("ngIfThen",t)("ngIfElse",n)}}function Ni(e,t){1&e&&(c.dc(0,"span"),c.Rc(1,"Select a year."),c.cc())}function Li(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3,"No record(s) to display. "),c.Pc(4,Ni,2,0,"span",26),c.cc(),c.cc(),c.cc()),2&e){const e=c.rc();c.Kb(4),c.yc("ngIf",""===e.yearId.value)}}function zi(e,t){if(1&e){const e=c.ec();c.dc(0,"tbody"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3),c.cc(),c.dc(4,"td"),c.Rc(5),c.sc(6,"uppercase"),c.cc(),c.dc(7,"td"),c.Rc(8),c.sc(9,"uppercase"),c.cc(),c.dc(10,"td"),c.dc(11,"b"),c.Rc(12),c.cc(),c.cc(),c.dc(13,"td"),c.Rc(14),c.cc(),c.dc(15,"td"),c.Rc(16),c.sc(17,"date"),c.cc(),c.dc(18,"td"),c.dc(19,"button",34),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc(2).viewPilgrim(n)}),c.Rc(20," View "),c.cc(),c.dc(21,"button",35),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc(2).editPilgrim(n)}),c.Rc(22," Edit "),c.cc(),c.cc(),c.cc(),c.cc()}if(2&e){const e=t.index,n=t.$implicit,i=c.rc(2);c.Kb(3),c.Sc((i.p-1)*i.pageSize+(e+1)),c.Kb(2),c.Sc(c.tc(6,6,n.personalDetails.surname+", "+n.personalDetails.otherNames)),c.Kb(3),c.Sc(c.tc(9,8,n.personalDetails.sex)),c.Kb(4),c.Sc(n.personalDetails.phone),c.Kb(2),c.Sc(n.personalDetails.email),c.Kb(2),c.Sc(c.uc(17,10,n.dateCreated,"medium"))}}const ji=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}};function Ei(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"th",27),c.Rc(3,"S/N"),c.cc(),c.dc(4,"th",28),c.Rc(5,"Full Name"),c.cc(),c.dc(6,"th",29),c.Rc(7,"Gender"),c.cc(),c.dc(8,"th",30),c.Rc(9,"Phone"),c.cc(),c.dc(10,"th",31),c.Rc(11,"Email"),c.cc(),c.dc(12,"th",32),c.Rc(13,"Registration Date"),c.cc(),c.dc(14,"th"),c.Rc(15,"Actions"),c.cc(),c.cc(),c.cc(),c.Pc(16,zi,23,13,"tbody",33),c.sc(17,"paginate"),c.sc(18,"filter")),2&e){const e=c.rc();c.Kb(2),c.yc("appSort",e.pilgrims),c.Kb(2),c.yc("appSort",e.pilgrims),c.Kb(2),c.yc("appSort",e.pilgrims),c.Kb(2),c.yc("appSort",e.pilgrims),c.Kb(2),c.yc("appSort",e.pilgrims),c.Kb(2),c.yc("appSort",e.pilgrims),c.Kb(4),c.yc("ngForOf",c.uc(17,7,c.uc(18,10,e.pilgrims,e.searchText),c.Ec(13,ji,e.pageSize,e.p,e.totalItems)))}}let Bi=(()=>{class e{constructor(e,t,n,i){this.loader=e,this.dataService=t,this.notifications=n,this.dialog=i,this.searchText="",this.pilgrims=[],this.p=1,this.pageSize=5,this.pages=[5,10,15,20],this.totalItems=0,this.subscription=new Rt.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.getPilgrims()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}onPageSizeChange(){this.onNavigate(1)}onNavigate(e){e&&(this.p=e),this.getPilgrims(this.pageSize,this.p)}getPilgrims(e,t){this.loader.showLoader(),this.subscription=this.dataService.get(`${kt.a.pilgrims}`,this.token,null,{pageSize:e,page:t}).subscribe(e=>{this.pilgrims=[...e.pilgrims],this.totalItems=e.totalDocs,this.loader.hideLoader()})}viewPilgrim(e){window.scroll(0,0),this.dialog.open(Ft,{width:"45rem",disableClose:!0,data:e})}editPilgrim(e){window.scroll(0,0),this.dialog.open(Ii,{width:"45rem",disableClose:!0,data:e}).afterClosed().subscribe(e=>e?this.getPilgrims(this.pageSize,this.p):"")}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a),c.Xb(Ut.a),c.Xb(It.b))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-pilgrim-list"]],decls:26,vars:5,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],["class","col-12 mx-auto mt-3",4,"ngIf"],["load",""],["show",""],["noData",""],["tableData",""],[1,"col-12","mx-auto","mt-3"],[1,"float-left"],[1,"form-control",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],[3,"value"],[2,"font-weight","600"],[4,"ngIf"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","name",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","gender",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","phone",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","emial",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["type","button",1,"btn","magnifyText","btn-outline-primary","btn","mr-1",3,"click"],["type","button",1,"btn","btn-success","magnifyText","mr-1",3,"click"]],template:function(e,t){if(1&e&&(c.dc(0,"nav",0),c.dc(1,"ol",1),c.dc(2,"li",2),c.dc(3,"a",3),c.Rc(4,"Pilgrims"),c.cc(),c.cc(),c.dc(5,"li",4),c.Rc(6,"Registered Pilgrims"),c.cc(),c.cc(),c.cc(),c.dc(7,"div",5),c.dc(8,"div",6),c.dc(9,"div",7),c.dc(10,"div",8),c.dc(11,"h6",9),c.Rc(12,"PILGRIMS MASTER LIST"),c.cc(),c.dc(13,"input",10),c.nc("ngModelChange",function(e){return t.searchText=e}),c.cc(),c.dc(14,"div",11),c.dc(15,"table",12),c.Pc(16,Ci,1,0,"ng-container",13),c.cc(),c.Pc(17,Ai,5,2,"div",14),c.cc(),c.cc(),c.cc(),c.cc(),c.cc(),c.Pc(18,Mi,5,0,"ng-template",null,15,c.Qc),c.Pc(20,Fi,1,3,"ng-template",null,16,c.Qc),c.Pc(22,Li,5,1,"ng-template",null,17,c.Qc),c.Pc(24,Ei,19,17,"ng-template",null,18,c.Qc)),2&e){const e=c.Hc(19),n=c.Hc(21);c.Kb(13),c.yc("ngModel",t.searchText),c.Kb(3),c.yc("ngIf",t.loader.loaderVisible)("ngIfThen",e)("ngIfElse",n),c.Kb(1),c.yc("ngIf",t.pilgrims.length>0)}},directives:[i.c,i.p,i.s,r.p,i.y,r.o,o.c,i.t,i.A,_t.a,_i.a],pipes:[o.b,Di.a,r.A,r.f],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}td[_ngcontent-%COMP%]{font-size:85%!important}"]}),e})();var Yi=n("oOyu");const Hi=function(e,t,n){return{active:e,inactive:t,current:n}};function Vi(e,t){if(1&e){const e=c.ec();c.bc(0),c.dc(1,"div",1),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc().onStepClick(n)}),c.sc(2,"async"),c.dc(3,"p"),c.Rc(4),c.cc(),c.cc(),c.ac()}if(2&e){const e=t.$implicit,n=c.rc();let i=null;c.Kb(1),c.yc("ngClass",c.Ec(4,Hi,e.isComplete,!e.isComplete,(null==(i=c.tc(2,2,n.currentStep))?null:i.stepIndex)===e.stepIndex)),c.Kb(3),c.Sc(e.stepIndex+". "+n.stepIndex(e.stepIndex))}}let qi=(()=>{class e{constructor(e){this.stepsService=e}ngOnInit(){this.steps=this.stepsService.getSteps(),this.currentStep=this.stepsService.getCurrentStep()}onStepClick(e){let t;this.steps.subscribe(e=>{t=e}),this.stepsService.setCurrentStep(e)}stepIndex(e){let t="";switch(e){case 1:t="Passport Details";break;case 2:t="Personal Details";break;case 3:t="Next of Kin & Mahrim";break;case 4:t="Document Upload"}return t}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Yi.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-steps"]],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"step",3,"ngClass","click"]],template:function(e,t){1&e&&(c.Pc(0,Vi,5,8,"ng-container",0),c.sc(1,"async")),2&e&&c.yc("ngForOf",c.tc(1,1,t.steps))},directives:[r.o,r.n],pipes:[r.b],styles:[".inactive[_ngcontent-%COMP%]{background-color:#f2f2f2;color:#aaa}.active[_ngcontent-%COMP%]{background:#5a66f3}.active[_ngcontent-%COMP%], .current[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.current[_ngcontent-%COMP%]{background:#0c18a8}.step[_ngcontent-%COMP%]{padding:.3rem 1rem;border-radius:3px;font-size:90%;min-height:2.8rem;width:95%;display:flex;flex-direction:column;align-items:flex-start;justify-content:center}.inactive[_ngcontent-%COMP%]:hover{cursor:default!important}.step[_ngcontent-%COMP%]:last-child{margin-top:.4rem;margin-bottom:1rem}.step[_ngcontent-%COMP%]:first-child, .step[_ngcontent-%COMP%]:nth-child(2), .step[_ngcontent-%COMP%]:nth-child(3){margin-bottom:.4rem}"]}),e})();const Wi=["*"];let $i=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Rb({type:e,selectors:[["app-step-template"]],inputs:{step:"step"},ngContentSelectors:Wi,decls:1,vars:0,template:function(e,t){1&e&&(c.xc(),c.wc(0))},styles:[""]}),e})();function Ui(e,t){1&e&&c.Zb(0)}function Gi(e,t){1&e&&c.Yb(0,"app-loader")}function Xi(e,t){if(1&e&&(c.dc(0,"option",20),c.Rc(1),c.sc(2,"uppercase"),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(c.tc(2,2,e))}}function Ji(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's passport type. "),c.cc())}function Zi(e,t){if(1&e&&(c.dc(0,"div",21),c.Pc(1,Ji,2,0,"div",22),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.passportType.errors.required)}}function Qi(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function er(e,t){if(1&e&&(c.dc(0,"div",21),c.Pc(1,Qi,2,0,"div",22),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.passportNumber.errors.required)}}function tr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a valid date. "),c.cc())}function nr(e,t){if(1&e&&(c.dc(0,"div",21),c.Pc(1,tr,2,0,"div",22),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.dateOfIssue.errors.required||e.dateOfIssue.errors.greaterThanToday)}}function ir(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a valid date. "),c.cc())}function rr(e,t){if(1&e&&(c.dc(0,"div",21),c.Pc(1,ir,2,0,"div",22),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.expiryDate.errors.required)}}function or(e,t){if(1&e&&(c.dc(0,"option",20),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e.name),c.Kb(1),c.Sc(e.name)}}function ar(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function cr(e,t){if(1&e&&(c.dc(0,"div",21),c.Pc(1,ar,2,0,"div",22),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.placeOfIssue.errors.required)}}function sr(e,t){if(1&e){const e=c.ec();c.dc(0,"form",3),c.Yb(1,"br"),c.dc(2,"h5"),c.Rc(3,"Passport details"),c.cc(),c.Yb(4,"hr",4),c.dc(5,"div",5),c.dc(6,"div",6),c.dc(7,"label",7),c.Rc(8," Passport Type "),c.cc(),c.dc(9,"select",8),c.nc("change",function(){return c.Jc(e),c.rc().valueChange()}),c.dc(10,"option",9),c.Rc(11,"Select passport type"),c.cc(),c.Pc(12,Xi,3,4,"option",10),c.cc(),c.Pc(13,Zi,2,1,"div",11),c.cc(),c.dc(14,"div",6),c.dc(15,"label",12),c.Rc(16," Passport Number "),c.cc(),c.dc(17,"input",13),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(18,er,2,1,"div",11),c.cc(),c.cc(),c.dc(19,"div",5),c.dc(20,"div",6),c.dc(21,"label",14),c.Rc(22," Date of Issue "),c.cc(),c.dc(23,"input",15),c.nc("change",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(24,nr,2,1,"div",11),c.cc(),c.dc(25,"div",6),c.dc(26,"label",16),c.Rc(27," Expiry Date "),c.cc(),c.dc(28,"input",17),c.nc("change",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(29,rr,2,1,"div",11),c.cc(),c.cc(),c.dc(30,"div",5),c.dc(31,"div",6),c.dc(32,"label",18),c.Rc(33," Place of Issue "),c.cc(),c.dc(34,"select",19),c.nc("change",function(){return c.Jc(e),c.rc().valueChange(!0)}),c.dc(35,"option",9),c.Rc(36,"Select place of issue"),c.cc(),c.Pc(37,or,2,2,"option",10),c.cc(),c.Pc(38,cr,2,1,"div",11),c.cc(),c.Yb(39,"div",6),c.cc(),c.cc()}if(2&e){const e=c.rc();c.yc("formGroup",e.passportDetailsForm),c.Kb(7),c.Pb("text-danger",e.passportType.touched&&e.passportType.invalid),c.Kb(2),c.Pb("error-control",e.passportType.touched&&e.passportType.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.passportTypes),c.Kb(1),c.yc("ngIf",e.passportType.touched&&e.passportType.invalid),c.Kb(2),c.Pb("text-danger",e.passportNumber.touched&&e.passportNumber.invalid),c.Kb(2),c.Pb("error-control",e.passportNumber.touched&&e.passportNumber.invalid),c.Kb(1),c.yc("ngIf",e.passportNumber.touched&&e.passportNumber.invalid),c.Kb(3),c.Pb("text-danger",e.dateOfIssue.touched&&e.dateOfIssue.invalid),c.Kb(2),c.Pb("error-control",e.dateOfIssue.touched&&e.dateOfIssue.invalid),c.Kb(1),c.yc("ngIf",e.dateOfIssue.touched&&e.dateOfIssue.invalid),c.Kb(2),c.Pb("text-danger",e.expiryDate.touched&&e.expiryDate.invalid),c.Kb(2),c.Pb("error-control",e.expiryDate.touched&&e.expiryDate.invalid),c.Kb(1),c.yc("ngIf",e.expiryDate.touched&&e.expiryDate.invalid),c.Kb(3),c.Pb("text-danger",e.placeOfIssue.touched&&e.placeOfIssue.invalid),c.Kb(2),c.Pb("error-control",e.placeOfIssue.touched&&e.placeOfIssue.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.states),c.Kb(1),c.yc("ngIf",e.placeOfIssue.touched&&e.placeOfIssue.invalid)}}let lr=(()=>{class e{constructor(e,t,n){this.formsService=e,this.dataService=t,this.loader=n,this.lga=[],this.years=[],this.states=[],this.token=sessionStorage.getItem("token"),this.userLga=sessionStorage.getItem("localGov"),this.lgLoader=!1,this.showLga=!1,this.passportTypes=["normal","official","diplomatic"],this.hajjExperienceShown=!1,this.subscription=new Rt.a}ngOnInit(){this.getStates(),this.passportDetailsForm=this.formsService.passportDetails}ngOnDestroy(){this.subscription.unsubscribe(),this.loader.hideLoader()}valueChange(){this.formsService.passportDetails$.next(this.passportDetailsForm),this.passportDetailsForm=this.formsService.passportDetails,this.step.isComplete=this.passportDetailsForm.valid}getStates(){this.loader.showLoader(),this.subscription=this.dataService.get(kt.a.states,this.token,"").subscribe(e=>{this.states=e.filter(e=>"default"!==e.name),this.loader.hideLoader()})}get currentYear(){return(new Date).getFullYear()}get passportType(){return this.passportDetailsForm.get("passportType")}get passportNumber(){return this.passportDetailsForm.get("passportNumber")}get placeOfIssue(){return this.passportDetailsForm.get("placeOfIssue")}get dateOfIssue(){return this.passportDetailsForm.get("dateOfIssue")}get expiryDate(){return this.passportDetailsForm.get("expiryDate")}}return e.\u0275fac=function(t){return new(t||e)(c.Xb($t.a),c.Xb(Wt.a),c.Xb(Oi.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-enrollment-details"]],inputs:{step:"step"},decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["load",""],["showForm",""],[3,"formGroup"],[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","passportType"],["type","text","id","passportType","formControlName","passportType",1,"form-control","form-control-sm",3,"change"],["selected","","hidden","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger mt-1",4,"ngIf"],["for","passportNumber"],["type","text","id","passportNumber","formControlName","passportNumber",1,"form-control","form-control-sm",3,"keyup"],["for","dateOfIssue"],["type","date","id","dateOfIssue","formControlName","dateOfIssue",1,"form-control","form-control-sm",3,"change"],["for","expiryDate"],["type","date","id","expiryDate","formControlName","expiryDate",1,"form-control","form-control-sm",3,"change"],["for","placeOfIssue"],["type","text","id","placeOfIssue","formControlName","placeOfIssue",1,"form-control","form-control-sm",3,"change"],[3,"value"],[1,"text-danger","mt-1"],[4,"ngIf"]],template:function(e,t){if(1&e&&(c.Pc(0,Ui,1,0,"ng-container",0),c.Pc(1,Gi,1,0,"ng-template",null,1,c.Qc),c.Pc(3,sr,40,30,"ng-template",null,2,c.Qc)),2&e){const e=c.Hc(2),n=c.Hc(4);c.yc("ngIf",t.loader.loaderVisible)("ngIfThen",e)("ngIfElse",n)}},directives:[r.p,_t.a,i.B,i.q,i.i,i.y,i.p,i.g,i.t,i.A,r.o,i.c],pipes:[r.A],styles:["h5[_ngcontent-%COMP%]{font-size:130%!important;color:#0c18a8}"]}),e})();function dr(e,t){1&e&&c.Zb(0)}function ur(e,t){1&e&&c.Yb(0,"app-loader")}function hr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function fr(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Surname must be minimum ",e.surname.errors.minlength.requiredLength," characters. ")}}function pr(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Surname must be maximum ",e.surname.errors.maxlength.requiredLength," characters. ")}}function gr(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,hr,2,0,"div",44),c.Pc(2,fr,2,1,"div",44),c.Pc(3,pr,2,1,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.surname.errors.required),c.Kb(1),c.yc("ngIf",e.surname.errors.minlength),c.Kb(1),c.yc("ngIf",e.surname.errors.maxlength)}}function mr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function br(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Other names must be minimum ",e.otherNames.errors.minlength.requiredLength," characters. ")}}function vr(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Other names must be maximum ",e.otherNames.errors.maxlength.requiredLength," characters. ")}}function yr(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,mr,2,0,"div",44),c.Pc(2,br,2,1,"div",44),c.Pc(3,vr,2,1,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.otherNames.errors.required),c.Kb(1),c.yc("ngIf",e.otherNames.errors.minlength),c.Kb(1),c.yc("ngIf",e.otherNames.errors.maxlength)}}function xr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's gender. "),c.cc())}function Pr(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,xr,2,0,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.sex.errors.required)}}function Sr(e,t){if(1&e&&(c.dc(0,"option",45),c.Rc(1),c.sc(2,"uppercase"),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(c.tc(2,2,e))}}function wr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's marital status. "),c.cc())}function Rr(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,wr,2,0,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.maritalStatus.errors.required)}}function kr(e,t){if(1&e&&(c.dc(0,"option",45),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function Ir(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's state of origin. "),c.cc())}function Or(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,Ir,2,0,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.stateOfOrigin.errors.required)}}function _r(e,t){1&e&&(c.bc(0),c.Yb(1,"label"),c.dc(2,"div",46),c.dc(3,"div",47),c.dc(4,"span",48),c.Rc(5,"Loading..."),c.cc(),c.cc(),c.dc(6,"div",47),c.dc(7,"span",48),c.Rc(8,"Loading..."),c.cc(),c.cc(),c.dc(9,"div",47),c.dc(10,"span",48),c.Rc(11,"Loading..."),c.cc(),c.cc(),c.dc(12,"div",47),c.dc(13,"span",48),c.Rc(14,"Loading..."),c.cc(),c.cc(),c.cc(),c.ac())}function Dr(e,t){if(1&e&&(c.dc(0,"option",45),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function Cr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's marital status. "),c.cc())}function Kr(e,t){if(1&e&&(c.dc(0,"div",52),c.Pc(1,Cr,2,0,"div",44),c.cc()),2&e){const e=c.rc(3);c.yc("hidden",e.lgas.length<1),c.Kb(1),c.yc("ngIf",e.localGovOfOrigin.errors.required)}}function Ar(e,t){if(1&e){const e=c.ec();c.bc(0),c.dc(1,"label",49),c.Rc(2,"Local Government"),c.cc(),c.dc(3,"select",50),c.nc("change",function(){return c.Jc(e),c.rc(2).valueChange()}),c.dc(4,"option",14),c.Rc(5,"Select local government"),c.cc(),c.Pc(6,Dr,2,2,"option",19),c.cc(),c.Pc(7,Kr,2,2,"div",51),c.ac()}if(2&e){const e=c.rc(2);c.Kb(1),c.Pb("text-danger",e.localGovOfOrigin.touched&&e.localGovOfOrigin.invalid),c.yc("hidden",!e.showLga),c.Kb(2),c.Pb("error-control",e.localGovOfOrigin.touched&&e.localGovOfOrigin.invalid),c.yc("hidden",!e.showLga),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.lgas),c.Kb(1),c.yc("ngIf",e.localGovOfOrigin.touched&&e.localGovOfOrigin.invalid)}}function Mr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Tr(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Address must be minimum ",e.homeAddress.errors.minlength.requiredLength," characters. ")}}function Fr(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Address must be maximum ",e.homeAddress.errors.maxlength.requiredLength," characters. ")}}function Nr(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,Mr,2,0,"div",44),c.Pc(2,Tr,2,1,"div",44),c.Pc(3,Fr,2,1,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.homeAddress.errors.required),c.Kb(1),c.yc("ngIf",e.homeAddress.errors.minlength),c.Kb(1),c.yc("ngIf",e.homeAddress.errors.maxlength)}}function Lr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a valid date. "),c.cc())}function zr(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,Lr,2,0,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.dateOfBirth.errors.required)}}function jr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This Field is required "),c.cc())}function Er(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Phone must be minimum ",e.phone.errors.minlength.requiredLength," characters. ")}}function Br(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Phone must be maximum ",e.phone.errors.maxlength.requiredLength," characters. ")}}function Yr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid phone number. "),c.cc())}function Hr(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,jr,2,0,"div",44),c.Pc(2,Er,2,1,"div",44),c.Pc(3,Br,2,1,"div",44),c.Pc(4,Yr,2,0,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.phone.errors.required),c.Kb(1),c.yc("ngIf",e.phone.errors.minlength),c.Kb(1),c.yc("ngIf",e.phone.errors.maxlength),c.Kb(1),c.yc("ngIf",e.phone.errors.pattern)}}function Vr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid phone number. "),c.cc())}function qr(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,Vr,2,0,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.alternatePhone.errors.pattern)}}function Wr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid email address. "),c.cc())}function $r(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,Wr,2,0,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.email.errors.email)}}function Ur(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Gr(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Occupation must be minimum ",e.occupation.errors.minlength.requiredLength," characters. ")}}function Xr(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Occupation must be maximum ",e.occupation.errors.maxlength.requiredLength," characters. ")}}function Jr(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,Ur,2,0,"div",44),c.Pc(2,Gr,2,1,"div",44),c.Pc(3,Xr,2,1,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.occupation.errors.required),c.Kb(1),c.yc("ngIf",e.occupation.errors.minlength),c.Kb(1),c.yc("ngIf",e.occupation.errors.maxlength)}}function Zr(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Qr(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Profession must be minimum ",e.profession.errors.minlength.requiredLength," characters. ")}}function eo(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Profession must be maximum ",e.profession.errors.maxlength.requiredLength," characters. ")}}function to(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,Zr,2,0,"div",44),c.Pc(2,Qr,2,1,"div",44),c.Pc(3,eo,2,1,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.profession.errors.required),c.Kb(1),c.yc("ngIf",e.profession.errors.minlength),c.Kb(1),c.yc("ngIf",e.profession.errors.maxlength)}}function no(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function io(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Place of work must be minimum ",e.placeOfWork.errors.minlength.requiredLength," characters. ")}}function ro(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Place of work must be maximum ",e.placeOfWork.errors.maxlength.requiredLength," characters. ")}}function oo(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,no,2,0,"div",44),c.Pc(2,io,2,1,"div",44),c.Pc(3,ro,2,1,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.placeOfWork.errors.required),c.Kb(1),c.yc("ngIf",e.placeOfWork.errors.minlength),c.Kb(1),c.yc("ngIf",e.placeOfWork.errors.maxlength)}}function ao(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function co(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Office address must be minimum ",e.officeAddress.errors.minlength.requiredLength," characters. ")}}function so(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Office address must be maximum ",e.officeAddress.errors.maxlength.requiredLength," characters. ")}}function lo(e,t){if(1&e&&(c.dc(0,"div",43),c.Pc(1,ao,2,0,"div",44),c.Pc(2,co,2,1,"div",44),c.Pc(3,so,2,1,"div",44),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.officeAddress.errors.required),c.Kb(1),c.yc("ngIf",e.officeAddress.errors.minlength),c.Kb(1),c.yc("ngIf",e.officeAddress.errors.maxlength)}}function uo(e,t){if(1&e){const e=c.ec();c.dc(0,"form",0),c.dc(1,"h5"),c.Rc(2,"Personal details"),c.cc(),c.Yb(3,"hr",4),c.dc(4,"div",5),c.dc(5,"div",6),c.dc(6,"label",7),c.Rc(7,"Surname"),c.cc(),c.dc(8,"input",8),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(9,gr,4,3,"div",9),c.cc(),c.dc(10,"div",6),c.dc(11,"label",10),c.Rc(12,"Other Names"),c.cc(),c.dc(13,"input",11),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(14,yr,4,3,"div",9),c.cc(),c.cc(),c.dc(15,"div",5),c.dc(16,"div",6),c.dc(17,"label",12),c.Rc(18,"Sex"),c.cc(),c.dc(19,"select",13),c.nc("change",function(){return c.Jc(e),c.rc().valueChange()}),c.dc(20,"option",14),c.Rc(21,"Select sex"),c.cc(),c.dc(22,"option",15),c.Rc(23,"Male"),c.cc(),c.dc(24,"option",16),c.Rc(25,"Female"),c.cc(),c.cc(),c.Pc(26,Pr,2,1,"div",9),c.cc(),c.dc(27,"div",6),c.dc(28,"label",17),c.Rc(29,"Marital Status"),c.cc(),c.dc(30,"select",18),c.nc("change",function(){return c.Jc(e),c.rc().valueChange()}),c.dc(31,"option",14),c.Rc(32,"Select marital status"),c.cc(),c.Pc(33,Sr,3,4,"option",19),c.cc(),c.Pc(34,Rr,2,1,"div",9),c.cc(),c.cc(),c.dc(35,"div",5),c.dc(36,"div",6),c.dc(37,"label",20),c.Rc(38,"State of Origin"),c.cc(),c.dc(39,"select",21),c.nc("change",function(){return c.Jc(e),c.rc().valueChange(!0)}),c.dc(40,"option",14),c.Rc(41,"Select state of origin"),c.cc(),c.Pc(42,kr,2,2,"option",19),c.cc(),c.Pc(43,Or,2,1,"div",9),c.cc(),c.dc(44,"div",6),c.bc(45,22),c.Pc(46,_r,15,0,"ng-container",23),c.Pc(47,Ar,8,9,"ng-container",23),c.ac(),c.cc(),c.cc(),c.dc(48,"div",24),c.dc(49,"label",25),c.Rc(50,"Residential Address"),c.cc(),c.dc(51,"textarea",26),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.Rc(52,"        "),c.cc(),c.Pc(53,Nr,4,3,"div",9),c.cc(),c.dc(54,"div",5),c.dc(55,"div",6),c.dc(56,"label",27),c.Rc(57," Date of Birth "),c.cc(),c.dc(58,"input",28),c.nc("change",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(59,zr,2,1,"div",9),c.cc(),c.dc(60,"div",6),c.dc(61,"label",29),c.Rc(62," Phone "),c.cc(),c.dc(63,"input",30),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(64,Hr,5,4,"div",9),c.cc(),c.cc(),c.dc(65,"div",5),c.dc(66,"div",6),c.dc(67,"label",31),c.Rc(68," Alternate Phone "),c.cc(),c.dc(69,"input",32),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(70,qr,2,1,"div",9),c.cc(),c.dc(71,"div",6),c.dc(72,"label",33),c.Rc(73," Email "),c.cc(),c.dc(74,"input",34),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(75,$r,2,1,"div",9),c.cc(),c.cc(),c.cc(),c.dc(76,"form",0),c.Yb(77,"br"),c.dc(78,"h5"),c.Rc(79,"Office details"),c.cc(),c.Yb(80,"hr",4),c.dc(81,"div",5),c.dc(82,"div",6),c.dc(83,"label",35),c.Rc(84,"Occupation"),c.cc(),c.dc(85,"input",36),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(86,Jr,4,3,"div",9),c.cc(),c.dc(87,"div",6),c.dc(88,"label",37),c.Rc(89,"Profession"),c.cc(),c.dc(90,"input",38),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(91,to,4,3,"div",9),c.cc(),c.cc(),c.dc(92,"div",24),c.dc(93,"label",39),c.Rc(94,"Place of Work"),c.cc(),c.dc(95,"input",40),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(96,oo,4,3,"div",9),c.cc(),c.dc(97,"div",24),c.dc(98,"label",41),c.Rc(99,"Office Address"),c.cc(),c.dc(100,"textarea",42),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.Rc(101,"        "),c.cc(),c.Pc(102,lo,4,3,"div",9),c.cc(),c.cc()}if(2&e){const e=c.rc();c.yc("formGroup",e.personalDetailsForm),c.Kb(6),c.Pb("text-danger",e.surname.touched&&e.surname.invalid),c.Kb(2),c.Pb("error-control",e.surname.touched&&e.surname.invalid),c.Kb(1),c.yc("ngIf",e.surname.touched&&e.surname.invalid),c.Kb(2),c.Pb("text-danger",e.otherNames.touched&&e.otherNames.invalid),c.Kb(2),c.Pb("error-control",e.otherNames.touched&&e.otherNames.invalid),c.Kb(1),c.yc("ngIf",e.otherNames.touched&&e.otherNames.invalid),c.Kb(3),c.Pb("text-danger",e.sex.touched&&e.sex.invalid),c.Kb(2),c.Pb("error-control",e.sex.touched&&e.sex.invalid),c.Kb(1),c.yc("value",null),c.Kb(6),c.yc("ngIf",e.sex.touched&&e.sex.invalid),c.Kb(2),c.Pb("text-danger",e.maritalStatus.touched&&e.maritalStatus.invalid),c.Kb(2),c.Pb("error-control",e.maritalStatus.touched&&e.maritalStatus.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.maritalStatuses),c.Kb(1),c.yc("ngIf",e.maritalStatus.touched&&e.maritalStatus.invalid),c.Kb(3),c.Pb("text-danger",e.stateOfOrigin.touched&&e.stateOfOrigin.invalid),c.Kb(2),c.Pb("error-control",e.stateOfOrigin.touched&&e.stateOfOrigin.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.states),c.Kb(1),c.yc("ngIf",e.stateOfOrigin.touched&&e.stateOfOrigin.invalid),c.Kb(2),c.yc("ngSwitch",e.lgLoader),c.Kb(1),c.yc("ngSwitchCase",!0),c.Kb(1),c.yc("ngSwitchCase",!1),c.Kb(2),c.Pb("text-danger",e.homeAddress.touched&&e.homeAddress.invalid),c.Kb(2),c.Pb("error-control",e.homeAddress.touched&&e.homeAddress.invalid),c.Kb(2),c.yc("ngIf",e.homeAddress.touched&&e.homeAddress.invalid),c.Kb(3),c.Pb("text-danger",e.dateOfBirth.touched&&e.dateOfBirth.invalid),c.Kb(2),c.Pb("error-control",e.dateOfBirth.touched&&e.dateOfBirth.invalid),c.Kb(1),c.yc("ngIf",e.dateOfBirth.touched&&e.dateOfBirth.invalid),c.Kb(2),c.Pb("text-danger",e.phone.touched&&e.phone.invalid),c.Kb(2),c.Pb("error-control",e.phone.touched&&e.phone.invalid),c.Kb(1),c.yc("ngIf",e.phone.touched&&e.phone.invalid),c.Kb(3),c.Pb("text-danger",e.alternatePhone.touched&&e.alternatePhone.invalid),c.Kb(2),c.Pb("error-control",e.alternatePhone.touched&&e.alternatePhone.invalid),c.Kb(1),c.yc("ngIf",e.alternatePhone.touched&&e.alternatePhone.invalid),c.Kb(2),c.Pb("text-danger",e.email.touched&&e.email.invalid),c.Kb(2),c.Pb("error-control",e.email.touched&&e.email.invalid),c.Kb(1),c.yc("ngIf",e.email.touched&&e.email.invalid),c.Kb(1),c.yc("formGroup",e.officeDetailsForm),c.Kb(7),c.Pb("text-danger",e.occupation.touched&&e.occupation.invalid),c.Kb(2),c.Pb("error-control",e.occupation.touched&&e.occupation.invalid),c.Kb(1),c.yc("ngIf",e.occupation.touched&&e.occupation.invalid),c.Kb(2),c.Pb("text-danger",e.profession.touched&&e.profession.invalid),c.Kb(2),c.Pb("error-control",e.profession.touched&&e.profession.invalid),c.Kb(1),c.yc("ngIf",e.profession.touched&&e.profession.invalid),c.Kb(2),c.Pb("text-danger",e.placeOfWork.touched&&e.placeOfWork.invalid),c.Kb(2),c.Pb("error-control",e.placeOfWork.touched&&e.placeOfWork.invalid),c.Kb(1),c.yc("ngIf",e.placeOfWork.touched&&e.placeOfWork.invalid),c.Kb(2),c.Pb("text-danger",e.officeAddress.touched&&e.officeAddress.invalid),c.Kb(2),c.Pb("error-control",e.officeAddress.touched&&e.officeAddress.invalid),c.Kb(2),c.yc("ngIf",e.officeAddress.touched&&e.officeAddress.invalid)}}let ho=(()=>{class e{constructor(e,t,n){this.formsService=e,this.dataService=t,this.loader=n,this.states=[],this.lgas=[],this.maritalStatuses=["single","married","divorced","widow","widower"],this.token=sessionStorage.getItem("token"),this.subscription=new Rt.a,this.lgLoader=!1,this.showLga=!1}ngOnInit(){this.personalAndOffice=this.formsService.personalAndOffice,this.getStates(),this.localGovOfOrigin.value&&(this.showLga=!0,this.lgas=[...JSON.parse(sessionStorage.getItem("formLg"))])}ngOnDestroy(){this.subscription.unsubscribe(),this.loader.hideLoader()}valueChange(e){e&&this.getLocalGovs(this.stateOfOrigin.value),this.formsService.personalAndOffice$.next(this.personalAndOffice),this.personalAndOffice=this.formsService.personalAndOffice,this.step.isComplete=this.personalAndOffice.valid}getStates(){this.loader.showLoader(),this.subscription=this.dataService.get(kt.a.states,this.token,"").subscribe(e=>{this.states=e.filter(e=>"default"!==e.name),this.loader.hideLoader()})}getLocalGovs(e){this.lgLoader=!0,this.subscription=this.dataService.get(`${kt.a.lgas}/by-state`,this.token,e).subscribe(e=>{this.lgas=[...e],sessionStorage.setItem("formLg",JSON.stringify(this.lgas)),this.lgLoader=!1,this.showLga=!0})}get personalDetailsForm(){return this.personalAndOffice.get("personalDetails")}get surname(){return this.personalDetailsForm.get("surname")}get otherNames(){return this.personalDetailsForm.get("otherNames")}get sex(){return this.personalDetailsForm.get("sex")}get maritalStatus(){return this.personalDetailsForm.get("maritalStatus")}get homeAddress(){return this.personalDetailsForm.get("homeAddress")}get stateOfOrigin(){return this.personalDetailsForm.get("stateOfOrigin")}get localGovOfOrigin(){return this.personalDetailsForm.get("localGovOfOrigin")}get dateOfBirth(){return this.personalDetailsForm.get("dateOfBirth")}get phone(){return this.personalDetailsForm.get("phone")}get alternatePhone(){return this.personalDetailsForm.get("alternatePhone")}get email(){return this.personalDetailsForm.get("email")}get officeDetailsForm(){return this.personalAndOffice.get("officeDetails")}get occupation(){return this.officeDetailsForm.get("occupation")}get placeOfWork(){return this.officeDetailsForm.get("placeOfWork")}get officeAddress(){return this.officeDetailsForm.get("officeAddress")}get profession(){return this.officeDetailsForm.get("profession")}}return e.\u0275fac=function(t){return new(t||e)(c.Xb($t.a),c.Xb(Wt.a),c.Xb(Oi.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-personal-details"]],inputs:{step:"step"},decls:6,vars:4,consts:[[3,"formGroup"],[4,"ngIf","ngIfThen","ngIfElse"],["load",""],["showForm",""],[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","surname"],["type","text","id","surname","formControlName","surname",1,"form-control","form-control-sm",3,"keyup"],["class","text-danger mt-1",4,"ngIf"],["for","otherNames"],["type","text","id","otherNames","formControlName","otherNames",1,"form-control","form-control-sm",3,"keyup"],["for","sex"],["type","text","id","sex","formControlName","sex",1,"form-control","form-control-sm",3,"change"],["selected","","hidden","",3,"value"],["value","male"],["value","female"],["for","maritalStatus"],["type","text","id","maritalStatus","formControlName","maritalStatus",1,"form-control","form-control-sm",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","stateOfOrigin"],["type","text","id","stateOfOrigin","formControlName","stateOfOrigin",1,"form-control","form-control-sm",3,"change"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"form-group","row","mx-auto"],["for","homeAddress"],["type","text","id","homeAddress","formControlName","homeAddress","rows","3",1,"form-control","form-control-sm",3,"keyup"],["for","dateOfBirth"],["type","date","id","dateOfBirth","formControlName","dateOfBirth",1,"form-control","form-control-sm",3,"change"],["for","phone"],["type","text","id","phone","formControlName","phone",1,"form-control","form-control-sm",3,"keyup"],["for","alternatePhone"],["type","text","id","alternatePhone","formControlName","alternatePhone",1,"form-control","form-control-sm",3,"keyup"],["for","email"],["type","email","id","email","formControlName","email",1,"form-control","form-control-sm",3,"keyup"],["for","occupation"],["type","text","id","occupation","formControlName","occupation",1,"form-control","form-control-sm",3,"keyup"],["for","profession"],["type","text","id","profession","formControlName","profession",1,"form-control","form-control-sm",3,"keyup"],["for","placeOfWork"],["type","text","id","placeOfWork","formControlName","placeOfWork",1,"form-control","form-control-sm",3,"keyup"],["for","officeAddress"],["type","text","id","officeAddress","formControlName","officeAddress","rows","3",1,"form-control","form-control-sm",3,"keyup"],[1,"text-danger","mt-1"],[4,"ngIf"],[3,"value"],[1,"d-flex","justify-content-center","mt-3"],["role","status",1,"spinner-grow","spinner-grow-sm","mx-2","text-primary"],[1,"sr-only"],["for","localGovOfOrigin",3,"hidden"],["type","text","id","localGovOfOrigin","formControlName","localGovOfOrigin",1,"form-control","form-control-sm",3,"hidden","change"],["class","text-danger mt-1",3,"hidden",4,"ngIf"],[1,"text-danger","mt-1",3,"hidden"]],template:function(e,t){if(1&e&&(c.dc(0,"form",0),c.Pc(1,dr,1,0,"ng-container",1),c.Pc(2,ur,1,0,"ng-template",null,2,c.Qc),c.Pc(4,uo,103,80,"ng-template",null,3,c.Qc),c.cc()),2&e){const e=c.Hc(3),n=c.Hc(5);c.yc("formGroup",t.personalAndOffice),c.Kb(1),c.yc("ngIf",t.loader.loaderVisible)("ngIfThen",e)("ngIfElse",n)}},directives:[i.B,i.q,i.i,r.p,_t.a,i.c,i.p,i.g,i.y,i.t,i.A,r.o,r.r,r.s],pipes:[r.A],styles:["h5[_ngcontent-%COMP%]{font-size:130%!important;color:#0c18a8}"]}),e})();function fo(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function po(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.Tc(" Next of kin name must be minimum ",e.fullName.errors.minlength.requiredLength," characters. ")}}function go(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.Tc(" Next of kin name must be maximum ",e.fullName.errors.maxlength.requiredLength," characters. ")}}function mo(e,t){if(1&e&&(c.dc(0,"div",17),c.Pc(1,fo,2,0,"div",18),c.Pc(2,po,2,1,"div",18),c.Pc(3,go,2,1,"div",18),c.cc()),2&e){const e=c.rc();c.Kb(1),c.yc("ngIf",e.fullName.errors.required),c.Kb(1),c.yc("ngIf",e.fullName.errors.minlength),c.Kb(1),c.yc("ngIf",e.fullName.errors.maxlength)}}function bo(e,t){if(1&e&&(c.dc(0,"option",19),c.Rc(1),c.sc(2,"uppercase"),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(c.tc(2,2,e))}}function vo(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's next of kin relationship. "),c.cc())}function yo(e,t){if(1&e&&(c.dc(0,"div",17),c.Pc(1,vo,2,0,"div",18),c.cc()),2&e){const e=c.rc();c.Kb(1),c.yc("ngIf",e.relationship.errors.required)}}function xo(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This Field is required "),c.cc())}function Po(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.Tc(" Phone must be minimum ",e.phone.errors.minlength.requiredLength," characters. ")}}function So(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.Tc(" Phone must be maximum ",e.phone.errors.maxlength.requiredLength," characters. ")}}function wo(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid phone number. "),c.cc())}function Ro(e,t){if(1&e&&(c.dc(0,"div",17),c.Pc(1,xo,2,0,"div",18),c.Pc(2,Po,2,1,"div",18),c.Pc(3,So,2,1,"div",18),c.Pc(4,wo,2,0,"div",18),c.cc()),2&e){const e=c.rc();c.Kb(1),c.yc("ngIf",e.phone.errors.required),c.Kb(1),c.yc("ngIf",e.phone.errors.minlength),c.Kb(1),c.yc("ngIf",e.phone.errors.maxlength),c.Kb(1),c.yc("ngIf",e.phone.errors.pattern)}}function ko(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Io(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.Tc(" Address must be minimum ",e.address.errors.minlength.requiredLength," characters. ")}}function Oo(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.Tc(" Address must be maximum ",e.address.errors.maxlength.requiredLength," characters. ")}}function _o(e,t){if(1&e&&(c.dc(0,"div",17),c.Pc(1,ko,2,0,"div",18),c.Pc(2,Io,2,1,"div",18),c.Pc(3,Oo,2,1,"div",18),c.cc()),2&e){const e=c.rc();c.Kb(1),c.yc("ngIf",e.address.errors.required),c.Kb(1),c.yc("ngIf",e.address.errors.minlength),c.Kb(1),c.yc("ngIf",e.address.errors.maxlength)}}function Do(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Co(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Mahrim name must be minimum ",e.fullName.errors.minlength.requiredLength," characters. ")}}function Ko(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Mahrim name must be maximum ",e.fullName.errors.maxlength.requiredLength," characters. ")}}function Ao(e,t){if(1&e&&(c.dc(0,"div",17),c.Pc(1,Do,2,0,"div",18),c.Pc(2,Co,2,1,"div",18),c.Pc(3,Ko,2,1,"div",18),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.fullName.errors.required),c.Kb(1),c.yc("ngIf",e.fullName.errors.minlength),c.Kb(1),c.yc("ngIf",e.fullName.errors.maxlength)}}function Mo(e,t){if(1&e&&(c.dc(0,"option",19),c.Rc(1),c.sc(2,"uppercase"),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(c.tc(2,2,e))}}function To(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select pilgrim's Mahrim relationship. "),c.cc())}function Fo(e,t){if(1&e&&(c.dc(0,"div",17),c.Pc(1,To,2,0,"div",18),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.relationship.errors.required)}}function No(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This Field is required "),c.cc())}function Lo(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Phone must be minimum ",e.phone.errors.minlength.requiredLength," characters. ")}}function zo(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Phone must be maximum ",e.phone.errors.maxlength.requiredLength," characters. ")}}function jo(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid phone number. "),c.cc())}function Eo(e,t){if(1&e&&(c.dc(0,"div",17),c.Pc(1,No,2,0,"div",18),c.Pc(2,Lo,2,1,"div",18),c.Pc(3,zo,2,1,"div",18),c.Pc(4,jo,2,0,"div",18),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.phone.errors.required),c.Kb(1),c.yc("ngIf",e.phone.errors.minlength),c.Kb(1),c.yc("ngIf",e.phone.errors.maxlength),c.Kb(1),c.yc("ngIf",e.phone.errors.pattern)}}function Bo(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Yo(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Address must be minimum ",e.address.errors.minlength.requiredLength," characters. ")}}function Ho(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Tc(" Address must be maximum ",e.address.errors.maxlength.requiredLength," characters. ")}}function Vo(e,t){if(1&e&&(c.dc(0,"div",17),c.Pc(1,Bo,2,0,"div",18),c.Pc(2,Yo,2,1,"div",18),c.Pc(3,Ho,2,1,"div",18),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.address.errors.required),c.Kb(1),c.yc("ngIf",e.address.errors.minlength),c.Kb(1),c.yc("ngIf",e.address.errors.maxlength)}}function qo(e,t){if(1&e){const e=c.ec();c.dc(0,"form",0),c.dc(1,"h5"),c.Rc(2,"Mahrim details"),c.cc(),c.Yb(3,"hr",1),c.dc(4,"div",2),c.dc(5,"label",3),c.Rc(6,"Full Name"),c.cc(),c.dc(7,"input",4),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(8,Ao,4,3,"div",5),c.cc(),c.dc(9,"div",6),c.dc(10,"div",7),c.dc(11,"label",8),c.Rc(12,"Relationship"),c.cc(),c.dc(13,"select",9),c.nc("change",function(){return c.Jc(e),c.rc().valueChange()}),c.dc(14,"option",10),c.Rc(15,"Select relationship"),c.cc(),c.Pc(16,Mo,3,4,"option",11),c.cc(),c.Pc(17,Fo,2,1,"div",5),c.cc(),c.dc(18,"div",7),c.dc(19,"label",12),c.Rc(20," Phone "),c.cc(),c.dc(21,"input",13),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.cc(),c.Pc(22,Eo,5,4,"div",5),c.cc(),c.cc(),c.dc(23,"div",2),c.dc(24,"label",14),c.Rc(25,"Residential Address"),c.cc(),c.dc(26,"textarea",15),c.nc("keyup",function(){return c.Jc(e),c.rc().valueChange()}),c.Rc(27,"    "),c.cc(),c.Pc(28,Vo,4,3,"div",5),c.cc(),c.cc()}if(2&e){const e=c.rc();c.yc("formGroup",e.mahrimDetailsForm),c.Kb(5),c.Pb("text-danger",e.fullName.touched&&e.fullName.invalid),c.Kb(2),c.Pb("error-control",e.fullName.touched&&e.fullName.invalid),c.Kb(1),c.yc("ngIf",e.fullName.touched&&e.fullName.invalid),c.Kb(3),c.Pb("text-danger",e.relationship.touched&&e.relationship.invalid),c.Kb(2),c.Pb("error-control",e.relationship.touched&&e.relationship.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.relationships),c.Kb(1),c.yc("ngIf",e.relationship.touched&&e.relationship.invalid),c.Kb(2),c.Pb("text-danger",e.phone.touched&&e.phone.invalid),c.Kb(2),c.Pb("error-control",e.phone.touched&&e.phone.invalid),c.Kb(1),c.yc("ngIf",e.phone.touched&&e.phone.invalid),c.Kb(2),c.Pb("text-danger",e.address.touched&&e.address.invalid),c.Kb(2),c.Pb("error-control",e.address.touched&&e.address.invalid),c.Kb(2),c.yc("ngIf",e.address.touched&&e.address.invalid)}}let Wo=(()=>{class e{constructor(e){this.formsService=e,this.relationships=["mother","father","sibling","grand parent","uncle","aunt","cousin","niece","nephew","child","spouse"]}ngOnInit(){this.nextOfKinDetailsForm=this.formsService.nextOfKinDetails,this.mahrimDetailsForm=this.formsService.mahrimDetails,this.formsService.personalAndOffice.get("personalDetails").valueChanges.subscribe(this.valueChange)}valueChange(){this.formsService.nextOfKinDetails$.next(this.nextOfKinDetailsForm),this.nextOfKinDetailsForm=this.formsService.nextOfKinDetails,this.formsService.mahrimDetails$.next(this.mahrimDetailsForm),this.mahrimDetailsForm=this.formsService.mahrimDetails;let e=this.nextOfKinDetailsForm.valid;this.isMale||(e=e&&this.mahrimDetailsForm.valid),this.step.isComplete=e}get isMale(){return"male"===this.formsService.personalAndOffice.value.personalDetails.sex}get fullName(){return this.nextOfKinDetailsForm.get("fullName")}get relationship(){return this.nextOfKinDetailsForm.get("relationship")}get address(){return this.nextOfKinDetailsForm.get("address")}get phone(){return this.nextOfKinDetailsForm.get("phone")}get mahrimFullName(){return this.mahrimDetailsForm.get("fullName")}get mahrimRelationship(){return this.mahrimDetailsForm.get("relationship")}get mahrimAddress(){return this.mahrimDetailsForm.get("address")}get mahrimPhone(){return this.mahrimDetailsForm.get("phone")}}return e.\u0275fac=function(t){return new(t||e)(c.Xb($t.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-next-of-kin-details"]],inputs:{step:"step"},decls:30,vars:24,consts:[[3,"formGroup"],[2,"margin-top","0px"],[1,"form-group","row","mx-auto"],["for","fullName"],["type","text","id","fullName","formControlName","fullName",1,"form-control","form-control-sm",3,"keyup"],["class","text-danger mt-1",4,"ngIf"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","relationship"],["type","text","id","relationship","formControlName","relationship",1,"form-control","form-control-sm",3,"change"],["selected","","hidden","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["for","phone"],["type","text","id","phone","formControlName","phone",1,"form-control","form-control-sm",3,"keyup"],["for","address"],["type","text","id","address","formControlName","address","rows","3",1,"form-control","form-control-sm",3,"keyup"],[3,"formGroup",4,"ngIf"],[1,"text-danger","mt-1"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(c.dc(0,"form",0),c.dc(1,"h5"),c.Rc(2,"Next of kin details"),c.cc(),c.Yb(3,"hr",1),c.dc(4,"div",2),c.dc(5,"label",3),c.Rc(6,"Full Name"),c.cc(),c.dc(7,"input",4),c.nc("keyup",function(){return t.valueChange()}),c.cc(),c.Pc(8,mo,4,3,"div",5),c.cc(),c.dc(9,"div",6),c.dc(10,"div",7),c.dc(11,"label",8),c.Rc(12,"Relationship"),c.cc(),c.dc(13,"select",9),c.nc("change",function(){return t.valueChange()}),c.dc(14,"option",10),c.Rc(15,"Select relationship"),c.cc(),c.Pc(16,bo,3,4,"option",11),c.cc(),c.Pc(17,yo,2,1,"div",5),c.cc(),c.dc(18,"div",7),c.dc(19,"label",12),c.Rc(20," Phone "),c.cc(),c.dc(21,"input",13),c.nc("keyup",function(){return t.valueChange()}),c.cc(),c.Pc(22,Ro,5,4,"div",5),c.cc(),c.cc(),c.dc(23,"div",2),c.dc(24,"label",14),c.Rc(25,"Residential Address"),c.cc(),c.dc(26,"textarea",15),c.nc("keyup",function(){return t.valueChange()}),c.Rc(27,"    "),c.cc(),c.Pc(28,_o,4,3,"div",5),c.cc(),c.cc(),c.Pc(29,qo,29,23,"form",16)),2&e&&(c.yc("formGroup",t.nextOfKinDetailsForm),c.Kb(5),c.Pb("text-danger",t.fullName.touched&&t.fullName.invalid),c.Kb(2),c.Pb("error-control",t.fullName.touched&&t.fullName.invalid),c.Kb(1),c.yc("ngIf",t.fullName.touched&&t.fullName.invalid),c.Kb(3),c.Pb("text-danger",t.relationship.touched&&t.relationship.invalid),c.Kb(2),c.Pb("error-control",t.relationship.touched&&t.relationship.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",t.relationships),c.Kb(1),c.yc("ngIf",t.relationship.touched&&t.relationship.invalid),c.Kb(2),c.Pb("text-danger",t.phone.touched&&t.phone.invalid),c.Kb(2),c.Pb("error-control",t.phone.touched&&t.phone.invalid),c.Kb(1),c.yc("ngIf",t.phone.touched&&t.phone.invalid),c.Kb(2),c.Pb("text-danger",t.address.touched&&t.address.invalid),c.Kb(2),c.Pb("error-control",t.address.touched&&t.address.invalid),c.Kb(2),c.yc("ngIf",t.address.touched&&t.address.invalid),c.Kb(1),c.yc("ngIf",!t.isMale))},directives:[i.B,i.q,i.i,i.c,i.p,i.g,r.p,i.y,i.t,i.A,r.o],pipes:[r.A],styles:["h5[_ngcontent-%COMP%]{font-size:130%!important;color:#0c18a8}"]}),e})(),$o=(()=>{class e{constructor(){this.fileDropped=new c.r}onDragOver(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!0}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!1}onDrop(e){e.preventDefault(),e.stopPropagation(),this.fileOver=!1;let t=e.dataTransfer.files;t.length>0&&this.fileDropped.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=c.Sb({type:e,selectors:[["","appDragAndDrop",""]],hostVars:2,hostBindings:function(e,t){1&e&&c.nc("dragover",function(e){return t.onDragOver(e)})("dragleave",function(e){return t.onDragLeave(e)})("drop",function(e){return t.onDrop(e)}),2&e&&c.Pb("fileover",t.fileOver)},outputs:{fileDropped:"fileDropped"}}),e})(),Uo=(()=>{class e{constructor(){this.progress=0}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Rb({type:e,selectors:[["app-progress"]],inputs:{progress:"progress"},decls:2,vars:2,consts:[[1,"progress-cont"],[1,"progress"]],template:function(e,t){1&e&&(c.dc(0,"div",0),c.Yb(1,"div",1),c.cc()),2&e&&(c.Kb(1),c.Mc("width",t.progress+"%"))},styles:[".progress-cont[_ngcontent-%COMP%]{height:7px;width:100%;border-radius:4px;background-color:#d0d0d0;position:relative}.progress-cont[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{width:0;height:100%;position:absolute;z-index:1;top:0;left:0;border-radius:4px;background-color:#4c97cb;transition:all .5s}"]}),e})();const Go=["fileDropRef"];function Xo(e,t){if(1&e){const e=c.ec();c.bc(0),c.dc(1,"label"),c.Rc(2,"Document name"),c.cc(),c.dc(3,"input",20),c.nc("ngModelChange",function(t){return c.Jc(e),c.rc().otherDocName=t}),c.cc(),c.ac()}if(2&e){const e=c.rc();c.Kb(3),c.yc("ngModel",e.otherDocName)}}function Jo(e,t){if(1&e){const e=c.ec();c.dc(0,"div",21),c.Yb(1,"img",22),c.dc(2,"div",23),c.dc(3,"h4",24),c.Rc(4),c.cc(),c.dc(5,"p",25),c.Rc(6),c.cc(),c.Yb(7,"app-progress",26),c.cc(),c.dc(8,"img",27),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc().removeUploadedDocument(n.documentType)}),c.cc(),c.cc()}if(2&e){const e=t.$implicit,n=c.rc();c.Kb(4),c.Tc(" ",null==e?null:e.file.name," "),c.Kb(2),c.Tc(" ",n.formatBytes(null==e?null:e.file.size)," "),c.Kb(1),c.yc("progress",null==e?null:e.progress)}}let Zo=(()=>{class e{constructor(e,t){this.formsService=e,this.notifications=t,this.acceptedFileType=[".jpg",".jpeg",".jpe",".png",".pdf"],this.selectedDocumentType="",this.documentDisplay="",this.files=[],this.otherDocName=""}ngOnInit(){this.attachedDocumentsForm=this.formsService.attachedDocuments,this.files=this.formsService.files}valueChange(){this.formsService.attachedDocuments$.next(this.attachedDocumentsForm),this.attachedDocumentsForm=this.formsService.attachedDocuments,this.formsService.files$.next(this.files),this.files=this.formsService.files,this.step.isComplete=this.attachedDocumentsForm.valid&&this.files.length>=3}docChange(e){this.selectedDocumentType=e}get mouUrl(){return this.attachedDocumentsForm.get("mouUrl")}get passportUrl(){return this.attachedDocumentsForm.get("passportUrl")}get guarantorFormUrl(){return this.attachedDocumentsForm.get("guarantorFormUrl")}get otherDocsForm(){return this.attachedDocumentsForm.get("otherDocuments")}fileDropped(e){return""===this.selectedDocumentType?this.notifications.errorToast("Select a document type."):e&&e[0]?e.length>1?this.notifications.errorToast("Please select a single file."):this.acceptedFileType.includes(this.getFileType(e[0]))?e[0].size>5242880?this.notifications.errorToast("File too large. (Max size is 5MB)"):(this.findDocumentIndex(this.selectedDocumentType)>=0&&this.removeDocument(this.selectedDocumentType),"others"!==this.selectedDocumentType||this.otherDocName?void this.prepareFilesList(e):this.notifications.errorToast("Enter other document type!")):this.notifications.errorToast("Please upload an image file."):this.notifications.errorToast("Please select a file.")}prepareFilesList(e){const t=e[0],n=t.name.split("."),i=Vt()+"_."+n[n.length-1],r={documentType:"others"===this.selectedDocumentType?this.otherDocName:this.selectedDocumentType,file:t,fileName:i,progress:0};this.files.push(r),this.setDocumentValue(this.selectedDocumentType,i),this.valueChange(),this.fileDropEl.nativeElement.value="",this.uploadFilesSimulator(this.findDocumentIndex(r.documentType))}setDocumentValue(e,t){if("ePass"===e&&this.attachedDocumentsForm.patchValue({passportUrl:t}),"mou"===e&&this.attachedDocumentsForm.patchValue({mouUrl:t}),"guarantor"===e&&this.attachedDocumentsForm.patchValue({guarantorFormUrl:t}),"others"===e){const e=this.formsService.docForm;e.patchValue({docUrl:t,documentName:this.otherDocName}),this.otherDocsForm.push(e),this.otherDocName="",console.log(this.attachedDocumentsForm.value)}}getFileType(e){return("."+e.name.split(".").pop()).toLowerCase()}findDocumentIndex(e){return this.files.findIndex(t=>t.documentType===e)}removeDocument(e){const t=this.findDocumentIndex(e);t>=0&&this.files.splice(t,1),this.valueChange()}removeUploadedDocument(e){this.removeDocument(e),"ePass"===e&&this.attachedDocumentsForm.patchValue({passportUrl:null}),"mou"===e&&this.attachedDocumentsForm.patchValue({mouUrl:null}),"guarantor"===e&&this.attachedDocumentsForm.patchValue({guarantorFormUrl:null}),this.notifications.successToast("Document removed successfully."),this.valueChange()}getFile(e){console.log(e),"epass"===e&&(this.documentDisplay="E-Passport"),"mou"===e&&(this.documentDisplay="MOU Form"),"guarantor"===e&&(this.documentDisplay="Guarantor Form")}formatBytes(e,t=2){if(0===e)return"0 Bytes";const n=t<=0?0:t,i=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,i)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]}uploadFilesSimulator(e){setTimeout(()=>{if(e!==this.files.length){const t=setInterval(()=>{100===this.files[e].progress?(clearInterval(t),this.uploadFilesSimulator(e+1)):this.files[e].progress+=5},200)}},1e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Xb($t.a),c.Xb(Ut.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-document-upload"]],viewQuery:function(e,t){if(1&e&&c.Wc(Go,1),2&e){let e;c.Gc(e=c.oc())&&(t.fileDropEl=e.first)}},inputs:{step:"step"},decls:34,vars:3,consts:[[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","documentType"],["type","text","id","documentType","name","documentType","ngModel","",1,"form-control","form-control-sm",3,"change"],["docType","ngModel"],["value","","selected","","hidden",""],["value","ePass"],["value","mou"],["value","guarantor"],["value","others"],[4,"ngIf"],[3,"formGroup"],["appDragAndDrop","",1,"dropzone","mt-3",3,"fileDropped"],["type","file","id","fileDropRef",3,"change"],["fileDropRef",""],["src","assets/images/upload.svg","alt",""],["for","fileDropRef",2,"margin-top","5px"],[1,"files-list"],["class","single-file",4,"ngFor","ngForOf"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"single-file"],["src","assets/images/ic-file.svg","alt","file","width","45px"],[1,"info"],[1,"name"],[1,"size"],[3,"progress"],["src","assets/images/ic-delete-file.svg","width","20px","alt","file",1,"delete",3,"click"]],template:function(e,t){if(1&e){const e=c.ec();c.dc(0,"h5"),c.Rc(1,"Document Upload"),c.cc(),c.Yb(2,"hr",0),c.dc(3,"div",1),c.dc(4,"div",2),c.dc(5,"label",3),c.Rc(6,"Document Type"),c.cc(),c.dc(7,"select",4,5),c.nc("change",function(){c.Jc(e);const n=c.Hc(8);return t.docChange(n.value)}),c.dc(9,"option",6),c.Rc(10,"Select document type"),c.cc(),c.dc(11,"option",7),c.Rc(12,"E-Passport"),c.cc(),c.dc(13,"option",8),c.Rc(14,"MOU Form"),c.cc(),c.dc(15,"option",9),c.Rc(16,"Guarantor Form"),c.cc(),c.dc(17,"option",10),c.Rc(18,"Others"),c.cc(),c.cc(),c.cc(),c.dc(19,"div",2),c.Pc(20,Xo,4,1,"ng-container",11),c.cc(),c.cc(),c.dc(21,"form",12),c.dc(22,"div",13),c.nc("fileDropped",function(e){return t.fileDropped(e)}),c.dc(23,"input",14,15),c.nc("change",function(e){return t.fileDropped(e.target.files)}),c.cc(),c.Yb(25,"img",16),c.dc(26,"h3"),c.Rc(27,"Drag and drop file here or"),c.cc(),c.dc(28,"label",17),c.Rc(29,"Browse for file"),c.cc(),c.dc(30,"P"),c.Rc(31,"Maximum file size 5mb"),c.cc(),c.cc(),c.cc(),c.dc(32,"div",18),c.Pc(33,Jo,9,3,"div",19),c.cc()}if(2&e){const e=c.Hc(8);c.Kb(20),c.yc("ngIf","others"===e.value),c.Kb(1),c.yc("formGroup",t.attachedDocumentsForm),c.Kb(12),c.yc("ngForOf",t.files)}},directives:[i.y,i.p,i.s,i.t,i.A,r.p,i.B,i.q,i.i,$o,r.o,i.c,Uo],styles:["h5[_ngcontent-%COMP%]{font-size:130%!important;color:#0c18a8}.dropzone[_ngcontent-%COMP%]{width:100%;height:200px;padding:2rem;text-align:center;border:1px dashed #979797!important;position:relative;margin:0 auto}.dropzone[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;position:absolute;z-index:2;width:100%;height:100%;top:0;left:0}.dropzone[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff!important;width:183px!important;height:44px!important;line-height:44px!important;border-radius:21.5px!important;background-color:#db202f!important;padding:0 16px!important;cursor:pointer}.dropzone[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#38424c}.fileover[_ngcontent-%COMP%]{animation:shake 1s;animation-iteration-count:infinite}.files-list[_ngcontent-%COMP%]{margin-top:1.5rem!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]{padding:.5rem!important;justify-content:space-between!important;align-items:center!important;border:1px dashed #979797!important;margin-bottom:1rem!important;display:flex!important;flex-grow:1!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   img.delete[_ngcontent-%COMP%]{margin-left:.5rem!important;cursor:pointer!important;align-self:flex-end!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px!important;font-weight:500!important;color:#353f4a!important;margin:0!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{font-size:12px!important;font-weight:500!important;color:#a4a4a4!important;margin:0 0 .25rem!important}.files-list[_ngcontent-%COMP%]   .single-file[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:100%!important}@keyframes shake{0%{transform:translate(1px,1px) rotate(0deg)}10%{transform:translate(-1px,-2px) rotate(-1deg)}20%{transform:translate(-3px) rotate(1deg)}30%{transform:translate(3px,2px) rotate(0deg)}40%{transform:translate(1px,-1px) rotate(1deg)}50%{transform:translate(-1px,2px) rotate(-1deg)}60%{transform:translate(-3px,1px) rotate(0deg)}70%{transform:translate(3px,1px) rotate(-1deg)}80%{transform:translate(-1px,-1px) rotate(1deg)}90%{transform:translate(1px,2px) rotate(0deg)}to{transform:translate(1px,-2px) rotate(-1deg)}}"]}),e})();function Qo(e,t){1&e&&c.Zb(0)}function ea(e,t){if(1&e&&(c.bc(0),c.Pc(1,Qo,1,0,"ng-container",17),c.ac()),2&e){const e=c.rc(),t=c.Hc(19),n=c.Hc(21);c.Kb(1),c.yc("ngIf",e.activeYear.length<1)("ngIfThen",t)("ngIfElse",n)}}function ta(e,t){1&e&&c.Zb(0)}function na(e,t){if(1&e&&(c.bc(0),c.Pc(1,ta,1,0,"ng-container",18),c.ac()),2&e){c.rc();const e=c.Hc(23);c.Kb(1),c.yc("ngIf",!0)("ngIfThen",e)}}function ia(e,t){1&e&&(c.dc(0,"div",19),c.Rc(1," Hajj registration for this year has not been opened yet. Contact Admin. "),c.cc())}function ra(e,t){1&e&&c.Zb(0)}function oa(e,t){if(1&e&&c.Pc(0,ra,1,0,"ng-container",17),2&e){const e=c.rc(),t=c.Hc(23),n=c.Hc(25);c.yc("ngIf",e.loader.loaderVisible)("ngIfThen",t)("ngIfElse",n)}}function aa(e,t){1&e&&(c.dc(0,"div",20),c.Yb(1,"app-loader"),c.cc())}function ca(e,t){if(1&e&&(c.bc(0),c.dc(1,"app-step-template",26),c.sc(2,"async"),c.Yb(3,"app-enrollment-details",26),c.sc(4,"async"),c.cc(),c.ac()),2&e){const e=c.rc(2);c.Kb(1),c.yc("step",c.tc(2,2,e.currentStep)),c.Kb(2),c.yc("step",c.tc(4,4,e.currentStep))}}function sa(e,t){if(1&e&&(c.bc(0),c.dc(1,"app-step-template",26),c.sc(2,"async"),c.Yb(3,"app-personal-details",26),c.sc(4,"async"),c.cc(),c.ac()),2&e){const e=c.rc(2);c.Kb(1),c.yc("step",c.tc(2,2,e.currentStep)),c.Kb(2),c.yc("step",c.tc(4,4,e.currentStep))}}function la(e,t){if(1&e&&(c.bc(0),c.dc(1,"app-step-template",26),c.sc(2,"async"),c.Yb(3,"app-next-of-kin-details",26),c.sc(4,"async"),c.cc(),c.ac()),2&e){const e=c.rc(2);c.Kb(1),c.yc("step",c.tc(2,2,e.currentStep)),c.Kb(2),c.yc("step",c.tc(4,4,e.currentStep))}}function da(e,t){if(1&e&&(c.bc(0),c.dc(1,"app-step-template",26),c.sc(2,"async"),c.Yb(3,"app-document-upload",26),c.sc(4,"async"),c.cc(),c.ac()),2&e){const e=c.rc(2);c.Kb(1),c.yc("step",c.tc(2,2,e.currentStep)),c.Kb(2),c.yc("step",c.tc(4,4,e.currentStep))}}function ua(e,t){if(1&e){const e=c.ec();c.dc(0,"button",27),c.nc("click",function(){return c.Jc(e),c.rc(2).onPreviousStep()}),c.Rc(1," Previous "),c.cc()}}function ha(e,t){if(1&e){const e=c.ec();c.dc(0,"div",21),c.dc(1,"div",22),c.Yb(2,"app-steps"),c.cc(),c.dc(3,"div",23),c.bc(4,11),c.sc(5,"async"),c.Pc(6,ca,5,6,"ng-container",12),c.Pc(7,sa,5,6,"ng-container",12),c.Pc(8,la,5,6,"ng-container",12),c.Pc(9,da,5,6,"ng-container",12),c.ac(),c.cc(),c.cc(),c.dc(10,"div",21),c.Pc(11,ua,2,0,"button",24),c.sc(12,"async"),c.dc(13,"button",25),c.nc("click",function(){return c.Jc(e),c.rc().onNextStep()}),c.sc(14,"async"),c.sc(15,"async"),c.Rc(16),c.cc(),c.cc()}if(2&e){const e=c.rc();let t=null,n=null,i=null,r=null;c.Kb(4),c.yc("ngSwitch",null==(t=c.tc(5,14,e.currentStep))?null:t.stepIndex),c.Kb(2),c.yc("ngSwitchCase","1"),c.Kb(1),c.yc("ngSwitchCase","2"),c.Kb(1),c.yc("ngSwitchCase","3"),c.Kb(1),c.yc("ngSwitchCase","4"),c.Kb(2),c.yc("ngIf",1!==(null==(n=c.tc(12,16,e.currentStep))?null:n.stepIndex)),c.Kb(2),c.Pb("btn-primary",!e.isLastStep)("btn-success",e.isLastStep)("ml-auto",1===(null==(i=c.tc(14,18,e.currentStep))?null:i.stepIndex)),c.yc("disabled",!(null!=(r=c.tc(15,20,e.currentStep))&&r.isComplete)),c.Kb(3),c.Tc(" ",e.showButtonLabel()," ")}}let fa=(()=>{class e{constructor(e,t,n,i,r){this.stepsService=e,this.notifications=t,this.formsService=n,this.dataService=i,this.loader=r,this.subscription=new Rt.a,this.activeYear=[],this.fetchedYear=!1,this.seats=[]}ngOnInit(){this.currentStep=this.stepsService.getCurrentStep(),this.getActiveYear()}ngOnDestroy(){this.subscription.unsubscribe(),this.loader.hideLoader()}onNextStep(){this.stepsService.isLastStep()?this.onSubmit():this.stepsService.moveToNextStep()}onPreviousStep(){this.stepsService.moveToPreviousStep()}showButtonLabel(){return this.stepsService.isLastStep()?"Submit":"Next"}getActiveYear(){this.loader.showLoader();const e=sessionStorage.getItem("token");this.subscription=this.dataService.get(`${kt.a.years}/get-active/all`,e).subscribe(e=>{this.activeYear=[...e],this.fetchedYear=!0,this.loader.hideLoader()})}get isLastStep(){let e=!0;return this.stepsService.getSteps().subscribe(t=>{t.forEach(t=>{t.isComplete||(e=!1)})}),this.stepsService.isLastStep()&&e}resetForm(){this.formsService.reset(),this.stepsService.reset()}onSubmit(){this.notifications.prompt("Are you sure you want to submit?").then(e=>{if(e.isConfirmed){this.loader.showLoader();const e=sessionStorage.getItem("token"),t=kt.a.pilgrims;this.subscription=this.dataService.post(`${kt.a.pilgrims}/image`,this.formsService.formData,e).subscribe(n=>{this.notifications.successToast(`${n.message} Sending user data...`),this.subscription=this.dataService.post(t,this.formsService.formValue,e).subscribe(e=>{this.notifications.alert("Pilgrim registered successfully. <br />Proceed to seat allocations</b>").then(e=>{this.formsService.reset(),this.stepsService.reset(),this.loader.hideLoader()})})})}})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Yi.a),c.Xb(Ut.a),c.Xb($t.a),c.Xb(Wt.a),c.Xb(Ot.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-pilgrim-form"]],decls:26,vars:3,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","stretch-card"],[1,"card"],[1,"card-body"],[1,"float-right","btn","btn-outline-danger","btn-sm","mr-2","mb-1",3,"click"],[1,"card-title"],[3,"ngSwitch"],[4,"ngSwitchCase"],["inactive",""],["active",""],["load",""],["show",""],[4,"ngIf","ngIfThen","ngIfElse"],[4,"ngIf","ngIfThen"],[1,"col-12","mx-auto","d-flex","justify-content-center","text-danger","mb-5"],[1,"mx-auto"],[1,"row","mr-1"],[1,"col-sm-3"],[1,"col-sm-9","mx-auto",2,"border","1px solid #e8eff4","padding","2rem 1.5rem","border-radius","0.3rem"],["class","btn btn-md btn-outline-primary ml-auto mt-3 step-btn",3,"click",4,"ngIf"],[1,"btn","btn-md","btn-primary","ml-3","mt-3","step-btn",3,"disabled","click"],[3,"step"],[1,"btn","btn-md","btn-outline-primary","ml-auto","mt-3","step-btn",3,"click"]],template:function(e,t){1&e&&(c.dc(0,"nav",0),c.dc(1,"ol",1),c.dc(2,"li",2),c.dc(3,"a",3),c.Rc(4,"Pilgrims"),c.cc(),c.cc(),c.dc(5,"li",4),c.Rc(6,"Register Pilgrim"),c.cc(),c.cc(),c.cc(),c.dc(7,"div",5),c.dc(8,"div",6),c.dc(9,"div",7),c.dc(10,"div",8),c.dc(11,"button",9),c.nc("click",function(){return t.resetForm()}),c.Rc(12," Reset Form "),c.cc(),c.dc(13,"h4",10),c.Rc(14,"Pilgrim Registration Form "),c.cc(),c.bc(15,11),c.Pc(16,ea,2,3,"ng-container",12),c.Pc(17,na,2,2,"ng-container",12),c.ac(),c.cc(),c.cc(),c.cc(),c.cc(),c.Pc(18,ia,2,0,"ng-template",null,13,c.Qc),c.Pc(20,oa,1,3,"ng-template",null,14,c.Qc),c.Pc(22,aa,2,0,"ng-template",null,15,c.Qc),c.Pc(24,ha,17,22,"ng-template",null,16,c.Qc)),2&e&&(c.Kb(15),c.yc("ngSwitch",t.fetchedYear),c.Kb(1),c.yc("ngSwitchCase",!0),c.Kb(1),c.yc("ngSwitchCase",!1))},directives:[r.r,r.s,r.p,_t.a,qi,$i,lr,ho,Wo,Zo],pipes:[r.b],styles:[".step-btn[_ngcontent-%COMP%]{width:150px;height:40px}"]}),e})();var pa=n("cp0P");function ga(e,t){1&e&&c.Yb(0,"app-loader")}function ma(e,t){1&e&&(c.dc(0,"p",3),c.Rc(1,"Allocation Details"),c.cc())}function ba(e,t){if(1&e&&(c.dc(0,"div"),c.dc(1,"div",28),c.dc(2,"h4"),c.Rc(3),c.cc(),c.cc(),c.dc(4,"div",5),c.dc(5,"div",6),c.dc(6,"label",29),c.Rc(7,"Receipt Number"),c.cc(),c.Yb(8,"input",30),c.sc(9,"uppercase"),c.cc(),c.dc(10,"div",6),c.dc(11,"label",29),c.Rc(12,"Teller Number"),c.cc(),c.Yb(13,"input",30),c.sc(14,"uppercase"),c.cc(),c.cc(),c.dc(15,"div",5),c.dc(16,"div",6),c.dc(17,"label",29),c.Rc(18,"Payment Date"),c.cc(),c.Yb(19,"input",30),c.sc(20,"date"),c.cc(),c.dc(21,"div",6),c.dc(22,"label",29),c.Rc(23,"Bank"),c.cc(),c.Yb(24,"input",30),c.cc(),c.cc(),c.dc(25,"div",5),c.dc(26,"div",31),c.dc(27,"h5"),c.Rc(28,"Amount: "),c.dc(29,"span",32),c.Rc(30),c.sc(31,"currency"),c.cc(),c.cc(),c.cc(),c.cc(),c.cc()),2&e){const e=t.$implicit,n=t.index;c.Kb(3),c.Tc("",n+1,"."),c.Kb(3),c.yc("for","receiptNumber"+n),c.Kb(2),c.yc("id","receiptNumber"+n)("value",c.tc(9,14,e.receiptNumber)),c.Kb(3),c.yc("for","tellerNumber"+n),c.Kb(2),c.yc("id","tellerNumber"+n)("value",c.tc(14,16,e.tellerNumber)),c.Kb(4),c.yc("for","paymentDate"+n),c.Kb(2),c.yc("id","paymentDate"+n)("value",c.uc(20,18,e.paymentDate,"longDate")),c.Kb(3),c.yc("for","bank"+n),c.Kb(2),c.yc("id","bank"+n)("value",e.bankObject.name),c.Kb(6),c.Sc(c.vc(31,21,e.amount,"NGN","symbol-narrow"))}}function va(e,t){if(1&e&&(c.dc(0,"mat-dialog-content"),c.dc(1,"h5"),c.Rc(2,"Pilgrim Details"),c.cc(),c.Yb(3,"hr",4),c.dc(4,"div",5),c.dc(5,"div",6),c.dc(6,"label",7),c.Rc(7,"Surname"),c.cc(),c.Yb(8,"input",8),c.cc(),c.dc(9,"div",6),c.dc(10,"label",9),c.Rc(11,"Other names"),c.cc(),c.Yb(12,"input",10),c.cc(),c.cc(),c.dc(13,"div",5),c.dc(14,"div",6),c.dc(15,"label",11),c.Rc(16,"Phone"),c.cc(),c.Yb(17,"input",12),c.cc(),c.dc(18,"div",6),c.dc(19,"label",13),c.Rc(20,"Email"),c.cc(),c.Yb(21,"input",14),c.cc(),c.cc(),c.dc(22,"div",5),c.dc(23,"div",6),c.dc(24,"label",15),c.Rc(25,"Passport Number"),c.cc(),c.Yb(26,"input",16),c.cc(),c.Yb(27,"div",6),c.cc(),c.Yb(28,"br"),c.dc(29,"div",5),c.dc(30,"div",6),c.dc(31,"label",17),c.Rc(32,"Registration Code"),c.cc(),c.Yb(33,"input",18),c.cc(),c.dc(34,"div",6),c.dc(35,"label",19),c.Rc(36,"Registration Year"),c.cc(),c.Yb(37,"input",20),c.cc(),c.cc(),c.dc(38,"div",5),c.dc(39,"div",6),c.dc(40,"label",21),c.Rc(41,"Registration Zone"),c.cc(),c.Yb(42,"input",22),c.cc(),c.dc(43,"div",6),c.dc(44,"label",23),c.Rc(45,"Last Hajj Year"),c.cc(),c.Yb(46,"input",24),c.cc(),c.cc(),c.dc(47,"div",5),c.dc(48,"div",6),c.dc(49,"label",21),c.Rc(50,"Registration Number"),c.cc(),c.Yb(51,"input",22),c.cc(),c.dc(52,"div",6),c.dc(53,"label",25),c.Rc(54,"Last Hajj Experience"),c.cc(),c.Yb(55,"input",26),c.cc(),c.cc(),c.Yb(56,"br"),c.dc(57,"h5"),c.Rc(58,"Payment history"),c.cc(),c.Yb(59,"hr",4),c.Pc(60,ba,32,25,"div",27),c.Yb(61,"br"),c.cc()),2&e){const e=c.rc();c.Kb(8),c.yc("value",e.data.pilgrim.personalDetails.surname),c.Kb(4),c.yc("value",e.data.pilgrim.personalDetails.otherNames),c.Kb(5),c.yc("value",e.data.pilgrim.personalDetails.phone),c.Kb(4),c.yc("value",e.data.pilgrim.personalDetails.email),c.Kb(5),c.yc("value",e.data.pilgrim.passportDetails.passportNumber),c.Kb(7),c.yc("value",e.data.code?e.data.code:"UNASSIGNED"),c.Kb(4),c.yc("value",e.data.enrollmentYear.year),c.Kb(5),c.yc("value",e.data.enrollmentZone.name),c.Kb(4),c.yc("value",e.data.lastHajjYear),c.Kb(5),c.yc("value",e.data.enrollmentAllocationNumber),c.Kb(4),c.yc("value",e.data.hajjExperience),c.Kb(5),c.yc("ngForOf",e.data.paymentHistory)}}function ya(e,t){1&e&&(c.dc(0,"mat-dialog-actions",33),c.dc(1,"button",34),c.Rc(2," Close "),c.cc(),c.cc())}let xa=(()=>{class e{constructor(e,t,n){this.data=e,this.dataService=t,this.loader=n,this.banks=[],this.subscription=new Rt.a}ngOnInit(){console.log(this.data),window.scroll(0,0),this.getBanks()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}getBanks(){this.loader.showLoader();const e=kt.a.banks,t=sessionStorage.getItem("token");this.subscription=this.dataService.get(e,t,"").subscribe(e=>{this.banks=[...e],this.data.paymentHistory.forEach(e=>{e.bankObject=this.banks.find(t=>t._id===e.bank)}),this.loader.hideLoader()})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(It.a),c.Xb(Wt.a),c.Xb(Ot.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-view-hajj-allocation"]],decls:4,vars:4,consts:[[4,"ngIf"],["mat-dialog-title","","style","font-size: 160%;",4,"ngIf"],["align","end",4,"ngIf"],["mat-dialog-title","",2,"font-size","160%"],[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],["for","surname"],["type","text","id","surname","disabled","",1,"form-control","form-control-sm",3,"value"],["for","otherNames"],["type","text","id","otherNames","disabled","",1,"form-control","form-control-sm",3,"value"],["for","phone"],["type","text","id","phone","disabled","",1,"form-control","form-control-sm",3,"value"],["for","email"],["type","text","id","email","disabled","",1,"form-control","form-control-sm",3,"value"],["for","passortNumber"],["type","text","id","passortNumber","disabled","",1,"form-control","form-control-sm",3,"value"],["for","registrationCode"],["type","text","id","registrationCode","disabled","",1,"form-control","form-control-sm",3,"value"],["for","year"],["type","text","id","year","disabled","",1,"form-control","form-control-sm",3,"value"],["for","registrationZone"],["type","text","id","registrationZone","disabled","",1,"form-control","form-control-sm",3,"value"],["for","lastHajjYear"],["type","text","id","lastHajjYear","disabled","",1,"form-control","form-control-sm",3,"value"],["for","hajjExperience"],["type","text","id","hajjExperience","disabled","",1,"form-control","form-control-sm",3,"value"],[4,"ngFor","ngForOf"],[1,"row","col-12","mx-auto"],[3,"for"],["type","text","disabled","",1,"form-control","form-control-sm",3,"id","value"],[1,"form-group","col-sm-12","mx-auto"],[1,"text-success"],["align","end"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2"]],template:function(e,t){1&e&&(c.Pc(0,ga,1,0,"app-loader",0),c.Pc(1,ma,2,0,"p",1),c.Pc(2,va,62,12,"mat-dialog-content",0),c.Pc(3,ya,3,0,"mat-dialog-actions",2)),2&e&&(c.yc("ngIf",t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible))},directives:[r.p,_t.a,It.h,It.e,r.o,It.c,It.d],pipes:[r.A,r.f,r.d],styles:[""]}),e})();function Pa(e,t){1&e&&c.Yb(0,"app-loader")}function Sa(e,t){1&e&&(c.dc(0,"p",4),c.Rc(1,"Edit Allocation"),c.cc())}function wa(e,t){if(1&e){const e=c.ec();c.dc(0,"a",22),c.nc("click",function(){c.Jc(e);const t=c.rc().index;return c.rc(2).removePaymentForm(t)}),c.Rc(1,"Remove"),c.cc()}}function Ra(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function ka(e,t){if(1&e&&(c.dc(0,"div",23),c.Pc(1,Ra,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("receiptNumber"))?null:t.errors.required)}}function Ia(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Oa(e,t){if(1&e&&(c.dc(0,"div",23),c.Pc(1,Ia,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("tellerNumber"))?null:t.errors.required)}}function _a(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a valid date. "),c.cc())}function Da(e,t){if(1&e&&(c.dc(0,"div",23),c.Pc(1,_a,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("paymentDate"))?null:t.errors.required)}}function Ca(e,t){if(1&e&&(c.dc(0,"option",24),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function Ka(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a bank. "),c.cc())}function Aa(e,t){if(1&e&&(c.dc(0,"div",23),c.Pc(1,Ka,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("bank"))?null:t.errors.required)}}function Ma(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Ta(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Only numbers are allowed "),c.cc())}function Fa(e,t){if(1&e&&(c.dc(0,"div",23),c.Pc(1,Ma,2,0,"div",1),c.Pc(2,Ta,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null,n=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("amount"))?null:t.errors.required),c.Kb(1),c.yc("ngIf",null==(n=e.get("amount"))?null:n.errors.pattern)}}function Na(e,t){if(1&e&&(c.dc(0,"div"),c.dc(1,"form",8),c.dc(2,"div",9),c.dc(3,"h4"),c.Rc(4),c.cc(),c.Pc(5,wa,2,0,"a",10),c.cc(),c.dc(6,"div",11),c.dc(7,"div",12),c.dc(8,"label",13),c.Rc(9,"Receipt Number"),c.cc(),c.Yb(10,"input",14),c.Pc(11,ka,2,1,"div",15),c.cc(),c.dc(12,"div",12),c.dc(13,"label",13),c.Rc(14,"Teller Number"),c.cc(),c.Yb(15,"input",16),c.Pc(16,Oa,2,1,"div",15),c.cc(),c.cc(),c.dc(17,"div",11),c.dc(18,"div",12),c.dc(19,"label",13),c.Rc(20," Date of Payment "),c.cc(),c.Yb(21,"input",17),c.Pc(22,Da,2,1,"div",15),c.cc(),c.dc(23,"div",12),c.dc(24,"label",13),c.Rc(25,"Bank"),c.cc(),c.dc(26,"select",18),c.dc(27,"option",19),c.Rc(28,"Select Bank"),c.cc(),c.Pc(29,Ca,2,2,"option",20),c.cc(),c.Pc(30,Aa,2,1,"div",15),c.cc(),c.cc(),c.dc(31,"div",11),c.dc(32,"div",12),c.dc(33,"label",13),c.Rc(34,"Amount"),c.cc(),c.Yb(35,"input",21),c.Pc(36,Fa,3,2,"div",15),c.cc(),c.Yb(37,"div",12),c.cc(),c.cc(),c.cc()),2&e){const e=t.$implicit,n=t.index,i=c.rc(2);let r=null,o=null,a=null,s=null,l=null,d=null,u=null,h=null,f=null,p=null,g=null,m=null,b=null,v=null,y=null;c.Kb(1),c.yc("formGroup",e),c.Kb(3),c.Tc("",n+1,"."),c.Kb(1),c.yc("ngIf",0!==n),c.Kb(3),c.Pb("text-danger",(null==(r=e.get("receiptNumber"))?null:r.touched)&&(null==(r=e.get("receiptNumber"))?null:r.invalid)),c.yc("for","receiptNumber"+n),c.Kb(2),c.Pb("error-control",(null==(o=e.get("receiptNumber"))?null:o.touched)&&(null==(o=e.get("receiptNumber"))?null:o.invalid)),c.yc("id","receiptNumber"+n),c.Kb(1),c.yc("ngIf",(null==(a=e.get("receiptNumber"))?null:a.touched)&&(null==(a=e.get("receiptNumber"))?null:a.invalid)),c.Kb(2),c.Pb("text-danger",(null==(s=e.get("tellerNumber"))?null:s.touched)&&(null==(s=e.get("tellerNumber"))?null:s.invalid)),c.yc("for","tellerNumber"+n),c.Kb(2),c.Pb("error-control",(null==(l=e.get("tellerNumber"))?null:l.touched)&&(null==(l=e.get("tellerNumber"))?null:l.invalid)),c.yc("id","tellerNumber"+n),c.Kb(1),c.yc("ngIf",(null==(d=e.get("tellerNumber"))?null:d.touched)&&(null==(d=e.get("tellerNumber"))?null:d.invalid)),c.Kb(3),c.Pb("text-danger",(null==(u=e.get("paymentDate"))?null:u.touched)&&(null==(u=e.get("paymentDate"))?null:u.invalid)),c.yc("for","paymentDate"+n),c.Kb(2),c.Pb("error-control",(null==(h=e.get("paymentDate"))?null:h.touched)&&(null==(h=e.get("paymentDate"))?null:h.invalid)),c.yc("id","paymentDate"+n),c.Kb(1),c.yc("ngIf",(null==(f=e.get("paymentDate"))?null:f.touched)&&(null==(f=e.get("paymentDate"))?null:f.invalid)),c.Kb(2),c.Pb("text-danger",(null==(p=e.get("bank"))?null:p.touched)&&(null==(p=e.get("bank"))?null:p.invalid)),c.yc("for","bank"+n),c.Kb(2),c.Pb("error-control",(null==(g=e.get("bank"))?null:g.touched)&&(null==(g=e.get("bank"))?null:g.invalid)),c.yc("id","bank"+n),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",i.banks),c.Kb(1),c.yc("ngIf",(null==(m=e.get("bank"))?null:m.touched)&&(null==(m=e.get("bank"))?null:m.invalid)),c.Kb(3),c.Pb("text-danger",(null==(b=e.get("amount"))?null:b.touched)&&(null==(b=e.get("amount"))?null:b.invalid)),c.yc("for","amount"+n),c.Kb(2),c.Pb("error-control",(null==(v=e.get("amount"))?null:v.touched)&&(null==(v=e.get("amount"))?null:v.invalid)),c.yc("id","amount"+n),c.Kb(1),c.yc("ngIf",(null==(y=e.get("amount"))?null:y.touched)&&(null==(y=e.get("amount"))?null:y.invalid))}}function La(e,t){if(1&e){const e=c.ec();c.dc(0,"mat-dialog-content"),c.dc(1,"h5"),c.Rc(2,"Payment history"),c.cc(),c.Yb(3,"hr",5),c.Pc(4,Na,38,40,"div",6),c.dc(5,"button",7),c.nc("click",function(){return c.Jc(e),c.rc().addPaymentForm()}),c.Rc(6," Add Payment "),c.cc(),c.cc()}if(2&e){const e=c.rc();c.Kb(4),c.yc("ngForOf",e.paymentHistoryForms)}}function za(e,t){if(1&e&&(c.dc(0,"mat-dialog-actions",25),c.dc(1,"button",26),c.Rc(2," Close "),c.cc(),c.dc(3,"button",27),c.Rc(4," Save "),c.cc(),c.cc()),2&e){const e=c.rc();c.Kb(1),c.yc("disabled",e.loader.loaderVisible),c.Kb(2),c.yc("disabled",e.loader.loaderVisible||!e.formsValid)}}let ja=(()=>{class e{constructor(e,t,n,i,r,o,a){this.data=e,this.dataService=t,this.formsService=n,this.loader=i,this.fb=r,this.notifications=o,this.dialogRef=a,this.paymentHistory=[],this.banks=[],this.subscription=new Rt.a}ngOnInit(){this.editAllocationForm=this.fb.group({paymentHistory:this.fb.array([])}),this.getBanks(),this.paymentHistory=this.data.paymentHistory;const e=this.editAllocationForm.get("paymentHistory");this.paymentHistory.forEach(t=>e.push(this.getPaymentHistoryForm(t))),console.log(this.editAllocationForm.value)}getPaymentHistoryForm(e){return this.fb.group({bank:[e&&e.bank?e.bank:"",i.z.required],tellerNumber:[e&&e.tellerNumber?e.tellerNumber:"",i.z.required],receiptNumber:[e&&e.receiptNumber?e.receiptNumber:"",i.z.required],paymentDate:[e&&e.paymentDate?Lt(e.paymentDate).format("YYYY-MM-DD"):"",[i.z.required,qt.a.greaterThanToday]],amount:[e&&e.amount?e.amount:"",[i.z.required,i.z.pattern(/^[0-9]+$/)]]})}addPaymentForm(){this.editAllocationForm.get("paymentHistory").push(this.getPaymentHistoryForm())}removePaymentForm(e){this.editAllocationForm.get("paymentHistory").removeAt(e)}getBanks(){this.paymentHistory=[...this.data.paymentHistory],this.loader.showLoader();const e=kt.a.banks,t=sessionStorage.getItem("token");this.subscription=this.dataService.get(e,t,"").subscribe(e=>{this.banks=[...e],this.loader.hideLoader()})}get paymentHistoryForms(){return this.editAllocationForm.get("paymentHistory").controls}get formsValid(){return this.paymentHistoryForms.every(e=>e.valid)}submit(){this.notifications.prompt("Are you sure you want to submit?").then(e=>{if(e.isConfirmed){this.loader.showLoader();const e=sessionStorage.getItem("token");this.subscription=this.dataService.update(kt.a.allocations+"/add-payment",this.data._id,this.editAllocationForm.value,e).subscribe(e=>{this.notifications.alert("Allocation updated successfully.").then(e=>{this.loader.hideLoader(),this.dialogRef.close(!0)})})}})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(It.a),c.Xb(Wt.a),c.Xb($t.a),c.Xb(Ot.a),c.Xb(i.e),c.Xb(Ut.a),c.Xb(It.g))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-edit-hajj-allocation"]],decls:5,vars:5,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],["mat-dialog-title","","style","font-size: 160%;",4,"ngIf"],["align","end",4,"ngIf"],["mat-dialog-title","",2,"font-size","160%"],[2,"margin-top","0px"],[4,"ngFor","ngForOf"],["type","button",1,"mb-5","btn","btn-warning","btn-sm","text-white",3,"click"],[3,"formGroup"],[1,"row","col-12","mx-auto"],["href","javascript:void(0)","class","small ml-auto",3,"click",4,"ngIf"],[1,"row"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],[3,"for"],["type","text","formControlName","receiptNumber",1,"form-control","form-control-sm",3,"id"],["class","text-danger mt-1",4,"ngIf"],["type","text","formControlName","tellerNumber",1,"form-control","form-control-sm",3,"id"],["type","date","formControlName","paymentDate",1,"form-control","form-control-sm",3,"id"],["type","text","formControlName","bank",1,"form-control","form-control-sm",3,"id"],["selected","","hidden","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","amount",1,"form-control","form-control-sm",3,"id"],["href","javascript:void(0)",1,"small","ml-auto",3,"click"],[1,"text-danger","mt-1"],[3,"value"],["align","end"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2",3,"disabled"],["type","submit",1,"btn-success","btn-sm","btn","ml-2",3,"disabled"]],template:function(e,t){1&e&&(c.dc(0,"form",0),c.nc("ngSubmit",function(){return t.submit()}),c.Pc(1,Pa,1,0,"app-loader",1),c.Pc(2,Sa,2,0,"p",2),c.Pc(3,La,7,1,"mat-dialog-content",1),c.Pc(4,za,5,2,"mat-dialog-actions",3),c.cc()),2&e&&(c.yc("formGroup",t.editAllocationForm),c.Kb(1),c.yc("ngIf",t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible))},directives:[i.B,i.q,i.i,r.p,_t.a,It.h,It.e,r.o,i.c,i.p,i.g,i.y,i.t,i.A,It.c,It.d],styles:[""]}),e})();function Ea(e,t){1&e&&c.Zb(0)}function Ba(e,t){if(1&e&&(c.dc(0,"option",19),c.Rc(1),c.sc(2,"uppercase"),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(c.tc(2,2,e))}}function Ya(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a deletion reason. "),c.cc())}function Ha(e,t){if(1&e&&(c.dc(0,"div",20),c.Pc(1,Ya,2,0,"div",16),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.deletionReason.errors.required)}}function Va(e,t){if(1&e&&(c.dc(0,"option",19),c.Rc(1),c.sc(2,"uppercase"),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(c.tc(2,2,e))}}function qa(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a deletion reason. "),c.cc())}function Wa(e,t){if(1&e&&(c.dc(0,"div",20),c.Pc(1,qa,2,0,"div",16),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.refundDetails.errors.required)}}function $a(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Ua(e,t){if(1&e&&(c.dc(0,"div",20),c.Pc(1,$a,2,0,"div",16),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.yc("ngIf",e.otherRefunds.errors.required)}}function Ga(e,t){if(1&e&&(c.bc(0),c.dc(1,"div",8),c.dc(2,"label",21),c.Rc(3,"Others, please specify"),c.cc(),c.Yb(4,"input",22),c.Pc(5,Ua,2,1,"div",13),c.cc(),c.ac()),2&e){const e=c.rc(2);c.Kb(2),c.Pb("text-danger",e.otherRefunds.touched&&e.otherRefunds.invalid),c.Kb(2),c.Pb("error-control",e.otherRefunds.touched&&e.otherRefunds.invalid),c.Kb(1),c.yc("ngIf",e.otherRefunds.touched&&e.otherRefunds.invalid)}}function Xa(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Ja(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid amount. "),c.cc())}function Za(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," amount must be more than -1; "),c.cc())}function Qa(e,t){if(1&e&&(c.dc(0,"div",20),c.Pc(1,Xa,2,0,"div",16),c.Pc(2,Ja,2,0,"div",16),c.Pc(3,Za,2,0,"div",16),c.cc()),2&e){const e=c.rc(2);c.Kb(1),c.yc("ngIf",e.amountRefunded.errors.required),c.Kb(1),c.yc("ngIf",e.amountRefunded.errors.pattern),c.Kb(1),c.yc("ngIf",e.amountRefunded.errors.min)}}function ec(e,t){if(1&e){const e=c.ec();c.dc(0,"div",8),c.dc(1,"label",9),c.Rc(2,"Reason for deletion"),c.cc(),c.dc(3,"select",10),c.nc("change",function(){return c.Jc(e),c.rc().setRefunds()}),c.dc(4,"option",11),c.Rc(5,"Select deletion reason"),c.cc(),c.Pc(6,Ba,3,4,"option",12),c.cc(),c.Pc(7,Ha,2,1,"div",13),c.cc(),c.dc(8,"div",8),c.dc(9,"label",14),c.Rc(10,"Has pilgrim been refunded?"),c.cc(),c.dc(11,"select",15),c.nc("change",function(){return c.Jc(e),c.rc().setOtherRefunds()}),c.Rc(12),c.sc(13,"json"),c.dc(14,"option",11),c.Rc(15,"Select refund details"),c.cc(),c.Pc(16,Va,3,4,"option",12),c.cc(),c.Pc(17,Wa,2,1,"div",13),c.cc(),c.Pc(18,Ga,6,5,"ng-container",16),c.dc(19,"div",8),c.dc(20,"label",17),c.Rc(21,"amountRefunded"),c.cc(),c.Yb(22,"input",18),c.Pc(23,Qa,4,3,"div",13),c.cc()}if(2&e){const e=c.rc();c.Kb(1),c.Pb("text-danger",e.deletionReason.touched&&e.deletionReason.invalid),c.Kb(2),c.Pb("error-control",e.deletionReason.touched&&e.deletionReason.invalid),c.Kb(3),c.yc("ngForOf",e.deletionReasons),c.Kb(1),c.yc("ngIf",e.deletionReason.touched&&e.deletionReason.invalid),c.Kb(2),c.Pb("text-danger",e.refundDetails.touched&&e.refundDetails.invalid),c.Kb(2),c.Pb("error-control",e.refundDetails.touched&&e.refundDetails.invalid),c.Kb(1),c.Tc(" ",c.tc(13,19,e.refunds)," "),c.Kb(4),c.yc("ngForOf",e.refunds),c.Kb(1),c.yc("ngIf",e.refundDetails.touched&&e.refundDetails.invalid),c.Kb(1),c.yc("ngIf","others"===e.refundDetails.value),c.Kb(2),c.Pb("text-danger",e.amountRefunded.touched&&e.amountRefunded.invalid),c.Kb(2),c.Pb("error-control",e.amountRefunded.touched&&e.amountRefunded.invalid),c.Kb(1),c.yc("ngIf",e.amountRefunded.touched&&e.amountRefunded.invalid)}}function tc(e,t){1&e&&(c.dc(0,"app-loader"),c.Rc(1,"Please wait..."),c.cc())}let nc=(()=>{class e{constructor(e,t,n,i,r,o){this.data=e,this.dialogRef=t,this.fb=n,this.loader=i,this.dataService=r,this.notifications=o,this.deletionReasons=["withdrawn","replacement"],this.withdrawnRefunds=["refunded","not refunded"],this.replacementRefunds=["refunded","swapped","others"],this.refunds=[],this.subscription=new Rt.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.initializeForm()}initializeForm(){this.deleteAllocationForm=this.fb.group({deletionReason:["",i.z.required],refundDetails:["",i.z.required],amountRefunded:["",[i.z.required,i.z.min(0)]],otherRefunds:""})}deleteAllocation(){const e=this.data;this.notifications.prompt(`Are you sure you <br /> want to delete <br />${e.code} ?`).then(t=>{t.isConfirmed&&(this.loader.showLoader(),this.subscription=this.dataService.delete(kt.a.allocations,e._id,this.token,{deletionReason:this.deletionReason.value,amountRefunded:this.amountRefunded.value,fundRefunded:"others"===this.refundDetails.value?this.otherRefunds.value:this.refundDetails.value}).subscribe(e=>{this.notifications.successToast("Allocation was deleted successfully."),this.dialogRef.close(!0)}))})}setRefunds(){this.refunds="withdrawn"===this.deletionReason.value?[...this.withdrawnRefunds]:"replacement"===this.deletionReason.value?[...this.replacementRefunds]:[]}setOtherRefunds(){"others"===this.refundDetails.value?this.otherRefunds.setValidators([i.z.required]):(this.otherRefunds.reset(""),this.otherRefunds.clearValidators()),this.otherRefunds.updateValueAndValidity()}get deletionReason(){return this.deleteAllocationForm.get("deletionReason")}get refundDetails(){return this.deleteAllocationForm.get("refundDetails")}get amountRefunded(){return this.deleteAllocationForm.get("amountRefunded")}get otherRefunds(){return this.deleteAllocationForm.get("otherRefunds")}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(It.a),c.Xb(It.g),c.Xb(i.e),c.Xb(Oi.a),c.Xb(Wt.a),c.Xb(Ut.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-delete-hajj-allocation"]],decls:14,vars:10,consts:[[3,"formGroup"],["mat-dialog-title","",2,"font-size","150%"],[4,"ngIf","ngIfThen","ngIfElse"],["align","end"],["type","submit",1,"btn-primary","btn-sm","btn",3,"disabled","click"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2",3,"disabled"],["show",""],["load",""],[1,"form-group"],["for","deletionReason"],["id","deletionReason","formControlName","deletionReason",1,"form-control","form-control-sm",2,"border-radius","2px",3,"change"],["selected","","hidden","","value",""],[3,"value",4,"ngFor","ngForOf"],["class","text-danger mt-1",4,"ngIf"],["for","refundDetails"],["id","refundDetails","formControlName","refundDetails",1,"form-control","form-control-sm",2,"border-radius","2px",3,"change"],[4,"ngIf"],["for","amountRefunded"],["type","number","id","amountRefunded","formControlName","amountRefunded",1,"form-control","form-control-sm"],[3,"value"],[1,"text-danger","mt-1"],["for","otherRefunds"],["type","text","id","otherRefunds","formControlName","otherRefunds",1,"form-control","form-control-sm"]],template:function(e,t){if(1&e&&(c.dc(0,"form",0),c.dc(1,"p",1),c.Rc(2,"Delete Allocation"),c.cc(),c.dc(3,"mat-dialog-content"),c.Pc(4,Ea,1,0,"ng-container",2),c.cc(),c.dc(5,"mat-dialog-actions",3),c.dc(6,"button",4),c.nc("click",function(){return t.deleteAllocation()}),c.Rc(7," Proceed "),c.cc(),c.dc(8,"button",5),c.Rc(9," Cancel "),c.cc(),c.cc(),c.Pc(10,ec,24,21,"ng-template",null,6,c.Qc),c.Pc(12,tc,2,0,"ng-template",null,7,c.Qc),c.cc()),2&e){const e=c.Hc(11),n=c.Hc(13);c.yc("formGroup",t.deleteAllocationForm),c.Kb(4),c.yc("ngIf",t.loader.loaderVisible)("ngIfThen",n)("ngIfElse",e),c.Kb(2),c.Pb("magnifyText",!t.loader.loaderVisible),c.yc("disabled",t.loader.loaderVisible||t.deleteAllocationForm.invalid),c.Kb(2),c.Pb("magnifyText",!t.loader.loaderVisible),c.yc("disabled",t.loader.loaderVisible)}},directives:[i.B,i.q,i.i,It.h,It.e,r.p,It.c,It.d,i.y,i.p,i.g,i.t,i.A,r.o,i.u,i.c,_t.a],pipes:[r.j,r.A],styles:[""]}),e})();function ic(e,t){1&e&&c.Yb(0,"app-loader")}function rc(e,t){1&e&&(c.dc(0,"p",3),c.Rc(1,"Migrate Allocation"),c.cc())}function oc(e,t){if(1&e&&(c.bc(0),c.dc(1,"option",11),c.Rc(2),c.cc(),c.ac()),2&e){const e=t.$implicit;c.Kb(1),c.yc("value",e._id),c.Kb(1),c.Sc(e.year)}}function ac(e,t){if(1&e&&(c.bc(0),c.dc(1,"option",11),c.Rc(2),c.cc(),c.ac()),2&e){const e=t.$implicit;c.Kb(1),c.yc("value",e),c.Kb(1),c.Tc("Slot #",e,"")}}function cc(e,t){if(1&e){const e=c.ec();c.dc(0,"mat-dialog-content"),c.dc(1,"div",4),c.dc(2,"label",5),c.Rc(3,"Year"),c.cc(),c.dc(4,"select",6),c.nc("change",function(){return c.Jc(e),c.rc().yearSelected()})("ngModelChange",function(t){return c.Jc(e),c.rc().yearId=t}),c.dc(5,"option",7),c.Rc(6,"Select year"),c.cc(),c.Pc(7,oc,3,2,"ng-container",8),c.cc(),c.cc(),c.dc(8,"div",4),c.dc(9,"label",9),c.Rc(10,"Allocation Number"),c.cc(),c.dc(11,"select",10),c.nc("ngModelChange",function(t){return c.Jc(e),c.rc().allocationNumber=t}),c.dc(12,"option",7),c.Rc(13,"Select allocation number"),c.cc(),c.Pc(14,ac,3,2,"ng-container",8),c.cc(),c.cc(),c.cc()}if(2&e){const e=c.rc();c.Kb(4),c.yc("ngModel",e.yearId),c.Kb(3),c.yc("ngForOf",e.years),c.Kb(4),c.yc("ngModel",e.allocationNumber),c.Kb(3),c.yc("ngForOf",e.seats)}}function sc(e,t){if(1&e){const e=c.ec();c.dc(0,"mat-dialog-actions",12),c.dc(1,"button",13),c.Rc(2," Close "),c.cc(),c.dc(3,"button",14),c.nc("click",function(){return c.Jc(e),c.rc().submit()}),c.Rc(4," Save "),c.cc(),c.cc()}if(2&e){const e=c.rc();c.Kb(1),c.yc("disabled",e.loader.loaderVisible),c.Kb(2),c.yc("disabled",e.loader.loaderVisible||!e.yearId||!e.allocationNumber)}}let lc=(()=>{class e{constructor(e,t,n,i,r){this.data=e,this.dataService=t,this.loader=n,this.notifications=i,this.dialogRef=r,this.years=[],this.seats=[],this.yearId="",this.zoneId="",this.allocationNumber="",this.subscription=new Rt.a}ngOnInit(){console.log(this.data),this.years=this.data.years,this.zoneId=this.data.allocation.enrollmentZone._id}getYearAllocations(e){const t=this.years.find(t=>t._id===e).seatAllocations.find(e=>e.zone._id===this.zoneId);return t?t.seatsAllocated:0}yearSelected(){this.loader.showLoader();const e=sessionStorage.getItem("token");this.subscription=this.dataService.get(`${kt.a.seats}/taken/${this.zoneId}/${this.yearId}`,e).subscribe(e=>{const t=new Set(e.map(e=>e.seatNumber)),n=this.getYearAllocations(this.yearId);this.seats.length=0;for(let i=1;i<=n;i++)t.has(i)||this.seats.push(i);this.loader.hideLoader()})}submit(){const e={allocationId:this.data.allocation._id,yearId:this.yearId,allocationNumber:this.allocationNumber};this.loader.showLoader();const t=sessionStorage.getItem("token"),n=`${kt.a.allocations}/migrate`;this.notifications.prompt("Are you sure you want to migrate this allocation?").then(i=>{i.isConfirmed&&(this.subscription=this.dataService.update(n,"",e,t).subscribe(e=>{this.notifications.alert(`Allocation migrated successfully.\n                                <br />Code: <b>${e.allocation.code}</b>`).then(e=>{this.loader.hideLoader(),this.dialogRef.close(!0)})}))})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(It.a),c.Xb(Wt.a),c.Xb(Ot.a),c.Xb(Ut.a),c.Xb(It.g))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-migrate-hajj-allocation"]],decls:4,vars:4,consts:[[4,"ngIf"],["mat-dialog-title","","style","font-size: 160%;",4,"ngIf"],["align","end",4,"ngIf"],["mat-dialog-title","",2,"font-size","160%"],[1,"form-group","col-sm-12","mx-auto"],["for","year"],["id","year",1,"form-control","form-control-sm",3,"ngModel","change","ngModelChange"],["value","","selected","","hidden",""],[4,"ngFor","ngForOf"],["for","seat"],["id","seat",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[3,"value"],["align","end"],["type","button","matDialogClose","",1,"btn-outline-primary","btn-sm","btn","ml-2",3,"disabled"],["type","button","type","submit",1,"btn-success","btn-sm","btn","ml-2",3,"disabled","click"]],template:function(e,t){1&e&&(c.Pc(0,ic,1,0,"app-loader",0),c.Pc(1,rc,2,0,"p",1),c.Pc(2,cc,15,4,"mat-dialog-content",0),c.Pc(3,sc,5,2,"mat-dialog-actions",2)),2&e&&(c.yc("ngIf",t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible))},directives:[r.p,_t.a,It.h,It.e,i.y,i.p,i.s,i.t,i.A,r.o,It.c,It.d],styles:[""]}),e})();const dc=["yearId"],uc=["zoneId"];function hc(e,t){1&e&&(c.dc(0,"span",28),c.Rc(1,"\xa0\xa0\xa0Active"),c.cc())}function fc(e,t){if(1&e&&(c.dc(0,"option",26),c.Rc(1),c.sc(2,"uppercase"),c.Pc(3,hc,2,0,"span",27),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Tc("",c.tc(2,3,e.year)," "),c.Kb(2),c.yc("ngIf",e.active)}}function pc(e,t){if(1&e&&(c.dc(0,"option",26),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function gc(e,t){1&e&&c.Zb(0)}function mc(e,t){if(1&e&&(c.dc(0,"option",26),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Tc("Show ",e," Items")}}function bc(e,t){if(1&e){const e=c.ec();c.dc(0,"div",29),c.dc(1,"div",30),c.dc(2,"select",31),c.nc("ngModelChange",function(t){return c.Jc(e),c.rc().pageSize=t})("change",function(){return c.Jc(e),c.rc().onPageSizeChange()}),c.Pc(3,mc,2,2,"option",13),c.cc(),c.cc(),c.dc(4,"pagination-controls",32),c.nc("pageChange",function(t){return c.Jc(e),c.rc().onNavigate(t)}),c.cc(),c.cc()}if(2&e){const e=c.rc();c.Kb(2),c.yc("ngModel",e.pageSize),c.Kb(1),c.yc("ngForOf",e.pages)}}function vc(e,t){1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"td"),c.dc(3,"app-loader"),c.Rc(4,"Fetching data..."),c.cc(),c.cc(),c.cc(),c.cc())}function yc(e,t){1&e&&c.Zb(0)}function xc(e,t){if(1&e&&c.Pc(0,yc,1,0,"ng-container",20),2&e){const e=c.rc(),t=c.Hc(37),n=c.Hc(35);c.yc("ngIf",e.allocations.length>0)("ngIfThen",t)("ngIfElse",n)}}function Pc(e,t){1&e&&(c.dc(0,"span"),c.Rc(1,"Select a year and zone."),c.cc())}function Sc(e,t){1&e&&c.Yb(0,"span")}function wc(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3," No record(s) to display. "),c.Pc(4,Pc,2,0,"span",33),c.Pc(5,Sc,1,0,"span",33),c.cc(),c.cc(),c.cc()),2&e){c.rc();const e=c.Hc(14),t=c.Hc(19);c.Kb(4),c.yc("ngIf",!e.touched||!t.touched)}}function Rc(e,t){if(1&e){const e=c.ec();c.dc(0,"tbody"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3),c.cc(),c.dc(4,"td"),c.Rc(5),c.sc(6,"uppercase"),c.cc(),c.dc(7,"td"),c.Rc(8),c.cc(),c.dc(9,"td"),c.dc(10,"b"),c.Rc(11),c.cc(),c.cc(),c.dc(12,"td"),c.Rc(13),c.cc(),c.dc(14,"td"),c.Rc(15),c.sc(16,"date"),c.cc(),c.dc(17,"td"),c.dc(18,"div",40,41),c.dc(20,"button",42),c.nc("focus",function(){return c.Jc(e),c.Hc(19).open()}),c.Rc(21,"Actions "),c.cc(),c.dc(22,"div",43),c.dc(23,"button",44),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc(2).viewAllocation(n)}),c.Rc(24," View "),c.cc(),c.dc(25,"button",44),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc(2).editAllocation(n)}),c.Rc(26," Edit "),c.cc(),c.dc(27,"button",44),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc(2).deleteAllocation(n)}),c.Rc(28," Delete "),c.cc(),c.dc(29,"button",44),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc(2).migrateAllocation(n)}),c.Rc(30," Migrate Allocation "),c.cc(),c.cc(),c.cc(),c.cc(),c.cc(),c.cc()}if(2&e){const e=t.index,n=t.$implicit,i=c.rc(2);c.Kb(3),c.Sc((i.p-1)*i.pageSize+(e+1)),c.Kb(2),c.Sc(c.tc(6,6,n.pilgrim.personalDetails.surname+", "+n.pilgrim.personalDetails.otherNames)),c.Kb(3),c.Sc(n.pilgrim.passportDetails.passportNumber),c.Kb(3),c.Sc(n.enrollmentAllocationNumber),c.Kb(2),c.Sc(n.code),c.Kb(2),c.Sc(c.uc(16,8,n.createdAt,"medium"))}}const kc=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}};function Ic(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"th",34),c.Rc(3,"S/N"),c.cc(),c.dc(4,"th",35),c.Rc(5,"Pilgrim"),c.cc(),c.dc(6,"th",35),c.Rc(7,"Pilgrim Passport"),c.cc(),c.dc(8,"th",36),c.Rc(9,"Allocated Number"),c.cc(),c.dc(10,"th",37),c.Rc(11,"Registration Number "),c.cc(),c.dc(12,"th",38),c.Rc(13,"Registration Date"),c.cc(),c.dc(14,"th"),c.Rc(15,"Actions"),c.cc(),c.cc(),c.cc(),c.Pc(16,Rc,31,11,"tbody",39),c.sc(17,"paginate"),c.sc(18,"filter")),2&e){const e=c.rc();c.Kb(2),c.yc("appSort",e.allocations),c.Kb(6),c.yc("appSort",e.allocations),c.Kb(2),c.yc("appSort",e.allocations),c.Kb(2),c.yc("appSort",e.allocations),c.Kb(4),c.yc("ngForOf",c.uc(17,5,c.uc(18,8,e.allocations,e.searchText),c.Ec(11,kc,e.pageSize,e.p,e.totalItems)))}}let Oc=(()=>{class e{constructor(e,t,n){this.loader=e,this.dataService=t,this.dialog=n,this.searchText="",this.years=[],this.zones=[],this.banks=[],this.allocations=[],this.p=1,this.pageSize=5,this.pages=[5,10,15,20],this.totalItems=0,this.subscription=new Rt.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.fetchData()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}fetchData(){this.loader.showLoader();const e=`${kt.a.years}/all`,t=kt.a.zones;this.subscription=Object(pa.a)([this.dataService.get(e,this.token),this.dataService.get(t,this.token)]).subscribe(e=>{this.years=[...e[0]];const t=["00","01"];this.zones=e[1].filter(e=>!t.includes(e.code)),this.loader.hideLoader()})}onPageSizeChange(){this.onNavigate(1)}onNavigate(e){e&&(this.p=e),this.fetchAllocations(this.year.value,this.zone.value,this.pageSize,this.p)}fetchAllocations(e,t,n,i){this.loader.showLoader(),this.subscription=this.dataService.get(`${kt.a.allocations}/zone/${t}/year/${e}/active`,this.token,null,{pageSize:n,page:i}).subscribe(e=>{this.allocations=[...e.allocations],this.totalItems=e.totalDocs,this.getBanks(),this.loader.hideLoader()})}getBanks(){this.loader.showLoader();const e=kt.a.banks,t=sessionStorage.getItem("token");this.subscription=this.dataService.get(e,t,"").subscribe(e=>{this.banks=[...e],this.allocations.forEach(e=>{e.paymentHistory.forEach(e=>{e.bankObject=this.banks.find(t=>t._id===e.bank)})}),this.loader.hideLoader()})}viewAllocation(e){window.scroll(0,0),this.dialog.open(xa,{width:"45rem",disableClose:!0,data:e})}editAllocation(e){window.scroll(0,0),this.dialog.open(ja,{width:"45rem",disableClose:!0,data:e}).afterClosed().subscribe(e=>e?this.fetchAllocations(this.year.value,this.zone.value,this.pageSize,this.p):"")}deleteAllocation(e){window.scroll(0,0),this.dialog.open(nc,{width:"25rem",disableClose:!0,data:e}).afterClosed().subscribe(e=>e?this.fetchAllocations(this.year.value,this.zone.value,this.pageSize,this.p):"")}migrateAllocation(e){window.scroll(0,0),this.dialog.open(lc,{width:"25rem",disableClose:!0,data:{allocation:e,years:this.years.filter(e=>e._id!==this.year.value)}}).afterClosed().subscribe(e=>e?this.fetchAllocations(this.year.value,this.zone.value,this.pageSize,this.p):"")}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a),c.Xb(It.b))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-pilgrim-reviewer-list"]],viewQuery:function(e,t){if(1&e&&(c.Wc(dc,1),c.Wc(uc,1)),2&e){let e;c.Gc(e=c.oc())&&(t.year=e.first),c.Gc(e=c.oc())&&(t.zone=e.first)}},decls:38,vars:8,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","yearId","name","yearId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mr-2","mb-4",2,"border-radius","2px"],["yearId","ngModel"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","zoneId","name","zoneId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4",2,"border-radius","2px"],["zoneId","ngModel"],[1,"btn","btn","btn-success","ml-3",2,"height","calc(1.5em + 0.75rem + 2px)",3,"disabled","click"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],["class","col-12 mx-auto mt-3",4,"ngIf"],["load",""],["show",""],["noData",""],["tableData",""],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"],[1,"col-12","mx-auto","mt-3"],[1,"float-left"],[1,"form-control",3,"ngModel","ngModelChange","change"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],[4,"ngIf"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col",1,"sort"],["scope","col","data-order","desc","data-name","enrollmentAllocationNumber",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","code",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["ngbDropdown","","container","body",1,"d-inline-block"],["moreActionsDrop","ngbDropdown"],["id","moredropDown","ngbDropdownAnchor","",1,"magnifyText","btn","btn-sm","btn-outline-primary",3,"focus"],["ngbDropdownMenu","","aria-labelledby","moredropDown"],["ngbDropdownItem","",1,"my-2",2,"font-size","105%!important",3,"click"]],template:function(e,t){if(1&e){const e=c.ec();c.dc(0,"nav",0),c.dc(1,"ol",1),c.dc(2,"li",2),c.dc(3,"a",3),c.Rc(4,"Allocations"),c.cc(),c.cc(),c.dc(5,"li",4),c.Rc(6,"Active Allocations"),c.cc(),c.cc(),c.cc(),c.dc(7,"div",5),c.dc(8,"div",6),c.dc(9,"div",7),c.dc(10,"div",8),c.dc(11,"h6",9),c.Rc(12,"ALLOCATIONS MASTER LIST"),c.cc(),c.dc(13,"select",10,11),c.dc(15,"option",12),c.Rc(16,"Select Year"),c.cc(),c.Pc(17,fc,4,5,"option",13),c.cc(),c.dc(18,"select",14,15),c.dc(20,"option",12),c.Rc(21,"Select Zone"),c.cc(),c.Pc(22,pc,2,2,"option",13),c.cc(),c.dc(23,"button",16),c.nc("click",function(){c.Jc(e);const n=c.Hc(14),i=c.Hc(19);return t.fetchAllocations(n.value,i.value)}),c.Rc(24," Query "),c.cc(),c.dc(25,"input",17),c.nc("ngModelChange",function(e){return t.searchText=e}),c.cc(),c.dc(26,"div",18),c.dc(27,"table",19),c.Pc(28,gc,1,0,"ng-container",20),c.cc(),c.Pc(29,bc,5,2,"div",21),c.cc(),c.cc(),c.cc(),c.cc(),c.cc(),c.Pc(30,vc,5,0,"ng-template",null,22,c.Qc),c.Pc(32,xc,1,3,"ng-template",null,23,c.Qc),c.Pc(34,wc,6,1,"ng-template",null,24,c.Qc),c.Pc(36,Ic,19,15,"ng-template",null,25,c.Qc)}if(2&e){const e=c.Hc(14),n=c.Hc(19),i=c.Hc(31),r=c.Hc(33);c.Kb(17),c.yc("ngForOf",t.years),c.Kb(5),c.yc("ngForOf",t.zones),c.Kb(1),c.yc("disabled",""===n.value||""===e.value),c.Kb(2),c.yc("ngModel",t.searchText),c.Kb(3),c.yc("ngIf",t.loader.loaderVisible)("ngIfThen",i)("ngIfElse",r),c.Kb(1),c.yc("ngIf",t.allocations.length>0)}},directives:[i.y,i.p,i.s,i.x,i.t,i.A,r.o,i.c,r.p,o.c,_t.a,_i.a,a.a,a.b,a.d,a.c],pipes:[r.A,o.b,Di.a,r.f],styles:[""]}),e})();const _c=["yearId"],Dc=["zoneId"];function Cc(e,t){1&e&&(c.dc(0,"span",28),c.Rc(1,"\xa0\xa0\xa0Active"),c.cc())}function Kc(e,t){if(1&e&&(c.dc(0,"option",26),c.Rc(1),c.sc(2,"uppercase"),c.Pc(3,Cc,2,0,"span",27),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Tc("",c.tc(2,3,e.year)," "),c.Kb(2),c.yc("ngIf",e.active)}}function Ac(e,t){if(1&e&&(c.dc(0,"option",26),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function Mc(e,t){1&e&&c.Zb(0)}function Tc(e,t){if(1&e&&(c.dc(0,"option",26),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Tc("Show ",e," Items")}}function Fc(e,t){if(1&e){const e=c.ec();c.dc(0,"div",29),c.dc(1,"div",30),c.dc(2,"select",31),c.nc("ngModelChange",function(t){return c.Jc(e),c.rc().pageSize=t})("change",function(){return c.Jc(e),c.rc().onPageSizeChange()}),c.Pc(3,Tc,2,2,"option",13),c.cc(),c.cc(),c.dc(4,"pagination-controls",32),c.nc("pageChange",function(t){return c.Jc(e),c.rc().onNavigate(t)}),c.cc(),c.cc()}if(2&e){const e=c.rc();c.Kb(2),c.yc("ngModel",e.pageSize),c.Kb(1),c.yc("ngForOf",e.pages)}}function Nc(e,t){1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"td"),c.dc(3,"app-loader"),c.Rc(4,"Fetching data..."),c.cc(),c.cc(),c.cc(),c.cc())}function Lc(e,t){1&e&&c.Zb(0)}function zc(e,t){if(1&e&&c.Pc(0,Lc,1,0,"ng-container",20),2&e){const e=c.rc(),t=c.Hc(37),n=c.Hc(35);c.yc("ngIf",e.allocations.length>0)("ngIfThen",t)("ngIfElse",n)}}function jc(e,t){1&e&&(c.dc(0,"span"),c.Rc(1,"Select a year and zone."),c.cc())}function Ec(e,t){1&e&&c.Yb(0,"span")}function Bc(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3," No record(s) to display. "),c.Pc(4,jc,2,0,"span",33),c.Pc(5,Ec,1,0,"span",33),c.cc(),c.cc(),c.cc()),2&e){c.rc();const e=c.Hc(14),t=c.Hc(19);c.Kb(4),c.yc("ngIf",!e.touched||!t.touched)}}function Yc(e,t){if(1&e){const e=c.ec();c.dc(0,"tbody"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3),c.cc(),c.dc(4,"td"),c.Rc(5),c.sc(6,"uppercase"),c.cc(),c.dc(7,"td"),c.Rc(8),c.cc(),c.dc(9,"td"),c.dc(10,"b"),c.Rc(11),c.cc(),c.cc(),c.dc(12,"td"),c.Rc(13),c.cc(),c.dc(14,"td"),c.Rc(15),c.sc(16,"date"),c.cc(),c.dc(17,"td"),c.dc(18,"button",40),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc(2).viewAllocation(n)}),c.Rc(19," View "),c.cc(),c.cc(),c.cc(),c.cc()}if(2&e){const e=t.index,n=t.$implicit,i=c.rc(2);c.Kb(3),c.Sc((i.p-1)*i.pageSize+(e+1)),c.Kb(2),c.Sc(c.tc(6,6,n.pilgrim.personalDetails.surname+", "+n.pilgrim.personalDetails.otherNames)),c.Kb(3),c.Sc(n.pilgrim.passportDetails.passportNumber),c.Kb(3),c.Sc(n.enrollmentAllocationNumber),c.Kb(2),c.Sc(n.code),c.Kb(2),c.Sc(c.uc(16,8,n.createdAt,"medium"))}}const Hc=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}};function Vc(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"th",34),c.Rc(3,"S/N"),c.cc(),c.dc(4,"th",35),c.Rc(5,"Pilgrim"),c.cc(),c.dc(6,"th",35),c.Rc(7,"Pilgrim Passport"),c.cc(),c.dc(8,"th",36),c.Rc(9,"Allocated Number"),c.cc(),c.dc(10,"th",37),c.Rc(11,"Registration Number "),c.cc(),c.dc(12,"th",38),c.Rc(13,"Registration Date"),c.cc(),c.dc(14,"th"),c.Rc(15,"Actions"),c.cc(),c.cc(),c.cc(),c.Pc(16,Yc,20,11,"tbody",39),c.sc(17,"paginate"),c.sc(18,"filter")),2&e){const e=c.rc();c.Kb(2),c.yc("appSort",e.allocations),c.Kb(6),c.yc("appSort",e.allocations),c.Kb(2),c.yc("appSort",e.allocations),c.Kb(2),c.yc("appSort",e.allocations),c.Kb(4),c.yc("ngForOf",c.uc(17,5,c.uc(18,8,e.allocations,e.searchText),c.Ec(11,Hc,e.pageSize,e.p,e.totalItems)))}}let qc=(()=>{class e{constructor(e,t,n){this.loader=e,this.dataService=t,this.dialog=n,this.searchText="",this.years=[],this.zones=[],this.banks=[],this.allocations=[],this.p=1,this.pageSize=5,this.pages=[5,10,15,20],this.totalItems=0,this.subscription=new Rt.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.fetchData()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}fetchData(){this.loader.showLoader();const e=`${kt.a.years}/all`,t=kt.a.zones;this.subscription=Object(pa.a)([this.dataService.get(e,this.token),this.dataService.get(t,this.token)]).subscribe(e=>{this.years=[...e[0]];const t=["00","01"];this.zones=e[1].filter(e=>!t.includes(e.code)),this.loader.hideLoader()})}onPageSizeChange(){this.onNavigate(1)}onNavigate(e){e&&(this.p=e),this.fetchAllocations(this.year.value,this.zone.value,this.pageSize,this.p)}fetchAllocations(e,t,n,i){this.loader.showLoader(),this.subscription=this.dataService.get(`${kt.a.allocations}/zone/${t}/year/${e}/deleted`,this.token,null,{pageSize:n,page:i}).subscribe(e=>{this.allocations=[...e.allocations],this.totalItems=e.totalDocs,this.getBanks(),this.loader.hideLoader()})}getBanks(){this.loader.showLoader();const e=kt.a.banks,t=sessionStorage.getItem("token");this.subscription=this.dataService.get(e,t,"").subscribe(e=>{this.banks=[...e],this.allocations.forEach(e=>{e.paymentHistory.forEach(e=>{e.bankObject=this.banks.find(t=>t._id===e.bank)})}),this.loader.hideLoader()})}viewAllocation(e){window.scroll(0,0),this.dialog.open(xa,{width:"45rem",disableClose:!0,data:e})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a),c.Xb(It.b))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-pilgrim-deleted-reviewer-list"]],viewQuery:function(e,t){if(1&e&&(c.Wc(_c,1),c.Wc(Dc,1)),2&e){let e;c.Gc(e=c.oc())&&(t.year=e.first),c.Gc(e=c.oc())&&(t.zone=e.first)}},decls:38,vars:8,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","yearId","name","yearId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mr-2","mb-4",2,"border-radius","2px"],["yearId","ngModel"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","zoneId","name","zoneId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4",2,"border-radius","2px"],["zoneId","ngModel"],[1,"btn","btn","btn-success","ml-3",2,"height","calc(1.5em + 0.75rem + 2px)",3,"disabled","click"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],["class","col-12 mx-auto mt-3",4,"ngIf"],["load",""],["show",""],["noData",""],["tableData",""],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"],[1,"col-12","mx-auto","mt-3"],[1,"float-left"],[1,"form-control",3,"ngModel","ngModelChange","change"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],[4,"ngIf"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col",1,"sort"],["scope","col","data-order","desc","data-name","enrollmentAllocationNumber",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","code",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],[1,"btn-sm","btn-primary","btn",3,"click"]],template:function(e,t){if(1&e){const e=c.ec();c.dc(0,"nav",0),c.dc(1,"ol",1),c.dc(2,"li",2),c.dc(3,"a",3),c.Rc(4,"Allocations"),c.cc(),c.cc(),c.dc(5,"li",4),c.Rc(6,"Deleted Allocations"),c.cc(),c.cc(),c.cc(),c.dc(7,"div",5),c.dc(8,"div",6),c.dc(9,"div",7),c.dc(10,"div",8),c.dc(11,"h6",9),c.Rc(12,"ALLOCATIONS MASTER LIST"),c.cc(),c.dc(13,"select",10,11),c.dc(15,"option",12),c.Rc(16,"Select Year"),c.cc(),c.Pc(17,Kc,4,5,"option",13),c.cc(),c.dc(18,"select",14,15),c.dc(20,"option",12),c.Rc(21,"Select Zone"),c.cc(),c.Pc(22,Ac,2,2,"option",13),c.cc(),c.dc(23,"button",16),c.nc("click",function(){c.Jc(e);const n=c.Hc(14),i=c.Hc(19);return t.fetchAllocations(n.value,i.value)}),c.Rc(24," Query "),c.cc(),c.dc(25,"input",17),c.nc("ngModelChange",function(e){return t.searchText=e}),c.cc(),c.dc(26,"div",18),c.dc(27,"table",19),c.Pc(28,Mc,1,0,"ng-container",20),c.cc(),c.Pc(29,Fc,5,2,"div",21),c.cc(),c.cc(),c.cc(),c.cc(),c.cc(),c.Pc(30,Nc,5,0,"ng-template",null,22,c.Qc),c.Pc(32,zc,1,3,"ng-template",null,23,c.Qc),c.Pc(34,Bc,6,1,"ng-template",null,24,c.Qc),c.Pc(36,Vc,19,15,"ng-template",null,25,c.Qc)}if(2&e){const e=c.Hc(14),n=c.Hc(19),i=c.Hc(31),r=c.Hc(33);c.Kb(17),c.yc("ngForOf",t.years),c.Kb(5),c.yc("ngForOf",t.zones),c.Kb(1),c.yc("disabled",""===n.value||""===e.value),c.Kb(2),c.yc("ngModel",t.searchText),c.Kb(3),c.yc("ngIf",t.loader.loaderVisible)("ngIfThen",i)("ngIfElse",r),c.Kb(1),c.yc("ngIf",t.allocations.length>0)}},directives:[i.y,i.p,i.s,i.x,i.t,i.A,r.o,i.c,r.p,o.c,_t.a,_i.a],pipes:[r.A,o.b,Di.a,r.f],styles:[""]}),e})();function Wc(e,t){if(1&e&&(c.dc(0,"div",2),c.dc(1,"div",3),c.dc(2,"div",4),c.Rc(3," All pilgrims registered"),c.Yb(4,"br"),c.Yb(5,"br"),c.dc(6,"h2",5),c.Rc(7),c.cc(),c.cc(),c.cc(),c.dc(8,"div",3),c.dc(9,"div",4),c.Rc(10," Allocations registered this year"),c.Yb(11,"br"),c.Yb(12,"br"),c.dc(13,"h2",6),c.Rc(14),c.cc(),c.cc(),c.cc(),c.cc()),2&e){const e=c.rc();c.Kb(7),c.Sc(e.overAllTotal),c.Kb(7),c.Sc(e.totalThisYear)}}function $c(e,t){if(1&e&&(c.dc(0,"div",2),c.dc(1,"div",7),c.dc(2,"div",4),c.Rc(3," Total Allocations registered"),c.Yb(4,"br"),c.Yb(5,"br"),c.dc(6,"h2",6),c.Rc(7),c.cc(),c.cc(),c.cc(),c.Yb(8,"div",8),c.cc()),2&e){const e=c.rc();c.Kb(7),c.Sc(e.total)}}function Uc(e,t){1&e&&c.Yb(0,"app-loader")}let Gc=(()=>{class e{constructor(e,t){this.loader=e,this.dataService=t,this.token=sessionStorage.getItem("token"),this.localGov=sessionStorage.getItem("localGov"),this.subscription=new Rt.a,this.totalThisYear=0,this.overAllTotal=0,this.total=0,this.overAllTotalComplete=!1,this.totalThisYearComplete=!1}ngOnInit(){this.loader.showLoader(),this.getCurrentYearCount(),this.getTotalCount(),this.getAllPilgrimsCount();const e=setInterval(()=>{this.totalThisYearComplete&&this.overAllTotalComplete&&(this.loader.hideLoader(),clearInterval(e))},100)}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}getTotalCount(){this.subscription=this.dataService.get(`${kt.a.analytics}/lga-allocations-count/${this.localGov}`,this.token).subscribe(e=>{this.total=e.count})}getCurrentYearCount(){const e=`${kt.a.years}/by-year/${(new Date).getFullYear()}`;this.subscription=this.dataService.get(e,this.token).subscribe(e=>{this.getCurrentYearCountHelper(e._id)})}getCurrentYearCountHelper(e){this.subscription=this.dataService.get(`${kt.a.analytics}/lga-allocations-count/${this.localGov}/${e}`,this.token).subscribe(e=>{this.totalThisYear=e.count,this.totalThisYearComplete=!0})}getAllPilgrimsCount(){this.subscription=this.dataService.get(`${kt.a.analytics}/all-pilgrims`,this.token).subscribe(e=>{this.overAllTotal=e.count,this.overAllTotalComplete=!0})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-initiator"]],decls:3,vars:3,consts:[["class","card-container",4,"ngIf"],[4,"ngIf"],[1,"card-container"],[1,"card","dc"],[1,"card-body"],[1,"text-success"],[1,"text-secondary"],[1,"card","dc","col-sm-6"],[1,"dc"]],template:function(e,t){1&e&&(c.Pc(0,Wc,15,2,"div",0),c.Pc(1,$c,9,1,"div",0),c.Pc(2,Uc,1,0,"app-loader",1)),2&e&&(c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",t.loader.loaderVisible))},directives:[r.p,_t.a],styles:[".card-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:2rem 0}.card[_ngcontent-%COMP%]{width:100%;margin-right:1rem;min-height:8rem}.card-body[_ngcontent-%COMP%]{padding:1.3rem!important}.card[_ngcontent-%COMP%]:last-child{margin-right:0}@media (max-width:768px){.card-container[_ngcontent-%COMP%]{flex-direction:column}.card[_ngcontent-%COMP%]{width:100%!important;margin-bottom:1rem;margin-right:0}.card[_ngcontent-%COMP%]:last-child{margin-bottom:0}} .ngx-pagination .current{background-color:#e45a29!important;border-radius:3px}.item-select[_ngcontent-%COMP%]{width:100px}"]}),e})();function Xc(e,t){if(1&e&&(c.dc(0,"div",2),c.dc(1,"div",3),c.dc(2,"div",4),c.Rc(3," All pilgrims registered"),c.Yb(4,"br"),c.Yb(5,"br"),c.dc(6,"h2",5),c.Rc(7),c.cc(),c.cc(),c.cc(),c.dc(8,"div",3),c.dc(9,"div",4),c.Rc(10," Allocations registered this year"),c.Yb(11,"br"),c.Yb(12,"br"),c.dc(13,"h2",6),c.Rc(14),c.cc(),c.cc(),c.cc(),c.cc()),2&e){const e=c.rc();c.Kb(7),c.Sc(e.overAllTotal),c.Kb(7),c.Sc(e.totalThisYear)}}function Jc(e,t){if(1&e&&(c.dc(0,"div",2),c.dc(1,"div",7),c.dc(2,"div",4),c.Rc(3," Total Allocations registered"),c.Yb(4,"br"),c.Yb(5,"br"),c.dc(6,"h2",5),c.Rc(7),c.cc(),c.cc(),c.cc(),c.cc()),2&e){const e=c.rc();c.Kb(7),c.Sc(e.totalAllocations)}}function Zc(e,t){if(1&e&&(c.dc(0,"div",2),c.dc(1,"div",3),c.dc(2,"div",4),c.Rc(3," Total Allocations registered this year:"),c.Yb(4,"br"),c.Yb(5,"br"),c.dc(6,"div",8),c.Yb(7,"canvas",9),c.cc(),c.cc(),c.cc(),c.dc(8,"div",3),c.dc(9,"div",4),c.Rc(10," Total Allocations registered:"),c.Yb(11,"br"),c.Yb(12,"br"),c.dc(13,"div",8),c.Yb(14,"canvas",9),c.cc(),c.cc(),c.cc(),c.cc()),2&e){const e=c.rc();c.Kb(7),c.yc("datasets",e.allAllocationsByYearCounts)("labels",e.allAllocationsByYearZones)("options",e.chartOptions)("plugins",e.chartPlugins)("legend",e.chartLegend),c.Kb(7),c.yc("datasets",e.allAllocationsCounts)("labels",e.allAllocationsZones)("options",e.chartOptions)("plugins",e.chartPlugins)("legend",e.chartLegend)}}function Qc(e,t){1&e&&c.Yb(0,"app-loader")}let es=(()=>{class e{constructor(e,t){this.loader=e,this.dataService=t,this.chartOptions={responsive:!0},this.chartLegend=!1,this.chartPlugins=[],this.token=sessionStorage.getItem("token"),this.localGov=sessionStorage.getItem("localGov"),this.subscription=new Rt.a,this.allAllocationsCounts=[],this.allAllocationsZones=[],this.allAllocationsByYearCounts=[],this.allAllocationsByYearZones=[],this.allAllocationsComplete=!1,this.allAllocationsByYearComplete=!1,this.totalThisYear=0,this.overAllTotal=0,this.overAllTotalComplete=!1,this.totalThisYearComplete=!1,this.totalAllocations=0}ngOnInit(){this.loader.showLoader(),this.getCurrentYearCount(),this.getAllPilgrimsCount(),this.getAllAllocationsForChart(),this.getAllAllocationsForChartThisYear(),this.getAllAllocationsCount();const e=setInterval(()=>{this.totalThisYearComplete&&this.overAllTotalComplete&&this.allAllocationsComplete&&this.allAllocationsByYearComplete&&(this.loader.hideLoader(),clearInterval(e))},100)}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}getCurrentYearCount(){const e=`${kt.a.years}/by-year/${(new Date).getFullYear()}`;this.subscription=this.dataService.get(e,this.token).subscribe(e=>{this.getCurrentYearCountHelper(e._id)})}getCurrentYearCountHelper(e){this.subscription=this.dataService.get(`${kt.a.analytics}/all-allocations-by-year/${e}`,this.token).subscribe(e=>{this.totalThisYear=e.count,this.totalThisYearComplete=!0})}getAllPilgrimsCount(){this.subscription=this.dataService.get(`${kt.a.analytics}/all-pilgrims`,this.token).subscribe(e=>{this.overAllTotal=e.count,this.overAllTotalComplete=!0})}getAllAllocationsCount(){this.subscription=this.dataService.get(`${kt.a.analytics}/all-allocations`,this.token).subscribe(e=>{this.totalAllocations=e.count})}getAllAllocationsForChart(){this.subscription=this.dataService.get(`${kt.a.analytics}/all-lga-allocations-count`,this.token).subscribe(e=>{this.allAllocationsCounts=[{data:e[0]}],this.allAllocationsZones=e[1],this.allAllocationsComplete=!0})}getAllAllocationsForChartThisYear(){const e=`${kt.a.years}/by-year/${(new Date).getFullYear()}`;this.subscription=this.dataService.get(e,this.token).subscribe(e=>{this.getAllAllocationsForChartThisYearHelper(e._id)})}getAllAllocationsForChartThisYearHelper(e){this.subscription=this.dataService.get(`${kt.a.analytics}/all-lga-allocations-count/${e}`,this.token).subscribe(e=>{this.allAllocationsByYearCounts=[{data:e[0]}],this.allAllocationsByYearZones=e[1],this.allAllocationsByYearComplete=!0})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-reviewer"]],decls:4,vars:4,consts:[["class","card-container",4,"ngIf"],[4,"ngIf"],[1,"card-container"],[1,"card","dc"],[1,"card-body"],[1,"text-success"],[1,"text-secondary"],[1,"card","dc","col-sm-6"],[2,"display","block"],["baseChart","","chartType","bar",3,"datasets","labels","options","plugins","legend"]],template:function(e,t){1&e&&(c.Pc(0,Xc,15,2,"div",0),c.Pc(1,Jc,8,1,"div",0),c.Pc(2,Zc,15,10,"div",0),c.Pc(3,Qc,1,0,"app-loader",1)),2&e&&(c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",t.loader.loaderVisible))},directives:[r.p,Pt,_t.a],styles:[".card-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:2rem 0}.card[_ngcontent-%COMP%]{width:100%;margin-right:1rem;min-height:8rem}.card-body[_ngcontent-%COMP%]{padding:1.3rem!important}.card[_ngcontent-%COMP%]:last-child{margin-right:0}@media (max-width:768px){.card-container[_ngcontent-%COMP%]{flex-direction:column}.card[_ngcontent-%COMP%]{width:100%!important;margin-bottom:1rem;margin-right:0}.card[_ngcontent-%COMP%]:last-child{margin-bottom:0}} .ngx-pagination .current{background-color:#e45a29!important;border-radius:3px}.item-select[_ngcontent-%COMP%]{width:100px}"]}),e})();function ts(e,t){1&e&&(c.bc(0),c.Yb(1,"app-initiator"),c.ac())}function ns(e,t){1&e&&(c.bc(0),c.Yb(1,"app-initiator"),c.ac())}function is(e,t){1&e&&(c.bc(0),c.Yb(1,"app-reviewer"),c.ac())}let rs=(()=>{class e{constructor(){this.name=sessionStorage.getItem("name"),this.role=sessionStorage.getItem("roleName")}ngOnInit(){}get isAdmin(){return"super-admin"===this.role}get isInitiator(){return"initiator"===this.role}get isUserAdmin(){return"admin"===this.role}get isReviewer(){return"reviewer"===this.role}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Rb({type:e,selectors:[["app-dashboard"]],decls:9,vars:6,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(c.dc(0,"h4"),c.Rc(1),c.sc(2,"titlecase"),c.Yb(3,"br"),c.Rc(4," Welcome to your dashboard."),c.cc(),c.Yb(5,"br"),c.Pc(6,ts,2,0,"ng-container",0),c.Pc(7,ns,2,0,"ng-container",0),c.Pc(8,is,2,0,"ng-container",0)),2&e&&(c.Kb(1),c.Tc("Hi ",c.tc(2,4,t.name),"! "),c.Kb(5),c.yc("ngIf",t.isInitiator),c.Kb(1),c.yc("ngIf",t.isUserAdmin),c.Kb(1),c.yc("ngIf",t.isReviewer))},directives:[r.p,Gc,es],pipes:[r.y],styles:[""]}),e})();var os=n("CH0T");let as=(()=>{class e{constructor(e,t){this.guardsService=e,this.router=t}canActivate(e,t){return"true"===sessionStorage.getItem("isInitiator")||(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(c.kc(os.a),c.kc(wt.c))},e.\u0275prov=c.Tb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var cs=n("T2Cl");let ss=(()=>{class e{constructor(e,t){this.guardsService=e,this.router=t}canActivate(e,t){return"true"===sessionStorage.getItem("isReviewer")||(this.router.navigate(["/"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(c.kc(os.a),c.kc(wt.c))},e.\u0275prov=c.Tb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ls=n("ZOsW");let ds=(()=>{class e{constructor(e){this.elementRef=e,this.regex=new RegExp("^[0-9]*$"),this.specialKeys=["Shift","Alt","Control","Tab","Escape","Insert","Delete","Home","End","Enter","CapsLock","Backspace","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"]}onKeyDown(e){if(-1!==this.specialKeys.indexOf(e.key))return;const t=this.elementRef.nativeElement.value.concat(e.key);t&&!String(t).match(this.regex)&&e.preventDefault()}onPaste(e){const t=(e.originalEvent||e).clipboardData.getData("text/plain");t&&(this.regex.test(t)||e.preventDefault())}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(c.o))},e.\u0275dir=c.Sb({type:e,selectors:[["","appNumbersOnly",""]],hostBindings:function(e,t){1&e&&c.nc("keydown",function(e){return t.onKeyDown(e)})("paste",function(e){return t.onPaste(e)})}}),e})();function us(e,t){1&e&&c.Yb(0,"app-loader")}function hs(e,t){1&e&&(c.dc(0,"p",4),c.Rc(1,"Add Allocation"),c.cc())}function fs(e,t){if(1&e&&(c.dc(0,"ng-option",12),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Vc("",e.personalDetails.otherNames," ",e.personalDetails.surname," (",e.passportDetails.passportNumber,")")}}function ps(e,t){if(1&e&&(c.dc(0,"option",12),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function gs(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select an enrollment zone. "),c.cc())}function ms(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,gs,2,0,"div",1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.yc("ngIf",e.enrollmentZone.errors.required)}}function bs(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function vs(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Please enter a valid year. "),c.cc())}function ys(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(4);c.Kb(1),c.Tc(" Last hajj year must be a year before ",e.currentYear," ")}}function xs(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Enter a valid year "),c.cc())}function Ps(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Enter a valid year "),c.cc())}function Ss(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,bs,2,0,"div",1),c.Pc(2,vs,2,0,"div",1),c.Pc(3,ys,2,1,"div",1),c.Pc(4,xs,2,0,"div",1),c.Pc(5,Ps,2,0,"div",1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.yc("ngIf",e.lastHajjYear.errors.required),c.Kb(1),c.yc("ngIf",e.lastHajjYear.errors.pattern),c.Kb(1),c.yc("ngIf",e.lastHajjYear.errors.greaterThanCurrentYear),c.Kb(1),c.yc("ngIf",e.lastHajjYear.errors.minlength),c.Kb(1),c.yc("ngIf",e.lastHajjYear.errors.maxlength)}}function ws(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Rs(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(5);c.Kb(1),c.Tc(" Hajj experience must be minimum ",e.hajjExperience.errors.minlength.requiredLength,". ")}}function ks(e,t){if(1&e&&(c.dc(0,"div"),c.Rc(1),c.cc()),2&e){const e=c.rc(5);c.Kb(1),c.Tc(" Hajj experience must be maximum ",e.hajjExperience.errors.maxlength.requiredLength,". ")}}function Is(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,ws,2,0,"div",1),c.Pc(2,Rs,2,1,"div",1),c.Pc(3,ks,2,1,"div",1),c.cc()),2&e){const e=c.rc(4);c.Kb(1),c.yc("ngIf",e.hajjExperience.errors.required),c.Kb(1),c.yc("ngIf",e.hajjExperience.errors.minlength),c.Kb(1),c.yc("ngIf",e.hajjExperience.errors.maxlength)}}function Os(e,t){if(1&e&&(c.dc(0,"div",11),c.dc(1,"label",28),c.Rc(2,"Hajj Experience"),c.cc(),c.dc(3,"select",29),c.dc(4,"option",30),c.Rc(5,"Select your Hajj Experience"),c.cc(),c.dc(6,"option",31),c.Rc(7,"Inexperienced"),c.cc(),c.dc(8,"option",32),c.Rc(9,"Experienced"),c.cc(),c.cc(),c.Pc(10,Is,4,3,"div",15),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.Pb("text-danger",e.hajjExperience.touched&&e.hajjExperience.invalid),c.Kb(2),c.Pb("error-control",e.hajjExperience.touched&&e.hajjExperience.invalid),c.Kb(1),c.yc("value",null),c.Kb(6),c.yc("ngIf",e.hajjExperience.touched&&e.hajjExperience.invalid)}}function _s(e,t){if(1&e&&(c.dc(0,"option",12),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.year)}}function Ds(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select an enrollment zone. "),c.cc())}function Cs(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,Ds,2,0,"div",1),c.cc()),2&e){const e=c.rc(3);c.Kb(1),c.yc("ngIf",e.enrollmentYear.errors.required)}}function Ks(e,t){1&e&&(c.bc(0),c.Yb(1,"label"),c.dc(2,"div",33),c.dc(3,"div",34),c.dc(4,"span",35),c.Rc(5,"Loading..."),c.cc(),c.cc(),c.dc(6,"div",34),c.dc(7,"span",35),c.Rc(8,"Loading..."),c.cc(),c.cc(),c.dc(9,"div",34),c.dc(10,"span",35),c.Rc(11,"Loading..."),c.cc(),c.cc(),c.dc(12,"div",34),c.dc(13,"span",35),c.Rc(14,"Loading..."),c.cc(),c.cc(),c.cc(),c.ac())}function As(e,t){if(1&e&&(c.dc(0,"option",12),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Tc("slot #",e,"")}}function Ms(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select an allocation Number. "),c.cc())}function Ts(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,Ms,2,0,"div",1),c.cc()),2&e){const e=c.rc(4);c.Kb(1),c.yc("ngIf",e.enrollmentAllocationNumber.errors.required)}}function Fs(e,t){if(1&e&&(c.bc(0),c.dc(1,"label",36),c.Rc(2,"Code Number"),c.cc(),c.dc(3,"select",37),c.Pc(4,As,2,2,"option",10),c.cc(),c.Pc(5,Ts,2,1,"div",15),c.ac()),2&e){const e=c.rc(3);c.Kb(1),c.Pb("text-danger",e.enrollmentAllocationNumber.touched&&e.enrollmentAllocationNumber.invalid),c.yc("hidden",!e.showLga),c.Kb(2),c.Pb("error-control",e.enrollmentAllocationNumber.touched&&e.enrollmentAllocationNumber.invalid),c.yc("hidden",!e.showLga),c.Kb(1),c.yc("ngForOf",e.seats),c.Kb(1),c.yc("ngIf",e.enrollmentAllocationNumber.touched&&e.enrollmentAllocationNumber.invalid)}}function Ns(e,t){1&e&&c.Yb(0,"div",11)}function Ls(e,t){if(1&e&&(c.dc(0,"option",12),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function zs(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a bank. "),c.cc())}function js(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,zs,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("bank"))?null:t.errors.required)}}function Es(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Select a valid date. "),c.cc())}function Bs(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,Es,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("paymentDate"))?null:t.errors.required)}}function Ys(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function Hs(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,Ys,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("tellerNumber"))?null:t.errors.required)}}function Vs(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function qs(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,Vs,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("receiptNumber"))?null:t.errors.required)}}function Ws(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," This field is required. "),c.cc())}function $s(e,t){1&e&&(c.dc(0,"div"),c.Rc(1," Only numbers are allowed "),c.cc())}function Us(e,t){if(1&e&&(c.dc(0,"div",27),c.Pc(1,Ws,2,0,"div",1),c.Pc(2,$s,2,0,"div",1),c.cc()),2&e){const e=c.rc().$implicit;let t=null,n=null;c.Kb(1),c.yc("ngIf",null==(t=e.get("amount"))?null:t.errors.required),c.Kb(1),c.yc("ngIf",null==(n=e.get("amount"))?null:n.errors.pattern)}}function Gs(e,t){if(1&e){const e=c.ec();c.dc(0,"div",47),c.dc(1,"button",48),c.nc("click",function(){c.Jc(e);const t=c.rc().index;return c.rc(3).removeFormGroup(t)}),c.Rc(2," Delete Form "),c.cc(),c.cc()}}function Xs(e,t){if(1&e&&(c.dc(0,"form",38),c.dc(1,"h6",39),c.Rc(2),c.cc(),c.Yb(3,"br"),c.dc(4,"div",6),c.dc(5,"div",11),c.dc(6,"label",40),c.Rc(7,"Bank"),c.cc(),c.dc(8,"select",41),c.dc(9,"option",30),c.Rc(10,"Select Bank"),c.cc(),c.Pc(11,Ls,2,2,"option",10),c.cc(),c.Pc(12,js,2,1,"div",15),c.cc(),c.dc(13,"div",11),c.dc(14,"label",40),c.Rc(15," Date of Payment "),c.cc(),c.Yb(16,"input",42),c.Pc(17,Bs,2,1,"div",15),c.cc(),c.cc(),c.dc(18,"div",6),c.dc(19,"div",11),c.dc(20,"label",40),c.Rc(21,"Teller Number"),c.cc(),c.Yb(22,"input",43),c.Pc(23,Hs,2,1,"div",15),c.cc(),c.dc(24,"div",11),c.dc(25,"label",40),c.Rc(26,"Receipt Number"),c.cc(),c.Yb(27,"input",44),c.Pc(28,qs,2,1,"div",15),c.cc(),c.cc(),c.dc(29,"div",6),c.dc(30,"div",11),c.dc(31,"label",40),c.Rc(32,"Amount"),c.cc(),c.Yb(33,"input",45),c.Pc(34,Us,3,2,"div",15),c.cc(),c.Yb(35,"div",11),c.cc(),c.Pc(36,Gs,3,0,"div",46),c.cc()),2&e){const e=t.index,n=t.$implicit,i=c.rc(3);let r=null,o=null,a=null,s=null,l=null,d=null,u=null,h=null,f=null,p=null,g=null,m=null,b=null,v=null,y=null;c.yc("formGroup",n),c.Kb(2),c.Sc("Payment "+(e+1)),c.Kb(4),c.Pb("text-danger",(null==(r=n.get("bank"))?null:r.touched)&&(null==(r=n.get("bank"))?null:r.invalid)),c.yc("for","bank"+e),c.Kb(2),c.Pb("error-control",(null==(o=n.get("bank"))?null:o.touched)&&(null==(o=n.get("bank"))?null:o.invalid)),c.yc("id","bank"+e),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",i.banks),c.Kb(1),c.yc("ngIf",(null==(a=n.get("bank"))?null:a.touched)&&(null==(a=n.get("bank"))?null:a.invalid)),c.Kb(2),c.Pb("text-danger",(null==(s=n.get("paymentDate"))?null:s.touched)&&(null==(s=n.get("paymentDate"))?null:s.invalid)),c.yc("for","paymentDate"+e),c.Kb(2),c.Pb("error-control",(null==(l=n.get("paymentDate"))?null:l.touched)&&(null==(l=n.get("paymentDate"))?null:l.invalid)),c.yc("id","paymentDate"+e),c.Kb(1),c.yc("ngIf",(null==(d=n.get("paymentDate"))?null:d.touched)&&(null==(d=n.get("paymentDate"))?null:d.invalid)),c.Kb(3),c.Pb("text-danger",(null==(u=n.get("tellerNumber"))?null:u.touched)&&(null==(u=n.get("tellerNumber"))?null:u.invalid)),c.yc("for","tellerNumber"+e),c.Kb(2),c.Pb("error-control",(null==(h=n.get("tellerNumber"))?null:h.touched)&&(null==(h=n.get("tellerNumber"))?null:h.invalid)),c.yc("id","tellerNumber"+e),c.Kb(1),c.yc("ngIf",(null==(f=n.get("tellerNumber"))?null:f.touched)&&(null==(f=n.get("tellerNumber"))?null:f.invalid)),c.Kb(2),c.Pb("text-danger",(null==(p=n.get("receiptNumber"))?null:p.touched)&&(null==(p=n.get("receiptNumber"))?null:p.invalid)),c.yc("for","receiptNumber"+e),c.Kb(2),c.Pb("error-control",(null==(g=n.get("receiptNumber"))?null:g.touched)&&(null==(g=n.get("receiptNumber"))?null:g.invalid)),c.yc("id","receiptNumber"+e),c.Kb(1),c.yc("ngIf",(null==(m=n.get("receiptNumber"))?null:m.touched)&&(null==(m=n.get("receiptNumber"))?null:m.invalid)),c.Kb(3),c.Pb("text-danger",(null==(b=n.get("amount"))?null:b.touched)&&(null==(b=n.get("amount"))?null:b.invalid)),c.yc("for","amount"+e),c.Kb(2),c.Pb("error-control",(null==(v=n.get("amount"))?null:v.touched)&&(null==(v=n.get("amount"))?null:v.invalid)),c.yc("id","amount"+e),c.Kb(1),c.yc("ngIf",(null==(y=n.get("amount"))?null:y.touched)&&(null==(y=n.get("amount"))?null:y.invalid)),c.Kb(2),c.yc("ngIf",i.paymentHistory.controls.length>1)}}function Js(e,t){if(1&e){const e=c.ec();c.bc(0),c.dc(1,"h5"),c.Rc(2,"Enrollment details"),c.cc(),c.Yb(3,"hr",5),c.dc(4,"div",6),c.dc(5,"div",11),c.dc(6,"label",13),c.Rc(7,"Enrollment Zone"),c.cc(),c.dc(8,"select",14),c.Pc(9,ps,2,2,"option",10),c.cc(),c.Pc(10,ms,2,1,"div",15),c.cc(),c.dc(11,"div",11),c.dc(12,"label",16),c.Rc(13,"Last Hajj Year"),c.cc(),c.dc(14,"input",17),c.nc("keyup",function(){return c.Jc(e),c.rc(2).toggleHajjExperience()}),c.cc(),c.Pc(15,Ss,6,5,"div",15),c.cc(),c.cc(),c.dc(16,"div",6),c.Pc(17,Os,11,6,"div",18),c.dc(18,"div",11),c.dc(19,"label",19),c.Rc(20,"Enrollment Year"),c.cc(),c.dc(21,"select",20),c.nc("change",function(){return c.Jc(e),c.rc(2).yearSelected()}),c.dc(22,"option",21),c.Rc(23,"Select a year"),c.cc(),c.Pc(24,_s,2,2,"option",10),c.cc(),c.Pc(25,Cs,2,1,"div",15),c.cc(),c.dc(26,"div",11),c.bc(27,22),c.Pc(28,Ks,15,0,"ng-container",23),c.Pc(29,Fs,6,8,"ng-container",23),c.ac(),c.cc(),c.Pc(30,Ns,1,0,"div",18),c.cc(),c.dc(31,"h5"),c.Rc(32,"Payment details"),c.cc(),c.Yb(33,"hr",5),c.Pc(34,Xs,37,40,"form",24),c.dc(35,"div",25),c.dc(36,"button",26),c.nc("click",function(){return c.Jc(e),c.rc(2).addFormGroup()}),c.Rc(37," Add Payment "),c.cc(),c.cc(),c.ac()}if(2&e){const e=c.rc(2);c.Kb(6),c.Pb("text-danger",e.enrollmentZone.touched&&e.enrollmentZone.invalid),c.Kb(2),c.Pb("error-control",e.enrollmentZone.touched&&e.enrollmentZone.invalid),c.Kb(1),c.yc("ngForOf",e.zones),c.Kb(1),c.yc("ngIf",e.enrollmentZone.touched&&e.enrollmentZone.invalid),c.Kb(2),c.Pb("text-danger",e.lastHajjYear.touched&&e.lastHajjYear.invalid),c.Kb(2),c.Pb("error-control",e.lastHajjYear.touched&&e.lastHajjYear.invalid),c.Kb(1),c.yc("ngIf",e.lastHajjYear.touched&&e.lastHajjYear.invalid),c.Kb(2),c.yc("ngIf",e.hajjExperienceShown),c.Kb(2),c.Pb("text-danger",e.enrollmentYear.touched&&e.enrollmentYear.invalid),c.Kb(2),c.Pb("error-control",e.enrollmentYear.touched&&e.enrollmentYear.invalid),c.Kb(1),c.yc("value",null),c.Kb(2),c.yc("ngForOf",e.years),c.Kb(1),c.yc("ngIf",e.enrollmentYear.touched&&e.enrollmentYear.invalid),c.Kb(2),c.yc("ngSwitch",e.lgLoader),c.Kb(1),c.yc("ngSwitchCase",!0),c.Kb(1),c.yc("ngSwitchCase",!1),c.Kb(1),c.yc("ngIf",e.hajjExperienceShown),c.Kb(4),c.yc("ngForOf",e.paymentHistory.controls)}}function Zs(e,t){if(1&e){const e=c.ec();c.dc(0,"mat-dialog-content"),c.dc(1,"h5"),c.Rc(2,"Pilgrim"),c.cc(),c.Yb(3,"hr",5),c.dc(4,"div",6),c.dc(5,"div",7),c.dc(6,"label",8),c.Rc(7,"Pilgrim"),c.cc(),c.dc(8,"ng-select",9),c.nc("search",function(t){return c.Jc(e),c.rc().getPilgrims(t)}),c.Pc(9,fs,2,4,"ng-option",10),c.cc(),c.cc(),c.Yb(10,"div",11),c.cc(),c.Pc(11,Js,38,24,"ng-container",1),c.cc()}if(2&e){const e=c.rc();c.Kb(6),c.Pb("text-danger",e.pilgrim.touched&&e.pilgrim.invalid),c.Kb(2),c.Pb("error-control",e.pilgrim.touched&&e.pilgrim.invalid),c.yc("loading",e.selectLoader),c.Kb(1),c.yc("ngForOf",e.pilgrims),c.Kb(2),c.yc("ngIf",e.pilgrim.value)}}function Qs(e,t){if(1&e&&(c.dc(0,"mat-dialog-actions",49),c.dc(1,"button",50),c.Rc(2," Close "),c.cc(),c.dc(3,"button",51),c.Rc(4," Save "),c.cc(),c.cc()),2&e){const e=c.rc();c.Kb(1),c.yc("disabled",e.loader.loaderVisible),c.Kb(2),c.yc("disabled",e.loader.loaderVisiblle)}}let el=(()=>{class e{constructor(e,t,n,i,r,o){this.data=e,this.dataService=t,this.formsService=n,this.loader=i,this.notifications=r,this.dialogRef=o,this.years=[],this.zones=[],this.seats=[],this.banks=[],this.subscription=new Rt.a,this.token=sessionStorage.getItem("token"),this.userLga=sessionStorage.getItem("localGov"),this.lgLoader=!1,this.showLga=!1,this.hajjExperienceShown=!1,this.selectLoader=!1,this.pilgrims=[]}ngOnInit(){this.years=[...this.data.years],this.allocationForm=this.formsService.allocationForm,this.fetchOptions()}fetchOptions(){this.loader.showLoader();const e=sessionStorage.getItem("token"),t=`${kt.a.zones}`,n=kt.a.banks;this.subscription=Object(pa.a)([this.dataService.get(t,e,this.userLga),this.dataService.get(n,this.token,"")]).subscribe(e=>{this.zone=e[0],this.banks=e[1],this.zones.push(this.zone),this.allocationForm.patchValue({enrollmentZone:this.zone._id}),this.loader.hideLoader()})}getYearAllocations(e){const t=this.years.find(t=>t._id===e).seatAllocations.find(e=>e.zone._id===this.zone._id);return t?t.seatsAllocated:0}yearSelected(){this.enrollmentAllocationNumber.reset(""),this.lgLoader=!0;const e=sessionStorage.getItem("token");this.subscription=this.dataService.get(`${kt.a.seats}/taken/${this.zone._id}/${this.enrollmentYear.value}`,e).subscribe(e=>{const t=new Set(e.map(e=>e.seatNumber)),n=this.getYearAllocations(this.enrollmentYear.value);this.seats.length=0;for(let i=1;i<=n;i++)t.has(i)||this.seats.push(i);this.lgLoader=!1,this.showLga=!0})}toggleHajjExperience(){this.lastHajjYear.valid?"0000"===this.lastHajjYear.value?(this.hajjExperienceShown=!1,this.hajjExperience.patchValue("Inexperienced")):this.hajjExperienceShown=!0:this.hajjExperienceShown=!1}addFormGroup(){this.paymentHistory.controls.length>=10?this.notifications.alert("Sorry only a maximum of 10 payment records is allowed."):this.paymentHistory.push(new i.h({bank:new i.f(null,i.z.required),tellerNumber:new i.f(null,i.z.required),receiptNumber:new i.f(null,i.z.required),paymentDate:new i.f(null,[i.z.required,qt.a.greaterThanToday]),amount:new i.f(null,[i.z.required,i.z.pattern(/^[0-9]+$/)])}))}removeFormGroup(e){this.paymentHistory.controls.splice(e,1)}submit(){this.notifications.prompt("Are you sure you want to submit?").then(e=>{if(e.isConfirmed){this.loader.showLoader();const e=sessionStorage.getItem("token");this.subscription=this.dataService.post(kt.a.allocations,this.allocationForm.value,e).subscribe(e=>{this.notifications.alert(`Allocation added successfully. <br/> <b>Code: ${e.allocation.code}</b>`).then(e=>{this.allocationForm.reset(),this.loader.hideLoader(),this.dialogRef.close(!0)})})}})}getPilgrims(e){const t=e.term;t&&0!==t.length&&(this.selectLoader=!0,this.dataService.get(`${kt.a.pilgrims}/filter/all?term=${t}`,this.token).subscribe(e=>{console.log(e),this.pilgrims=e,this.selectLoader=!1}))}get pilgrim(){return this.allocationForm.get("pilgrim")}get hajjExperience(){return this.allocationForm.get("hajjExperience")}get lastHajjYear(){return this.allocationForm.get("lastHajjYear")}get enrollmentZone(){return this.allocationForm.get("enrollmentZone")}get enrollmentYear(){return this.allocationForm.get("enrollmentYear")}get enrollmentAllocationNumber(){return this.allocationForm.get("enrollmentAllocationNumber")}get paymentHistory(){return this.allocationForm.get("paymentHistory")}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(It.a),c.Xb(Wt.a),c.Xb($t.a),c.Xb(Ot.a),c.Xb(Ut.a),c.Xb(It.g))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-add-hajj-allocation"]],decls:5,vars:5,consts:[[3,"formGroup","ngSubmit"],[4,"ngIf"],["mat-dialog-title","","style","font-size: 160%;",4,"ngIf"],["align","end",4,"ngIf"],["mat-dialog-title","",2,"font-size","160%"],[2,"margin-top","0px"],[1,"row"],[1,"form-group","col-sm-12","mx-auto"],["for","pilgrim"],["loadingText","Getting pilgrims...","formControlName","pilgrim",3,"loading","search"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-6","col-sm-12","mx-auto"],[3,"value"],["for","enrollmentZone"],["id","enrollmentZone","formControlName","enrollmentZone",1,"form-control","form-control-sm"],["class","text-danger mt-1",4,"ngIf"],["for","lastHajjYear"],["appNumbersOnly","","type","text","id","lastHajjYear","formControlName","lastHajjYear",1,"form-control","form-control-sm",3,"keyup"],["class","form-group col-md-6 col-sm-12 mx-auto",4,"ngIf"],["for","enrollmentYear"],["type","text","id","enrollmentYear","formControlName","enrollmentYear",1,"form-control","form-control-sm",3,"change"],["disabled","","hidden","","selected","",3,"value"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"formGroup",4,"ngFor","ngForOf"],[1,"form-group","col-12","mx-auto"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"text-danger","mt-1"],["for","hajjExperience"],["type","text","id","hajjExperience","formControlName","hajjExperience",1,"form-control","form-control-sm"],["selected","","hidden","",3,"value"],["value","Inexperienced"],["value","Experienced"],[1,"d-flex","justify-content-center","mt-3"],["role","status",1,"spinner-grow","spinner-grow-sm","mx-2","text-primary"],[1,"sr-only"],["for","enrollmentAllocationNumber",3,"hidden"],["type","text","id","enrollmentAllocationNumber","formControlName","enrollmentAllocationNumber",1,"form-control","form-control-sm",3,"hidden"],[3,"formGroup"],[1,"text-secondary"],[3,"for"],["type","text","formControlName","bank",1,"form-control","form-control-sm",3,"id"],["type","date","formControlName","paymentDate",1,"form-control","form-control-sm",3,"id"],["type","text","formControlName","tellerNumber",1,"form-control","form-control-sm",3,"id"],["type","text","formControlName","receiptNumber",1,"form-control","form-control-sm",3,"id"],["type","text","formControlName","amount",1,"form-control","form-control-sm",3,"id"],["class","form-group col-12 mx-auto mb-5",4,"ngIf"],[1,"form-group","col-12","mx-auto","mb-5"],["type","button",1,"btn-sm","btn","btn-danger","float-right",3,"click"],["align","end"],["type","button","matDialogClose","",1,"btn-danger","btn-sm","btn","ml-2",3,"disabled"],["type","submit",1,"btn-success","btn-sm","btn","ml-2",3,"disabled"]],template:function(e,t){1&e&&(c.dc(0,"form",0),c.nc("ngSubmit",function(){return t.submit()}),c.Pc(1,us,1,0,"app-loader",1),c.Pc(2,hs,2,0,"p",2),c.Pc(3,Zs,12,7,"mat-dialog-content",1),c.Pc(4,Qs,5,2,"mat-dialog-actions",3),c.cc()),2&e&&(c.yc("formGroup",t.allocationForm),c.Kb(1),c.yc("ngIf",t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible),c.Kb(1),c.yc("ngIf",!t.loader.loaderVisible))},directives:[i.B,i.q,i.i,r.p,_t.a,It.h,It.e,ls.a,i.p,i.g,r.o,ls.d,i.y,i.c,ds,i.t,i.A,r.r,r.s,It.c,It.d],styles:[""]}),e})(),tl=(()=>{class e{constructor(){this.role=sessionStorage.getItem("roleName")}get isAdmin(){return"super-admin"===this.role}get isInitiator(){return"initiator"===this.role}get isUserAdmin(){return"admin"===this.role}get isReviewer(){return"reviewer"===this.role}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Tb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const nl=["yearId"];function il(e,t){if(1&e){const e=c.ec();c.dc(0,"div",24),c.dc(1,"div",25),c.dc(2,"button",26),c.nc("click",function(){return c.Jc(e),c.rc().tabClick("active")}),c.Rc(3," Active "),c.cc(),c.dc(4,"button",26),c.nc("click",function(){return c.Jc(e),c.rc().tabClick("migrated")}),c.Rc(5," Migrated "),c.cc(),c.dc(6,"button",26),c.nc("click",function(){return c.Jc(e),c.rc().tabClick("deleted")}),c.Rc(7," Deleted "),c.cc(),c.cc(),c.cc()}if(2&e){const e=c.rc();c.Kb(2),c.Pb("btn-active","active"===e.active),c.yc("disabled",e.loader.loaderVisible),c.Kb(2),c.Pb("btn-active","migrated"===e.active),c.yc("disabled",e.loader.loaderVisible),c.Kb(2),c.Pb("btn-active","deleted"===e.active),c.yc("disabled",e.loader.loaderVisible)}}function rl(e,t){if(1&e){const e=c.ec();c.dc(0,"div",27),c.dc(1,"button",28),c.nc("click",function(){return c.Jc(e),c.rc().addAllocation()}),c.Rc(2,"Add allocation"),c.cc(),c.cc()}}function ol(e,t){1&e&&(c.dc(0,"span",31),c.Rc(1," \xa0\xa0\xa0Active "),c.cc())}function al(e,t){if(1&e&&(c.dc(0,"option",29),c.Rc(1),c.sc(2,"uppercase"),c.Pc(3,ol,2,0,"span",30),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Tc(" ",c.tc(2,3,e.year)," "),c.Kb(2),c.yc("ngIf",e.active)}}function cl(e,t){1&e&&c.Zb(0)}function sl(e,t){1&e&&(c.dc(0,"thead"),c.dc(1,"tr",32),c.dc(2,"td"),c.dc(3,"app-loader"),c.Rc(4,"Fetching data..."),c.cc(),c.cc(),c.cc(),c.cc())}function ll(e,t){1&e&&c.Zb(0)}function dl(e,t){if(1&e&&c.Pc(0,ll,1,0,"ng-container",19),2&e){const e=c.rc(),t=c.Hc(31),n=c.Hc(29);c.yc("ngIf",e.allocations.length>0)("ngIfThen",t)("ngIfElse",n)}}function ul(e,t){1&e&&(c.dc(0,"span"),c.Rc(1,"Select a year."),c.cc())}function hl(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3,"No record(s) to display. "),c.Pc(4,ul,2,0,"span",33),c.cc(),c.cc(),c.cc()),2&e){c.rc();const e=c.Hc(16);c.Kb(4),c.yc("ngIf",""===e.value)}}function fl(e,t){if(1&e){const e=c.ec();c.dc(0,"button",44),c.nc("click",function(){c.Jc(e);const t=c.rc().$implicit;return c.rc(2).editAllocation(t)}),c.Rc(1," Edit "),c.cc()}}function pl(e,t){if(1&e){const e=c.ec();c.dc(0,"button",44),c.nc("click",function(){c.Jc(e);const t=c.rc().$implicit;return c.rc(2).deleteAllocation(t)}),c.Rc(1," Delete "),c.cc()}}function gl(e,t){if(1&e){const e=c.ec();c.dc(0,"button",44),c.nc("click",function(){c.Jc(e);const t=c.rc().$implicit;return c.rc(2).migrateAllocation(t)}),c.Rc(1," Migrate Allocation "),c.cc()}}function ml(e,t){if(1&e){const e=c.ec();c.dc(0,"tbody"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3),c.cc(),c.dc(4,"td"),c.Rc(5),c.sc(6,"uppercase"),c.cc(),c.dc(7,"td"),c.Rc(8),c.cc(),c.dc(9,"td"),c.dc(10,"b"),c.Rc(11),c.cc(),c.cc(),c.dc(12,"td"),c.Rc(13),c.cc(),c.dc(14,"td"),c.Rc(15),c.sc(16,"date"),c.cc(),c.dc(17,"td"),c.dc(18,"div",40,41),c.dc(20,"button",42),c.nc("focus",function(){return c.Jc(e),c.Hc(19).open()}),c.Rc(21,"Actions "),c.cc(),c.dc(22,"div",43),c.dc(23,"button",44),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc(2).viewAllocation(n)}),c.Rc(24," View "),c.cc(),c.Pc(25,fl,2,0,"button",45),c.Pc(26,pl,2,0,"button",45),c.Pc(27,gl,2,0,"button",45),c.cc(),c.cc(),c.cc(),c.cc(),c.cc()}if(2&e){const e=t.index,n=t.$implicit,i=c.rc(2);c.Kb(3),c.Sc((i.p-1)*i.pageSize+(e+1)),c.Kb(2),c.Sc(c.tc(6,9,n.pilgrim.personalDetails.surname+", "+n.pilgrim.personalDetails.otherNames)),c.Kb(3),c.Sc(n.pilgrim.passportDetails.passportNumber),c.Kb(3),c.Sc(n.enrollmentAllocationNumber),c.Kb(2),c.Sc(n.code),c.Kb(2),c.Sc(c.uc(16,11,n.createdAt,"medium")),c.Kb(10),c.yc("ngIf","active"===i.active),c.Kb(1),c.yc("ngIf","active"===i.active&&(i.rolesService.isUserAdmin||i.rolesService.isReviewer)),c.Kb(1),c.yc("ngIf","active"===i.active&&(i.rolesService.isUserAdmin||i.rolesService.isReviewer))}}const bl=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}};function vl(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"th",34),c.Rc(3,"S/N"),c.cc(),c.dc(4,"th",35),c.Rc(5,"Pilgrim"),c.cc(),c.dc(6,"th",35),c.Rc(7,"Pilgrim Passport"),c.cc(),c.dc(8,"th",36),c.Rc(9,"Allocated Number"),c.cc(),c.dc(10,"th",37),c.Rc(11,"Registration Number "),c.cc(),c.dc(12,"th",38),c.Rc(13,"Registration Date"),c.cc(),c.dc(14,"th"),c.Rc(15,"Actions"),c.cc(),c.cc(),c.cc(),c.Pc(16,ml,28,14,"tbody",39),c.sc(17,"paginate"),c.sc(18,"filter")),2&e){const e=c.rc();c.Kb(2),c.yc("appSort",e.allocations),c.Kb(6),c.yc("appSort",e.allocations),c.Kb(2),c.yc("appSort",e.allocations),c.Kb(2),c.yc("appSort",e.allocations),c.Kb(4),c.yc("ngForOf",c.uc(17,5,c.uc(18,8,e.allocations,e.searchText),c.Ec(11,bl,e.pageSize,e.p,e.totalItems)))}}let yl=(()=>{class e{constructor(e,t,n,i,r){this.loader=e,this.dataService=t,this.notifications=n,this.dialog=i,this.rolesService=r,this.searchText="",this.years=[],this.allocations=[],this.banks=[],this.p=1,this.pageSize=5,this.pages=[5,10,15,20],this.totalItems=0,this.subscription=new Rt.a,this.token=sessionStorage.getItem("token"),this.selectedYear="",this.active="active",this.display="Active Allocations"}ngOnInit(){this.getYears()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}onPageSizeChange(){this.onNavigate(1)}onNavigate(e){e&&(this.p=e),this.getAllocations(this.selectedYear,this.pageSize,this.p)}tabClick(e){switch(this.p=1,this.pageSize=5,this.allocations=[],this.active=e,e){case"active":this.display="Active Allocations";break;case"migrated":this.display="Migrated Allocations";break;default:this.display="Deleted Allocations"}this.getAllocations(this.selectedYear,this.pageSize,this.p)}yearSelected(e){this.getAllocations(e)}getYears(){this.loader.showLoader(),this.subscription=this.dataService.get(kt.a.years+"/all",this.token).subscribe(e=>{this.years=[...e],this.loader.hideLoader()})}getAllocations(e,t,n){this.selectedYear=e,this.loader.showLoader(),this.subscription=this.dataService.get(`${kt.a.allocations}/year/${e}/${this.active}`,this.token,null,{pageSize:t,page:n}).subscribe(e=>{this.allocations=[...e.allocations],this.totalItems=e.totalDocs,this.loader.hideLoader()})}addAllocation(){window.scroll(0,0),this.dialog.open(el,{width:"45rem",disableClose:!0,data:{years:this.years}})}viewAllocation(e){window.scroll(0,0),this.dialog.open(xa,{width:"45rem",disableClose:!0,data:e})}editAllocation(e){window.scroll(0,0),this.dialog.open(ja,{width:"45rem",disableClose:!0,data:e}).afterClosed().subscribe(e=>e?this.getAllocations(this.yearId.value,this.pageSize,this.p):"")}deleteAllocation(e){window.scroll(0,0),this.dialog.open(nc,{width:"25rem",disableClose:!0,data:e}).afterClosed().subscribe(e=>{e&&(this.notifications.successToast("Allocation was deleted successfully."),this.yearSelected(this.yearId.value),this.active="deleted",this.display="Deleted Allocations",this.p=1,this.getAllocations(this.yearId.value,this.pageSize,this.p))})}migrateAllocation(e){window.scroll(0,0),this.dialog.open(lc,{width:"25rem",disableClose:!0,data:{allocation:e,years:this.years.filter(e=>e._id!==this.selectedYear)}}).afterClosed().subscribe(e=>e?this.getAllocations(this.yearId.value,this.pageSize,this.p):"")}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a),c.Xb(Ut.a),c.Xb(It.b),c.Xb(tl))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-hajj-allocation-list"]],viewQuery:function(e,t){if(1&e&&c.Wc(nl,1),2&e){let e;c.Gc(e=c.oc())&&(t.yearId=e.first)}},decls:32,vars:8,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],["class","col-12","style","text-align: center;",4,"ngIf"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["class","col-sm-12 px-0 mb-3",4,"ngIf"],["id","yearId","name","yearId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4",2,"border-radius","2px",3,"change"],["yearId","ngModel"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],["load",""],["show",""],["noData",""],["tableData",""],[1,"col-12",2,"text-align","center"],["role","group",1,"btn-group","mb-4"],["type","button",1,"magnifyText","btn","btn-primary",3,"disabled","click"],[1,"col-sm-12","px-0","mb-3"],[1,"ml-auto","btn","btn-sm","btn-success",3,"click"],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"],[2,"font-weight","600"],[4,"ngIf"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col",1,"sort"],["scope","col","data-order","desc","data-name","enrollmentAllocationNumber",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","code",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],["ngbDropdown","","container","body",1,"d-inline-block"],["moreActionsDrop","ngbDropdown"],["id","moredropDown","ngbDropdownAnchor","",1,"magnifyText","btn","btn-sm","btn-outline-primary",3,"focus"],["ngbDropdownMenu","","aria-labelledby","moredropDown"],["ngbDropdownItem","",1,"my-2",2,"font-size","105%!important",3,"click"],["class","my-2","style","font-size: 105%!important;","ngbDropdownItem","",3,"click",4,"ngIf"]],template:function(e,t){if(1&e){const e=c.ec();c.dc(0,"nav",0),c.dc(1,"ol",1),c.dc(2,"li",2),c.dc(3,"a",3),c.Rc(4,"Allocations"),c.cc(),c.cc(),c.dc(5,"li",4),c.Rc(6),c.cc(),c.cc(),c.cc(),c.Pc(7,il,8,9,"div",5),c.dc(8,"div",6),c.dc(9,"div",7),c.dc(10,"div",8),c.dc(11,"div",9),c.dc(12,"h6",10),c.Rc(13,"ALLOCATIONS MASTER LIST"),c.cc(),c.Pc(14,rl,3,0,"div",11),c.dc(15,"select",12,13),c.nc("change",function(){c.Jc(e);const n=c.Hc(16);return t.getAllocations(n.value)}),c.dc(17,"option",14),c.Rc(18,"Select Year"),c.cc(),c.Pc(19,al,4,5,"option",15),c.cc(),c.dc(20,"input",16),c.nc("ngModelChange",function(e){return t.searchText=e}),c.cc(),c.dc(21,"div",17),c.dc(22,"table",18),c.Pc(23,cl,1,0,"ng-container",19),c.cc(),c.cc(),c.cc(),c.cc(),c.cc(),c.cc(),c.Pc(24,sl,5,0,"ng-template",null,20,c.Qc),c.Pc(26,dl,1,3,"ng-template",null,21,c.Qc),c.Pc(28,hl,5,1,"ng-template",null,22,c.Qc),c.Pc(30,vl,19,15,"ng-template",null,23,c.Qc)}if(2&e){const e=c.Hc(16),n=c.Hc(25),i=c.Hc(27);c.Kb(6),c.Sc(t.display),c.Kb(1),c.yc("ngIf",e.value),c.Kb(7),c.yc("ngIf",t.rolesService.isInitiator),c.Kb(5),c.yc("ngForOf",t.years),c.Kb(1),c.yc("ngModel",t.searchText),c.Kb(3),c.yc("ngIf",t.loader.loaderVisible)("ngIfThen",n)("ngIfElse",i)}},directives:[r.p,i.y,i.p,i.s,i.x,i.t,i.A,r.o,i.c,_t.a,_i.a,a.a,a.b,a.d,a.c],pipes:[r.A,o.b,Di.a,r.f],styles:[".ngx-pagination .current{background-color:#727cf5!important;border-radius:3px}td[_ngcontent-%COMP%]{font-size:85%!important}"]}),e})();const xl=["yearId"],Pl=["zoneId"];function Sl(e,t){1&e&&(c.dc(0,"span",28),c.Rc(1,"\xa0\xa0\xa0Active"),c.cc())}function wl(e,t){if(1&e&&(c.dc(0,"option",26),c.Rc(1),c.sc(2,"uppercase"),c.Pc(3,Sl,2,0,"span",27),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Tc("",c.tc(2,3,e.year)," "),c.Kb(2),c.yc("ngIf",e.active)}}function Rl(e,t){if(1&e&&(c.dc(0,"option",26),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}function kl(e,t){1&e&&c.Zb(0)}function Il(e,t){if(1&e&&(c.dc(0,"option",26),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Tc("Show ",e," Items")}}function Ol(e,t){if(1&e){const e=c.ec();c.dc(0,"div",29),c.dc(1,"div",30),c.dc(2,"select",31),c.nc("ngModelChange",function(t){return c.Jc(e),c.rc().pageSize=t})("change",function(){return c.Jc(e),c.rc().onPageSizeChange()}),c.Pc(3,Il,2,2,"option",13),c.cc(),c.cc(),c.dc(4,"pagination-controls",32),c.nc("pageChange",function(t){return c.Jc(e),c.rc().onNavigate(t)}),c.cc(),c.cc()}if(2&e){const e=c.rc();c.Kb(2),c.yc("ngModel",e.pageSize),c.Kb(1),c.yc("ngForOf",e.pages)}}function _l(e,t){1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"td"),c.dc(3,"app-loader"),c.Rc(4,"Fetching data..."),c.cc(),c.cc(),c.cc(),c.cc())}function Dl(e,t){1&e&&c.Zb(0)}function Cl(e,t){if(1&e&&c.Pc(0,Dl,1,0,"ng-container",20),2&e){const e=c.rc(),t=c.Hc(37),n=c.Hc(35);c.yc("ngIf",e.allocations.length>0)("ngIfThen",t)("ngIfElse",n)}}function Kl(e,t){1&e&&(c.dc(0,"span"),c.Rc(1,"Select a year and zone."),c.cc())}function Al(e,t){1&e&&c.Yb(0,"span")}function Ml(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3," No record(s) to display. "),c.Pc(4,Kl,2,0,"span",33),c.Pc(5,Al,1,0,"span",33),c.cc(),c.cc(),c.cc()),2&e){c.rc();const e=c.Hc(14),t=c.Hc(19);c.Kb(4),c.yc("ngIf",!e.touched||!t.touched)}}function Tl(e,t){if(1&e){const e=c.ec();c.dc(0,"tbody"),c.dc(1,"tr"),c.dc(2,"td"),c.Rc(3),c.cc(),c.dc(4,"td"),c.Rc(5),c.sc(6,"uppercase"),c.cc(),c.dc(7,"td"),c.Rc(8),c.cc(),c.dc(9,"td"),c.dc(10,"b"),c.Rc(11),c.cc(),c.cc(),c.dc(12,"td"),c.Rc(13),c.cc(),c.dc(14,"td"),c.Rc(15),c.sc(16,"date"),c.cc(),c.dc(17,"td"),c.dc(18,"button",40),c.nc("click",function(){c.Jc(e);const n=t.$implicit;return c.rc(2).viewAllocation(n)}),c.Rc(19," View "),c.cc(),c.cc(),c.cc(),c.cc()}if(2&e){const e=t.index,n=t.$implicit,i=c.rc(2);c.Kb(3),c.Sc((i.p-1)*i.pageSize+(e+1)),c.Kb(2),c.Sc(c.tc(6,6,n.pilgrim.personalDetails.surname+", "+n.pilgrim.personalDetails.otherNames)),c.Kb(3),c.Sc(n.pilgrim.passportDetails.passportNumber),c.Kb(3),c.Sc(n.enrollmentAllocationNumber),c.Kb(2),c.Sc(n.code),c.Kb(2),c.Sc(c.uc(16,8,n.createdAt,"medium"))}}const Fl=function(e,t,n){return{itemsPerPage:e,currentPage:t,totalItems:n}};function Nl(e,t){if(1&e&&(c.dc(0,"thead"),c.dc(1,"tr"),c.dc(2,"th",34),c.Rc(3,"S/N"),c.cc(),c.dc(4,"th",35),c.Rc(5,"Pilgrim"),c.cc(),c.dc(6,"th",35),c.Rc(7,"Pilgrim Passport"),c.cc(),c.dc(8,"th",36),c.Rc(9,"Allocated Number"),c.cc(),c.dc(10,"th",37),c.Rc(11,"Registration Number "),c.cc(),c.dc(12,"th",38),c.Rc(13,"Registration Date"),c.cc(),c.dc(14,"th"),c.Rc(15,"Actions"),c.cc(),c.cc(),c.cc(),c.Pc(16,Tl,20,11,"tbody",39),c.sc(17,"paginate"),c.sc(18,"filter")),2&e){const e=c.rc();c.Kb(2),c.yc("appSort",e.allocations),c.Kb(6),c.yc("appSort",e.allocations),c.Kb(2),c.yc("appSort",e.allocations),c.Kb(2),c.yc("appSort",e.allocations),c.Kb(4),c.yc("ngForOf",c.uc(17,5,c.uc(18,8,e.allocations,e.searchText),c.Ec(11,Fl,e.pageSize,e.p,e.totalItems)))}}let Ll=(()=>{class e{constructor(e,t,n){this.loader=e,this.dataService=t,this.dialog=n,this.searchText="",this.years=[],this.zones=[],this.banks=[],this.allocations=[],this.p=1,this.pageSize=5,this.pages=[5,10,15,20],this.totalItems=0,this.subscription=new Rt.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.fetchData()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}fetchData(){this.loader.showLoader();const e=`${kt.a.years}/all`,t=kt.a.zones;this.subscription=Object(pa.a)([this.dataService.get(e,this.token),this.dataService.get(t,this.token)]).subscribe(e=>{this.years=[...e[0]];const t=["00","01"];this.zones=e[1].filter(e=>!t.includes(e.code)),this.loader.hideLoader()})}onPageSizeChange(){this.onNavigate(1)}onNavigate(e){e&&(this.p=e),this.fetchAllocations(this.year.value,this.zone.value,this.pageSize,this.p)}fetchAllocations(e,t,n,i){this.loader.showLoader(),this.subscription=this.dataService.get(`${kt.a.allocations}/zone/${t}/year/${e}/migrated`,this.token,null,{pageSize:n,page:i}).subscribe(e=>{this.allocations=[...e.allocations],this.totalItems=e.totalDocs,this.getBanks(),this.loader.hideLoader()})}getBanks(){this.loader.showLoader();const e=kt.a.banks,t=sessionStorage.getItem("token");this.subscription=this.dataService.get(e,t,"").subscribe(e=>{this.banks=[...e],this.allocations.forEach(e=>{e.paymentHistory.forEach(e=>{e.bankObject=this.banks.find(t=>t._id===e.bank)})}),this.loader.hideLoader()})}viewAllocation(e){window.scroll(0,0),this.dialog.open(xa,{width:"45rem",disableClose:!0,data:e})}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a),c.Xb(It.b))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-migrated-hajj-allocation-list"]],viewQuery:function(e,t){if(1&e&&(c.Wc(xl,1),c.Wc(Pl,1)),2&e){let e;c.Gc(e=c.oc())&&(t.year=e.first),c.Gc(e=c.oc())&&(t.zone=e.first)}},decls:38,vars:8,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","yearId","name","yearId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mr-2","mb-4",2,"border-radius","2px"],["yearId","ngModel"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","zoneId","name","zoneId","ngModel","","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4",2,"border-radius","2px"],["zoneId","ngModel"],[1,"btn","btn","btn-success","ml-3",2,"height","calc(1.5em + 0.75rem + 2px)",3,"disabled","click"],["type","search","name","search","placeholder","Search",1,"form-control","col-sm-12","col-md-3","float-right","mb-4",3,"ngModel","ngModelChange"],[1,"table-responsive",2,"overflow-y","hidden!important"],[1,"table"],[4,"ngIf","ngIfThen","ngIfElse"],["class","col-12 mx-auto mt-3",4,"ngIf"],["load",""],["show",""],["noData",""],["tableData",""],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"],[1,"col-12","mx-auto","mt-3"],[1,"float-left"],[1,"form-control",3,"ngModel","ngModelChange","change"],["maxSize","9","directionLinks","true","autoHide","true","responsive","true","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",1,"float-right",3,"pageChange"],[4,"ngIf"],["scope","col","data-order","desc","data-name","sn",1,"sort",3,"appSort"],["scope","col",1,"sort"],["scope","col","data-order","desc","data-name","enrollmentAllocationNumber",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","code",1,"sort",3,"appSort"],["scope","col","data-order","desc","data-name","dateCreated",1,"sort",3,"appSort"],[4,"ngFor","ngForOf"],[1,"btn-sm","btn-primary","btn",3,"click"]],template:function(e,t){if(1&e){const e=c.ec();c.dc(0,"nav",0),c.dc(1,"ol",1),c.dc(2,"li",2),c.dc(3,"a",3),c.Rc(4,"Allocations"),c.cc(),c.cc(),c.dc(5,"li",4),c.Rc(6,"Deleted Allocations"),c.cc(),c.cc(),c.cc(),c.dc(7,"div",5),c.dc(8,"div",6),c.dc(9,"div",7),c.dc(10,"div",8),c.dc(11,"h6",9),c.Rc(12,"ALLOCATIONS MASTER LIST"),c.cc(),c.dc(13,"select",10,11),c.dc(15,"option",12),c.Rc(16,"Select Year"),c.cc(),c.Pc(17,wl,4,5,"option",13),c.cc(),c.dc(18,"select",14,15),c.dc(20,"option",12),c.Rc(21,"Select Zone"),c.cc(),c.Pc(22,Rl,2,2,"option",13),c.cc(),c.dc(23,"button",16),c.nc("click",function(){c.Jc(e);const n=c.Hc(14),i=c.Hc(19);return t.fetchAllocations(n.value,i.value)}),c.Rc(24," Query "),c.cc(),c.dc(25,"input",17),c.nc("ngModelChange",function(e){return t.searchText=e}),c.cc(),c.dc(26,"div",18),c.dc(27,"table",19),c.Pc(28,kl,1,0,"ng-container",20),c.cc(),c.Pc(29,Ol,5,2,"div",21),c.cc(),c.cc(),c.cc(),c.cc(),c.cc(),c.Pc(30,_l,5,0,"ng-template",null,22,c.Qc),c.Pc(32,Cl,1,3,"ng-template",null,23,c.Qc),c.Pc(34,Ml,6,1,"ng-template",null,24,c.Qc),c.Pc(36,Nl,19,15,"ng-template",null,25,c.Qc)}if(2&e){const e=c.Hc(14),n=c.Hc(19),i=c.Hc(31),r=c.Hc(33);c.Kb(17),c.yc("ngForOf",t.years),c.Kb(5),c.yc("ngForOf",t.zones),c.Kb(1),c.yc("disabled",""===n.value||""===e.value),c.Kb(2),c.yc("ngModel",t.searchText),c.Kb(3),c.yc("ngIf",t.loader.loaderVisible)("ngIfThen",i)("ngIfElse",r),c.Kb(1),c.yc("ngIf",t.allocations.length>0)}},directives:[i.y,i.p,i.s,i.x,i.t,i.A,r.o,i.c,r.p,o.c,_t.a,_i.a],pipes:[r.A,o.b,Di.a,r.f],styles:[""]}),e})();function zl(e,t){if(1&e&&(c.dc(0,"option",15),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(e)}}function jl(e,t){1&e&&(c.dc(0,"span",17),c.Rc(1,"\xa0\xa0\xa0Active"),c.cc())}function El(e,t){if(1&e&&(c.dc(0,"option",15),c.Rc(1),c.sc(2,"uppercase"),c.Pc(3,jl,2,0,"span",16),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Tc("",c.tc(2,3,e.year)," "),c.Kb(2),c.yc("ngIf",e.active)}}let Bl=(()=>{class e{constructor(e,t){this.loader=e,this.dataService=t,this.year="",this.years=[],this.type="active",this.types=["active","deleted","migrated"],this.subscription=new Rt.a,this.zone=sessionStorage.getItem("localGov"),this.token=sessionStorage.getItem("token")}ngOnInit(){this.fetchData()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}fetchData(){this.loader.showLoader(),this.subscription=this.dataService.get(`${kt.a.years}/all`,this.token).subscribe(e=>{this.years=[...e],this.loader.hideLoader()})}get url(){return kt.a.exports+"/allocations/"+this.type+`?yearId=${this.year}&zoneId=${this.zone}`}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-allocation-export"]],decls:23,vars:5,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","type","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4","mr-2",2,"border-radius","2px",3,"ngModel","ngModelChange"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","yearId","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mr-2","mb-4",2,"border-radius","2px",3,"ngModel","ngModelChange"],["target","_blank",1,"btn","btn-success",3,"href"],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"]],template:function(e,t){1&e&&(c.dc(0,"nav",0),c.dc(1,"ol",1),c.dc(2,"li",2),c.dc(3,"a",3),c.Rc(4,"Allocations"),c.cc(),c.cc(),c.dc(5,"li",4),c.Rc(6,"Export Allocations"),c.cc(),c.cc(),c.cc(),c.dc(7,"div",5),c.dc(8,"div",6),c.dc(9,"div",7),c.dc(10,"div",8),c.dc(11,"h6",9),c.Rc(12,"export allocations to excel"),c.cc(),c.dc(13,"select",10),c.nc("ngModelChange",function(e){return t.type=e}),c.dc(14,"option",11),c.Rc(15,"Select Type"),c.cc(),c.Pc(16,zl,2,2,"option",12),c.cc(),c.dc(17,"select",13),c.nc("ngModelChange",function(e){return t.year=e}),c.dc(18,"option",11),c.Rc(19,"Select Year"),c.cc(),c.Pc(20,El,4,5,"option",12),c.cc(),c.dc(21,"a",14),c.Rc(22,"Export to excel"),c.cc(),c.cc(),c.cc(),c.cc(),c.cc()),2&e&&(c.Kb(13),c.yc("ngModel",t.type),c.Kb(3),c.yc("ngForOf",t.types),c.Kb(1),c.yc("ngModel",t.year),c.Kb(3),c.yc("ngForOf",t.years),c.Kb(1),c.yc("href",t.url,c.Kc))},directives:[i.y,i.x,i.p,i.s,i.t,i.A,r.o,r.p],pipes:[r.A],styles:[""]}),e})(),Yl=(()=>{class e{constructor(e,t,n){this.loader=e,this.dataService=t,this.notifications=n,this.subscription=new Rt.a,this.token=sessionStorage.getItem("token")}ngOnInit(){}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}get url(){return kt.a.exports+"/pilgrims"}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a),c.Xb(Ut.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-pilgrim-export"]],decls:15,vars:1,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["target","_blank",1,"btn","btn-success",3,"href"]],template:function(e,t){1&e&&(c.dc(0,"nav",0),c.dc(1,"ol",1),c.dc(2,"li",2),c.dc(3,"a",3),c.Rc(4,"Pilgrims"),c.cc(),c.cc(),c.dc(5,"li",4),c.Rc(6,"Export Pilgrims"),c.cc(),c.cc(),c.cc(),c.dc(7,"div",5),c.dc(8,"div",6),c.dc(9,"div",7),c.dc(10,"div",8),c.dc(11,"h6",9),c.Rc(12,"Export Registered Pilgrims to excel"),c.cc(),c.dc(13,"a",10),c.Rc(14,"Export to Excel"),c.cc(),c.cc(),c.cc(),c.cc(),c.cc()),2&e&&(c.Kb(13),c.yc("href",t.url,c.Kc))},styles:[""]}),e})();function Hl(e,t){if(1&e&&(c.dc(0,"option",16),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e),c.Kb(1),c.Sc(e)}}function Vl(e,t){1&e&&(c.dc(0,"span",18),c.Rc(1,"\xa0\xa0\xa0Active"),c.cc())}function ql(e,t){if(1&e&&(c.dc(0,"option",16),c.Rc(1),c.sc(2,"uppercase"),c.Pc(3,Vl,2,0,"span",17),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Tc("",c.tc(2,3,e.year)," "),c.Kb(2),c.yc("ngIf",e.active)}}function Wl(e,t){if(1&e&&(c.dc(0,"option",16),c.Rc(1),c.cc()),2&e){const e=t.$implicit;c.yc("value",e._id),c.Kb(1),c.Sc(e.name)}}const $l=[{path:"dashboard",canActivate:[cs.a],component:rs},{path:"pilgrims",canActivate:[cs.a],component:Bi},{path:"register-pilgrim",canActivate:[cs.a,as],component:fa},{path:"hajj-allocations",canActivate:[cs.a],component:yl},{path:"hajj-allocations-reviewer",canActivate:[cs.a,ss],component:Oc},{path:"deleted-hajj-allocations",canActivate:[cs.a,ss],component:qc},{path:"migrated-hajj-allocations",canActivate:[cs.a,ss],component:Ll},{path:"hajj-allocations-exports-reviewer",canActivate:[cs.a,ss],component:(()=>{class e{constructor(e,t){this.loader=e,this.dataService=t,this.zones=[],this.years=[],this.year="",this.zone="",this.type="active",this.types=["active","deleted","migrated"],this.subscription=new Rt.a,this.token=sessionStorage.getItem("token")}ngOnInit(){this.fetchData()}ngOnDestroy(){this.loader.hideLoader(),this.subscription.unsubscribe()}fetchData(){this.loader.showLoader();const e=`${kt.a.years}/all`,t=kt.a.zones;this.subscription=Object(pa.a)([this.dataService.get(e,this.token),this.dataService.get(t,this.token)]).subscribe(e=>{this.years=[...e[0]];const t=["00","01"];this.zones=e[1].filter(e=>!t.includes(e.code)),this.loader.hideLoader()})}get url(){return kt.a.exports+"/allocations/"+this.type+`?yearId=${this.year}&zoneId=${this.zone}`}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(Oi.a),c.Xb(Wt.a))},e.\u0275cmp=c.Rb({type:e,selectors:[["app-reviewer-allocation-export"]],decls:27,vars:7,consts:[[1,"page-breadcrumb"],[1,"breadcrumb",2,"font-size","150%"],[1,"breadcrumb-item"],[1,"text-primary"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-12","grid-margin","stretch-card"],[1,"card"],[1,"card-body",2,"overflow-x","auto"],[1,"card-title"],["id","type","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4","mr-2",2,"border-radius","2px",3,"ngModel","ngModelChange"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["id","yearId","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mr-2","mb-4",2,"border-radius","2px",3,"ngModel","ngModelChange"],["id","zoneId","required","",1,"form-control","col-sm-12","col-md-3","col-lg-2","float-left","mb-4","mr-2",2,"border-radius","2px",3,"ngModel","ngModelChange"],["target","_blank",1,"btn","btn-success",3,"href"],[3,"value"],["class","text-success",4,"ngIf"],[1,"text-success"]],template:function(e,t){1&e&&(c.dc(0,"nav",0),c.dc(1,"ol",1),c.dc(2,"li",2),c.dc(3,"a",3),c.Rc(4,"Allocations"),c.cc(),c.cc(),c.dc(5,"li",4),c.Rc(6,"Export Allocations"),c.cc(),c.cc(),c.cc(),c.dc(7,"div",5),c.dc(8,"div",6),c.dc(9,"div",7),c.dc(10,"div",8),c.dc(11,"h6",9),c.Rc(12,"export allocations to excel"),c.cc(),c.dc(13,"select",10),c.nc("ngModelChange",function(e){return t.type=e}),c.dc(14,"option",11),c.Rc(15,"Select Type"),c.cc(),c.Pc(16,Hl,2,2,"option",12),c.cc(),c.dc(17,"select",13),c.nc("ngModelChange",function(e){return t.year=e}),c.dc(18,"option",11),c.Rc(19,"Select Year"),c.cc(),c.Pc(20,ql,4,5,"option",12),c.cc(),c.dc(21,"select",14),c.nc("ngModelChange",function(e){return t.zone=e}),c.dc(22,"option",11),c.Rc(23,"Select Zone"),c.cc(),c.Pc(24,Wl,2,2,"option",12),c.cc(),c.dc(25,"a",15),c.Rc(26,"Export to excel"),c.cc(),c.cc(),c.cc(),c.cc(),c.cc()),2&e&&(c.Kb(13),c.yc("ngModel",t.type),c.Kb(3),c.yc("ngForOf",t.types),c.Kb(1),c.yc("ngModel",t.year),c.Kb(3),c.yc("ngForOf",t.years),c.Kb(1),c.yc("ngModel",t.zone),c.Kb(3),c.yc("ngForOf",t.zones),c.Kb(1),c.yc("href",t.url,c.Kc))},directives:[i.y,i.x,i.p,i.s,i.t,i.A,r.o,r.p],pipes:[r.A],styles:[""]}),e})()},{path:"hajj-allocations-exports",canActivate:[cs.a],component:Bl},{path:"pilgrims-exports",canActivate:[cs.a],component:Yl},{path:"",redirectTo:"dashboard",pathMatch:"full"}];let Ul=(()=>{class e{}return e.\u0275mod=c.Vb({type:e}),e.\u0275inj=c.Ub({factory:function(t){return new(t||e)},imports:[[r.c,wt.f.forChild($l)]]}),e})();var Gl=n("hctd"),Xl=n("q4JE");let Jl=(()=>{class e{}return e.\u0275mod=c.Vb({type:e}),e.\u0275inj=c.Ub({factory:function(t){return new(t||e)},imports:[[r.c,Ul,o.a,a.e,i.j,i.w,Gl.a,Xl.a,St]]}),e})()},"Ju5/":function(e,t,n){"use strict";var i=n("XqMk"),r="object"==typeof self&&self&&self.Object===Object&&self,o=i.a||r||Function("return this")();t.a=o},L3Qv:function(e,t,n){"use strict";t.a=function(){return!1}},"MO+k":function(e,t,n){e.exports=function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(e,n){return function(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[t[i]]=i);var r=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var o in r)if(r.hasOwnProperty(o)){if(!("channels"in r[o]))throw new Error("missing channels property: "+o);if(!("labels"in r[o]))throw new Error("missing channel labels property: "+o);if(r[o].labels.length!==r[o].channels)throw new Error("channel and label counts mismatch: "+o);var a=r[o].channels,c=r[o].labels;delete r[o].channels,delete r[o].labels,Object.defineProperty(r[o],"channels",{value:a}),Object.defineProperty(r[o],"labels",{value:c})}r.rgb.hsl=function(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),c=Math.max(i,r,o),s=c-a;return c===a?t=0:i===c?t=(r-o)/s:r===c?t=2+(o-i)/s:o===c&&(t=4+(i-r)/s),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+c)/2,[t,100*(c===a?0:n<=.5?s/(c+a):s/(2-c-a)),100*n]},r.rgb.hsv=function(e){var t,n,i,r,o,a=e[0]/255,c=e[1]/255,s=e[2]/255,l=Math.max(a,c,s),d=l-Math.min(a,c,s),u=function(e){return(l-e)/6/d+.5};return 0===d?r=o=0:(o=d/l,t=u(a),n=u(c),i=u(s),a===l?r=i-n:c===l?r=1/3+t-i:s===l&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*l]},r.rgb.hwb=function(e){var t=e[0],n=e[1],i=e[2];return[r.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(n,i))*100,100*(i=1-1/255*Math.max(t,Math.max(n,i)))]},r.rgb.cmyk=function(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-r)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]},r.rgb.keyword=function(e){var i=n[e];if(i)return i;var r,o,a,c=1/0;for(var s in t)if(t.hasOwnProperty(s)){var l=(o=e,a=t[s],Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)+Math.pow(o[2]-a[2],2));l<c&&(c=l,r=s)}return r},r.keyword.rgb=function(e){return t[e]},r.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]},r.rgb.lab=function(e){var t=r.rgb.xyz(e),n=t[0],i=t[1],o=t[2];return i/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},r.hsl.rgb=function(e){var t,n,i,r,o,a=e[0]/360,c=e[1]/100,s=e[2]/100;if(0===c)return[o=255*s,o,o];t=2*s-(n=s<.5?s*(1+c):s+c-s*c),r=[0,0,0];for(var l=0;l<3;l++)(i=a+1/3*-(l-1))<0&&i++,i>1&&i--,r[l]=255*(o=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t);return r},r.hsl.hsv=function(e){var t=e[0],n=e[1]/100,i=e[2]/100,r=n,o=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=o<=1?o:2-o,[t,100*(0===i?2*r/(o+r):2*n/(i+n)),(i+n)/2*100]},r.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),a=255*i*(1-n),c=255*i*(1-n*o),s=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,s,a];case 1:return[c,i,a];case 2:return[a,i,s];case 3:return[a,c,i];case 4:return[s,a,i];case 5:return[i,a,c]}},r.hsv.hsl=function(e){var t,n,i,r=e[0],o=e[1]/100,a=e[2]/100,c=Math.max(a,.01);return i=(2-o)*a,n=o*c,[r,100*(n=(n/=(t=(2-o)*c)<=1?t:2-t)||0),100*(i/=2)]},r.hwb.rgb=function(e){var t,n,i,r,o,a,c,s=e[0]/360,l=e[1]/100,d=e[2]/100,u=l+d;switch(u>1&&(l/=u,d/=u),i=6*s-(t=Math.floor(6*s)),0!=(1&t)&&(i=1-i),r=l+i*((n=1-d)-l),t){default:case 6:case 0:o=n,a=r,c=l;break;case 1:o=r,a=n,c=l;break;case 2:o=l,a=n,c=r;break;case 3:o=l,a=r,c=n;break;case 4:o=r,a=l,c=n;break;case 5:o=n,a=l,c=r}return[255*o,255*a,255*c]},r.cmyk.rgb=function(e){var t=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,e[0]/100*(1-i)+i)),255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},r.xyz.rgb=function(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,t=(t=3.2406*r+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},r.xyz.lab=function(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},r.lab.xyz=function(e){var t,n,i;t=e[1]/500+(n=(e[0]+16)/116),i=n-e[2]/200;var r=Math.pow(n,3),o=Math.pow(t,3),a=Math.pow(i,3);return n=r>.008856?r:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,i=a>.008856?a:(i-16/116)/7.787,[t*=95.047,n*=100,i*=108.883]},r.lab.lch=function(e){var t,n=e[0],i=e[1],r=e[2];return(t=360*Math.atan2(r,i)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(i*i+r*r),t]},r.lch.lab=function(e){var t,n=e[1];return t=e[2]/360*2*Math.PI,[e[0],n*Math.cos(t),n*Math.sin(t)]},r.rgb.ansi16=function(e){var t=e[0],n=e[1],i=e[2],o=1 in arguments?arguments[1]:r.rgb.hsv(e)[2];if(0===(o=Math.round(o/50)))return 30;var a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===o&&(a+=60),a},r.hsv.ansi16=function(e){return r.rgb.ansi16(r.hsv.rgb(e),e[2])},r.rgb.ansi256=function(e){var t=e[0],n=e[1],i=e[2];return t===n&&n===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},r.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},r.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},r.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},r.rgb.hcg=function(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255,o=Math.max(Math.max(n,i),r),a=Math.min(Math.min(n,i),r),c=o-a;return t=c<=0?0:o===n?(i-r)/c%6:o===i?2+(r-n)/c:4+(n-i)/c+4,t/=6,[360*(t%=1),100*c,100*(c<1?a/(1-c):0)]},r.hsl.hcg=function(e){var t,n=e[1]/100,i=e[2]/100,r=0;return(t=i<.5?2*n*i:2*n*(1-i))<1&&(r=(i-.5*t)/(1-t)),[e[0],100*t,100*r]},r.hsv.hcg=function(e){var t=e[2]/100,n=e[1]/100*t,i=0;return n<1&&(i=(t-n)/(1-n)),[e[0],100*n,100*i]},r.hcg.rgb=function(e){var t=e[1]/100,n=e[2]/100;if(0===t)return[255*n,255*n,255*n];var i,r=[0,0,0],o=e[0]/360%1*6,a=o%1,c=1-a;switch(Math.floor(o)){case 0:r[0]=1,r[1]=a,r[2]=0;break;case 1:r[0]=c,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=a;break;case 3:r[0]=0,r[1]=c,r[2]=1;break;case 4:r[0]=a,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=c}return[255*(t*r[0]+(i=(1-t)*n)),255*(t*r[1]+i),255*(t*r[2]+i)]},r.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),i=0;return n>0&&(i=t/n),[e[0],100*i,100*n]},r.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],100*i,100*n]},r.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},r.hwb.hcg=function(e){var t=1-e[2]/100,n=t-e[1]/100,i=0;return n<1&&(i=(t-n)/(1-n)),[e[0],100*n,100*i]},r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},r.gray.hsl=r.gray.hsv=function(e){return[0,0,e[0]]},r.gray.hwb=function(e){return[0,100,e[0]]},r.gray.cmyk=function(e){return[0,0,0,e[0]]},r.gray.lab=function(e){return[e[0],0,0]},r.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}(n={exports:{}}),n.exports}();function i(e,t){return function(n){return t(e(n))}}function r(e,t){for(var r=[t[e].parent,e],o=n[t[e].parent][e],a=t[e].parent;t[a].parent;)r.unshift(t[a].parent),o=i(n[t[a].parent][a],o),a=t[a].parent;return o.conversion=r,o}var o={};Object.keys(n).forEach(function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=function(e){for(var t=function(e){var t=function(){for(var e={},t=Object.keys(n),i=t.length,r=0;r<i;r++)e[t[r]]={distance:-1,parent:null};return e}(),i=[e];for(t[e].distance=0;i.length;)for(var r=i.pop(),o=Object.keys(n[r]),a=o.length,c=0;c<a;c++){var s=o[c],l=t[s];-1===l.distance&&(l.distance=t[r].distance+1,l.parent=r,i.unshift(s))}return t}(e),i={},o=Object.keys(t),a=o.length,c=0;c<a;c++){var s=o[c];null!==t[s].parent&&(i[s]=r(s,t))}return i}(e);Object.keys(t).forEach(function(n){var i=t[n];o[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(i),o[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(i)})});var a=o,c={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},s={getRgba:l,getHsla:d,getRgb:function(e){var t=l(e);return t&&t.slice(0,3)},getHsl:function(e){var t=d(e);return t&&t.slice(0,3)},getHwb:u,getAlpha:function(e){var t=l(e);return t||(t=d(e))||(t=u(e))?t[3]:void 0},hexString:function(e,t){return t=void 0!==t&&3===e.length?t:e[3],"#"+m(e[0])+m(e[1])+m(e[2])+(t>=0&&t<1?m(Math.round(255*t)):"")},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?h(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:h,percentString:function(e,t){return t<1||e[3]&&e[3]<1?f(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:f,hslString:function(e,t){return t<1||e[3]&&e[3]<1?p(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:p,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return b[e.slice(0,3)]}};function l(e){if(e){var t=[0,0,0],n=1,i=e.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var o=0;o<t.length;o++)t[o]=parseInt(i[o]+i[o],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=i[2],i=i[1],o=0;o<t.length;o++)t[o]=parseInt(i.slice(2*o,2*o+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=parseInt(i[o+1]);n=parseFloat(i[4])}else if(i=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=Math.round(2.55*parseFloat(i[o+1]));n=parseFloat(i[4])}else if(i=e.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(t=c[i[1]]))return}for(o=0;o<t.length;o++)t[o]=g(t[o],0,255);return n=n||0==n?g(n,0,1):1,t[3]=n,t}}function d(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[g(parseInt(t[1]),0,360),g(parseFloat(t[2]),0,100),g(parseFloat(t[3]),0,100),g(isNaN(n)?1:n,0,1)]}}}function u(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[g(parseInt(t[1]),0,360),g(parseFloat(t[2]),0,100),g(parseFloat(t[3]),0,100),g(isNaN(n)?1:n,0,1)]}}}function h(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function f(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function p(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function g(e,t,n){return Math.min(Math.max(t,e),n)}function m(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var b={};for(var v in c)b[c[v]]=v;var y=function(e){return e instanceof y?e:this instanceof y?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=s.getRgba(e))?this.setValues("rgb",t):(t=s.getHsla(e))?this.setValues("hsl",t):(t=s.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new y(e);var t};y.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return s.hexString(this.values.rgb)},rgbString:function(){return s.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return s.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return s.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return s.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return s.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return s.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return s.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,i=e,r=void 0===t?.5:t,o=2*r-1,a=n.alpha()-i.alpha(),c=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,s=1-c;return this.rgb(c*n.red()+s*i.red(),c*n.green()+s*i.green(),c*n.blue()+s*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new y,i=this.values,r=n.values;for(var o in i)i.hasOwnProperty(o)&&("[object Array]"===(t={}.toString.call(e=i[o]))?r[o]=e.slice(0):"[object Number]"===t?r[o]=e:console.error("unexpected color value:",e));return n}},y.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},y.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},y.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},y.prototype.setValues=function(e,t){var n,i,r=this.values,o=this.spaces,c=this.maxes,s=1;if(this.valid=!0,"alpha"===e)s=t;else if(t.length)r[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[o[e][0]]){var l=o[e];for(n=0;n<e.length;n++)r[e][n]=t[l[n]];s=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===e)return!1;for(n=0;n<e.length;n++)i=Math.max(0,Math.min(c[e][n],r[e][n])),r[e][n]=Math.round(i);for(var d in o)d!==e&&(r[d]=a[e][d](r[e]));return!0},y.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},y.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:(n===i[t]||(i[t]=n,this.setValues(e,i)),this)},"undefined"!=typeof window&&(window.Color=y);var x=y;function P(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}var S,w={noop:function(){},uid:(S=0,function(){return S++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return w.valueOrDefault(w.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,i){var r,o,a;if(w.isArray(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(w.isObject(e))for(o=(a=Object.keys(e)).length,r=0;r<o;r++)t.call(n,e[a[r]],a[r])},arrayEquals:function(e,t){var n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(o=t[n],(r=e[n])instanceof Array&&o instanceof Array){if(!w.arrayEquals(r,o))return!1}else if(r!==o)return!1;return!0},clone:function(e){if(w.isArray(e))return e.map(w.clone);if(w.isObject(e)){for(var t=Object.create(e),n=Object.keys(e),i=n.length,r=0;r<i;++r)t[n[r]]=w.clone(e[n[r]]);return t}return e},_merger:function(e,t,n,i){if(P(e)){var r=t[e],o=n[e];w.isObject(r)&&w.isObject(o)?w.merge(r,o,i):t[e]=w.clone(o)}},_mergerIf:function(e,t,n){if(P(e)){var i=t[e],r=n[e];w.isObject(i)&&w.isObject(r)?w.mergeIf(i,r):t.hasOwnProperty(e)||(t[e]=w.clone(r))}},merge:function(e,t,n){var i,r,o,a,c,s=w.isArray(t)?t:[t],l=s.length;if(!w.isObject(e))return e;for(i=(n=n||{}).merger||w._merger,r=0;r<l;++r)if(w.isObject(t=s[r]))for(c=0,a=(o=Object.keys(t)).length;c<a;++c)i(o[c],e,t,n);return e},mergeIf:function(e,t){return w.merge(e,t,{merger:w._mergerIf})},extend:Object.assign||function(e){return w.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=w.inherits,e&&w.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,i){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+i+'" instead')}},R=w;w.callCallback=w.callback,w.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},w.getValueOrDefault=w.valueOrDefault,w.getValueAtIndexOrDefault=w.valueAtIndexOrDefault;var k={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-k.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*k.easeInBounce(2*e):.5*k.easeOutBounce(2*e-1)+.5}},I={effects:k};R.easingEffects=k;var O=Math.PI,_=O/180,D=2*O,C=O/2,K=O/4,A=2*O/3,M={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,i,r,o){if(o){var a=Math.min(o,r/2,i/2),c=t+a,s=n+a,l=t+i-a,d=n+r-a;e.moveTo(t,s),c<l&&s<d?(e.arc(c,s,a,-O,-C),e.arc(l,s,a,-C,0),e.arc(l,d,a,0,C),e.arc(c,d,a,C,O)):c<l?(e.moveTo(c,n),e.arc(l,s,a,-C,C),e.arc(c,s,a,C,O+C)):s<d?(e.arc(c,s,a,-O,0),e.arc(c,d,a,0,O)):e.arc(c,s,a,-O,O),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)},drawPoint:function(e,t,n,i,r,o){var a,c,s,l,d,u=(o||0)*_;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(a=t.toString())||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(i,r),e.rotate(u),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(i,r,n,0,D),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(u)*n,r-Math.cos(u)*n),u+=A,e.lineTo(i+Math.sin(u)*n,r-Math.cos(u)*n),u+=A,e.lineTo(i+Math.sin(u)*n,r-Math.cos(u)*n),e.closePath();break;case"rectRounded":l=n-(d=.516*n),c=Math.cos(u+K)*l,s=Math.sin(u+K)*l,e.arc(i-c,r-s,d,u-O,u-C),e.arc(i+s,r-c,d,u-C,u),e.arc(i+c,r+s,d,u,u+C),e.arc(i-s,r+c,d,u+C,u+O),e.closePath();break;case"rect":if(!o){l=Math.SQRT1_2*n,e.rect(i-l,r-l,2*l,2*l);break}u+=K;case"rectRot":c=Math.cos(u)*n,s=Math.sin(u)*n,e.moveTo(i-c,r-s),e.lineTo(i+s,r-c),e.lineTo(i+c,r+s),e.lineTo(i-s,r+c),e.closePath();break;case"crossRot":u+=K;case"cross":c=Math.cos(u)*n,s=Math.sin(u)*n,e.moveTo(i-c,r-s),e.lineTo(i+c,r+s),e.moveTo(i+s,r-c),e.lineTo(i-s,r+c);break;case"star":c=Math.cos(u)*n,s=Math.sin(u)*n,e.moveTo(i-c,r-s),e.lineTo(i+c,r+s),e.moveTo(i+s,r-c),e.lineTo(i-s,r+c),u+=K,c=Math.cos(u)*n,s=Math.sin(u)*n,e.moveTo(i-c,r-s),e.lineTo(i+c,r+s),e.moveTo(i+s,r-c),e.lineTo(i-s,r+c);break;case"line":c=Math.cos(u)*n,s=Math.sin(u)*n,e.moveTo(i-c,r-s),e.lineTo(i+c,r+s);break;case"dash":e.moveTo(i,r),e.lineTo(i+Math.cos(u)*n,r+Math.sin(u)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){var n=1e-6;return e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,i){var r=n.steppedLine;if(r){if("middle"===r){var o=(t.x+n.x)/2;e.lineTo(o,i?n.y:t.y),e.lineTo(o,i?t.y:n.y)}else"after"===r&&!i||"after"!==r&&i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(i?t.controlPointPreviousX:t.controlPointNextX,i?t.controlPointPreviousY:t.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},T=M;R.clear=M.clear,R.drawRoundedRectangle=function(e){e.beginPath(),M.roundedRect.apply(M,arguments)};var F={_set:function(e,t){return R.merge(this[e]||(this[e]={}),t)}};F._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var N=F,L=R.valueOrDefault,z={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,r;return R.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,r=+e.left||0):t=n=i=r=+e||0,{top:t,right:n,bottom:i,left:r,height:t+i,width:r+n}},_parseFont:function(e){var t=N.global,n=L(e.fontSize,t.defaultFontSize),i={family:L(e.fontFamily,t.defaultFontFamily),lineHeight:R.options.toLineHeight(L(e.lineHeight,t.defaultLineHeight),n),size:n,style:L(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return i.string=function(e){return!e||R.isNullOrUndef(e.size)||R.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i},resolve:function(e,t,n,i){var r,o,a,c=!0;for(r=0,o=e.length;r<o;++r)if(void 0!==(a=e[r])&&(void 0!==t&&"function"==typeof a&&(a=a(t),c=!1),void 0!==n&&R.isArray(a)&&(a=a[n],c=!1),void 0!==a))return i&&!c&&(i.cacheable=!1),a}},j={_factorize:function(e){var t,n=[],i=Math.sqrt(e);for(t=1;t<i;t++)e%t==0&&(n.push(t),n.push(e/t));return i===(0|i)&&n.push(i),n.sort(function(e,t){return e-t}).pop(),n},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},E=j;R.log10=j.log10;var B=R,Y=T,H=z,V=E;B.easing=I,B.canvas=Y,B.options=H,B.math=V,B.rtl={getRtlAdapter:function(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},overrideTextDirection:function(e,t){var n,i;"ltr"!==t&&"rtl"!==t||(i=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};var q=function(e){B.extend(this,e),this.initialize.apply(this,arguments)};B.extend(q.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=B.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,i=t._start,r=t._view;return n&&1!==e?(r||(r=t._view={}),i||(i=t._start={}),function(e,t,n,i){var r,o,a,c,s,l,d,u,h,f=Object.keys(n);for(r=0,o=f.length;r<o;++r)if(l=n[a=f[r]],t.hasOwnProperty(a)||(t[a]=l),(c=t[a])!==l&&"_"!==a[0]){if(e.hasOwnProperty(a)||(e[a]=c),(d=typeof l)==typeof(s=e[a]))if("string"===d){if((u=x(s)).valid&&(h=x(l)).valid){t[a]=h.mix(u,i).rgbString();continue}}else if(B.isFinite(s)&&B.isFinite(l)){t[a]=s+(l-s)*i;continue}t[a]=l}}(i,r,n,e),t):(t._view=B.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return B.isNumber(this._model.x)&&B.isNumber(this._model.y)}}),q.extend=B.inherits;var W=q,$=W.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),U=$;Object.defineProperty($.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty($.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),N._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:B.noop,onComplete:B.noop}});var G={animations:[],request:null,addAnimation:function(e,t,n,i){var r,o,a=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,i||(e.animating=!0),r=0,o=a.length;r<o;++r)if(a[r].chart===e)return void(a[r]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=B.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=B.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this;e.advance(),e.animations.length>0&&e.requestAnimationFrame()},advance:function(){for(var e,t,n,i,r=this.animations,o=0;o<r.length;)t=(e=r[o]).chart,n=e.numSteps,i=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(i,n),B.callback(e.render,[t,e],t),B.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(B.callback(e.onAnimationComplete,[e],t),t.animating=!1,r.splice(o,1)):++o}},X=B.options.resolve,J=["push","pop","shift","splice","unshift"];function Z(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(J.forEach(function(t){delete e[t]}),delete e._chartjs)}}var Q=function(e,t){this.initialize(e,t)};B.extend(Q.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.chart,i=n.scales,r=e.getDataset(),o=n.options.scales;null!==t.xAxisID&&t.xAxisID in i&&!r.xAxisID||(t.xAxisID=r.xAxisID||o.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in i&&!r.yAxisID||(t.yAxisID=r.yAxisID||o.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Z(this._data,this)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,i=n.getMeta(),r=n.getDataset().data||[],o=i.data;for(e=0,t=r.length;e<t;++e)o[e]=o[e]||n.createMetaData(e);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e,t,n=this,i=n.getDataset(),r=i.data||(i.data=[]);n._data!==r&&(n._data&&Z(n._data,n),r&&Object.isExtensible(r)&&(t=n,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),J.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),r=i.apply(this,t);return B.each(e._chartjs.listeners,function(e){"function"==typeof e[n]&&e[n].apply(e,t)}),r}})}))),n._data=r),n.resyncElements()},_configure:function(){var e=this;e._config=B.merge(Object.create(null),[e.chart.options.datasets[e._type],e.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&B._merger(e,t,n)}})},_update:function(e){var t=this;t._configure(),t._cachedDataOpts=null,t.update(e)},update:B.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],i=n.length,r=0;r<i;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,i=0;for(e.dataset&&e.dataset.draw();i<n;++i)t[i].draw()},getStyle:function(e){var t,n=this,i=n.getMeta(),r=i.dataset;return n._configure(),!1!==(t=r&&void 0===e?n._resolveDatasetElementOptions(r||{}):n._resolveDataElementOptions(i.data[e=e||0]||{},e)).fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(e,t){var n,i,r,o,a=this,c=a.chart,s=a._config,l=e.custom||{},d=c.options.elements[a.datasetElementType.prototype._type]||{},u=a._datasetElementOptions,h={},f={chart:c,dataset:a.getDataset(),datasetIndex:a.index,hover:t};for(n=0,i=u.length;n<i;++n)r=u[n],o=t?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,h[r]=X([l[o],s[o],d[o]],f);return h},_resolveDataElementOptions:function(e,t){var n=this,i=e&&e.custom,r=n._cachedDataOpts;if(r&&!i)return r;var o,a,c,s,l=n.chart,d=n._config,u=l.options.elements[n.dataElementType.prototype._type]||{},h=n._dataElementOptions,f={},p={chart:l,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},g={cacheable:!i};if(i=i||{},B.isArray(h))for(a=0,c=h.length;a<c;++a)f[s=h[a]]=X([i[s],d[s],u[s]],p,t,g);else for(a=0,c=(o=Object.keys(h)).length;a<c;++a)f[s=o[a]]=X([i[s],d[h[s]],d[s],u[s]],p,t,g);return g.cacheable&&(n._cachedDataOpts=Object.freeze(f)),f},removeHoverStyle:function(e){B.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},r=e._model,o=B.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=X([i.hoverBackgroundColor,t.hoverBackgroundColor,o(r.backgroundColor)],void 0,n),r.borderColor=X([i.hoverBorderColor,t.hoverBorderColor,o(r.borderColor)],void 0,n),r.borderWidth=X([i.hoverBorderWidth,t.hoverBorderWidth,r.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,i,r,o,a=this.getMeta().dataset,c={};if(a){for(o=a._model,r=this._resolveDatasetElementOptions(a,!0),e=0,t=(i=Object.keys(r)).length;e<t;++e)c[n=i[e]]=o[n],o[n]=r[n];a.$previousStyle=c}},resyncElements:function(){var e=this,t=e.getMeta(),n=e.getDataset().data,i=t.data.length,r=n.length;r<i?t.data.splice(r,i-r):r>i&&e.insertElements(i,r-i)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Q.extend=B.inherits;var ee=Q,te=2*Math.PI;function ne(e,t){var n=t.startAngle,i=t.endAngle,r=t.pixelMargin,o=r/t.outerRadius,a=t.x,c=t.y;e.beginPath(),e.arc(a,c,t.outerRadius,n-o,i+o),t.innerRadius>r?e.arc(a,c,t.innerRadius-r,i+(o=r/t.innerRadius),n-o,!0):e.arc(a,c,r,i+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}N._set("global",{elements:{arc:{backgroundColor:N.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var ie=W.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var i=B.getAngleFromPoint(n,{x:e,y:t}),r=i.angle,o=i.distance,a=n.startAngle,c=n.endAngle;c<a;)c+=te;for(;r>c;)r-=te;for(;r<a;)r+=te;return r>=a&&r<=c&&o>=n.innerRadius&&o<=n.outerRadius}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,r={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/te)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+te,t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),e=0;e<r.fullCircles;++e)t.fill();r.endAngle=r.startAngle+n.circumference%te}t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&function(e,t,n){var i="inner"===t.borderAlign;i?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&function(e,t,n,i){var r,o=n.endAngle;for(i&&(n.endAngle=n.startAngle+te,ne(e,n),n.endAngle=o,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=te,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+te,n.startAngle,!0),r=0;r<n.fullCircles;++r)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+te),r=0;r<n.fullCircles;++r)e.stroke()}(e,t,n,i),i&&ne(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}(t,n,r),t.restore()}}),re=B.valueOrDefault,oe=N.global.defaultColor;N._set("global",{elements:{line:{tension:.4,backgroundColor:oe,borderWidth:3,borderColor:oe,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var ae=W.extend({_type:"line",draw:function(){var e,t,n,i=this,r=i._view,o=i._chart.ctx,a=r.spanGaps,c=i._children.slice(),s=N.global,l=s.elements.line,d=-1,u=i._loop;if(c.length){if(i._loop){for(e=0;e<c.length;++e)if(t=B.previousItem(c,e),!c[e]._view.skip&&t._view.skip){c=c.slice(e).concat(c.slice(0,e)),u=a;break}u&&c.push(c[0])}for(o.save(),o.lineCap=r.borderCapStyle||l.borderCapStyle,o.setLineDash&&o.setLineDash(r.borderDash||l.borderDash),o.lineDashOffset=re(r.borderDashOffset,l.borderDashOffset),o.lineJoin=r.borderJoinStyle||l.borderJoinStyle,o.lineWidth=re(r.borderWidth,l.borderWidth),o.strokeStyle=r.borderColor||s.defaultColor,o.beginPath(),(n=c[0]._view).skip||(o.moveTo(n.x,n.y),d=0),e=1;e<c.length;++e)n=c[e]._view,t=-1===d?B.previousItem(c,e):c[d],n.skip||(d!==e-1&&!a||-1===d?o.moveTo(n.x,n.y):B.canvas.lineTo(o,t._view,n),d=e);u&&o.closePath(),o.stroke(),o.restore()}}}),ce=B.valueOrDefault,se=N.global.defaultColor;function le(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}N._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:se,borderColor:se,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var de=W.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:le,inXRange:le,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,i=t.pointStyle,r=t.rotation,o=t.radius,a=t.x,c=t.y,s=N.global,l=s.defaultColor;t.skip||(void 0===e||B.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||l,n.lineWidth=ce(t.borderWidth,s.elements.point.borderWidth),n.fillStyle=t.backgroundColor||l,B.canvas.drawPoint(n,i,o,a,c,r))}}),ue=N.global.defaultColor;function he(e){return e&&void 0!==e.width}function fe(e){var t,n,i,r,o;return he(e)?(t=e.x-(o=e.width/2),n=e.x+o,i=Math.min(e.y,e.base),r=Math.max(e.y,e.base)):(o=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),i=e.y-o,r=e.y+o),{left:t,top:i,right:n,bottom:r}}function pe(e,t,n){return e===t?n:e===n?t:e}function ge(e,t,n){var i=null===t,r=null===n,o=!(!e||i&&r)&&fe(e);return o&&(i||t>=o.left&&t<=o.right)&&(r||n>=o.top&&n<=o.bottom)}N._set("global",{elements:{rectangle:{backgroundColor:ue,borderColor:ue,borderSkipped:"bottom",borderWidth:0}}});var me=W.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=function(e){var t=fe(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){var i,r,o,a,c=e.borderWidth,s=function(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=pe(t,"left","right")):e.base<e.y&&(t=pe(t,"bottom","top")),n[t]=!0,n):n}(e);return B.isObject(c)?(i=+c.top||0,r=+c.right||0,o=+c.bottom||0,a=+c.left||0):i=r=o=a=+c||0,{t:s.top||i<0?0:i>n?n:i,r:s.right||r<0?0:r>t?t:r,b:s.bottom||o<0?0:o>n?n:o,l:s.left||a<0?0:a>t?t:a}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}}(t),i=n.outer,r=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(i.x,i.y,i.w,i.h),i.w===r.w&&i.h===r.h||(e.save(),e.beginPath(),e.rect(i.x,i.y,i.w,i.h),e.clip(),e.fillStyle=t.borderColor,e.rect(r.x,r.y,r.w,r.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return ge(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return he(n)?ge(n,e,null):ge(n,null,t)},inXRange:function(e){return ge(this._view,e,null)},inYRange:function(e){return ge(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return he(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return he(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),be={},ve=ae,ye=de,xe=me;be.Arc=ie,be.Line=ve,be.Point=ye,be.Rectangle=xe;var Pe=B._deprecated,Se=B.valueOrDefault;N._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),N._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var we=ee.extend({dataElementType:be.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t,n=this;ee.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0,t=n._getIndexScale().options,Pe("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Pe("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Pe("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Pe("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Pe("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,i=this,r=i.getMeta().data;for(i._ruler=i.getRuler(),t=0,n=r.length;t<n;++t)i.updateElement(r[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.getMeta(),o=i.getDataset(),a=i._resolveDataElementOptions(e,t);e._xScale=i.getScaleForId(r.xAxisID),e._yScale=i.getScaleForId(r.yAxisID),e._datasetIndex=i.index,e._index=t,e._model={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderSkipped:a.borderSkipped,borderWidth:a.borderWidth,datasetLabel:o.label,label:i.chart.data.labels[t]},B.isArray(o.data[t])&&(e._model.borderSkipped=null),i._updateElementGeometry(e,t,n,a),e.pivot()},_updateElementGeometry:function(e,t,n,i){var r=this,o=e._model,a=r._getValueScale(),c=a.getBasePixel(),s=a.isHorizontal(),l=r._ruler||r.getRuler(),d=r.calculateBarValuePixels(r.index,t,i),u=r.calculateBarIndexPixels(r.index,t,l,i);o.horizontal=s,o.base=n?c:d.base,o.x=s?n?c:d.head:u.center,o.y=s?u.center:n?c:d.head,o.height=s?u.size:void 0,o.width=s?void 0:u.size},_getStacks:function(e){var t,n,i=this._getIndexScale(),r=i._getMatchingVisibleMetas(this._type),o=i.options.stacked,a=r.length,c=[];for(t=0;t<a&&(n=r[t],(!1===o||-1===c.indexOf(n.stack)||void 0===o&&void 0===n.stack)&&c.push(n.stack),n.index!==e);++t);return c},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),i=void 0!==t?n.indexOf(t):-1;return-1===i?n.length-1:i},getRuler:function(){var e,t,n=this,i=n._getIndexScale(),r=[];for(e=0,t=n.getMeta().data.length;e<t;++e)r.push(i.getPixelForValue(null,e,n.index));return{pixels:r,start:i._startPixel,end:i._endPixel,stackCount:n.getStackCount(),scale:i}},calculateBarValuePixels:function(e,t,n){var i,r,o,a,c,s,l,d=this,u=d.chart,h=d._getValueScale(),f=h.isHorizontal(),p=u.data.datasets,g=h._getMatchingVisibleMetas(d._type),m=h._parseValue(p[e].data[t]),b=n.minBarLength,v=h.options.stacked,y=d.getMeta().stack,x=void 0===m.start?0:m.max>=0&&m.min>=0?m.min:m.max,P=void 0===m.start?m.end:m.max>=0&&m.min>=0?m.max-m.min:m.min-m.max,S=g.length;if(v||void 0===v&&void 0!==y)for(i=0;i<S&&(r=g[i]).index!==e;++i)r.stack===y&&(o=void 0===(l=h._parseValue(p[r.index].data[t])).start?l.end:l.min>=0&&l.max>=0?l.max:l.min,(m.min<0&&o<0||m.max>=0&&o>0)&&(x+=o));return a=h.getPixelForValue(x),s=(c=h.getPixelForValue(x+P))-a,void 0!==b&&Math.abs(s)<b&&(s=b,c=P>=0&&!f||P<0&&f?a-b:a+b),{size:s,base:a,head:c,center:c+s/2}},calculateBarIndexPixels:function(e,t,n,i){var r="flex"===i.barThickness?function(e,t,n){var i,r=t.pixels,o=r[e],a=e>0?r[e-1]:null,c=e<r.length-1?r[e+1]:null,s=n.categoryPercentage;return null===a&&(a=o-(null===c?t.end-t.start:c-o)),null===c&&(c=o+o-a),i=o-(o-Math.min(a,c))/2*s,{chunk:Math.abs(c-a)/2*s/t.stackCount,ratio:n.barPercentage,start:i}}(t,n,i):function(e,t,n){var i,r,o=n.barThickness,a=t.stackCount,c=t.pixels[e],s=B.isNullOrUndef(o)?function(e,t){var n,i,r,o,a=e._length;for(r=1,o=t.length;r<o;++r)a=Math.min(a,Math.abs(t[r]-t[r-1]));for(r=0,o=e.getTicks().length;r<o;++r)i=e.getPixelForTick(r),a=r>0?Math.min(a,Math.abs(i-n)):a,n=i;return a}(t.scale,t.pixels):-1;return B.isNullOrUndef(o)?(i=s*n.categoryPercentage,r=n.barPercentage):(i=o*a,r=1),{chunk:i/a,ratio:r,start:c-i/2}}(t,n,i),o=this.getStackIndex(e,this.getMeta().stack),a=r.start+r.chunk*o+r.chunk/2,c=Math.min(Se(i.maxBarThickness,1/0),r.chunk*r.ratio);return{base:a-c/2,head:a+c/2,center:a,size:c}},draw:function(){var e=this,t=e.chart,n=e._getValueScale(),i=e.getMeta().data,r=e.getDataset(),o=i.length,a=0;for(B.canvas.clipArea(t.ctx,t.chartArea);a<o;++a){var c=n._parseValue(r.data[a]);isNaN(c.min)||isNaN(c.max)||i[a].draw()}B.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var e=this,t=B.extend({},ee.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,i=e._getValueScale().options;return t.barPercentage=Se(n.barPercentage,t.barPercentage),t.barThickness=Se(n.barThickness,t.barThickness),t.categoryPercentage=Se(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=Se(n.maxBarThickness,t.maxBarThickness),t.minBarLength=Se(i.minBarLength,t.minBarLength),t}}),Re=B.valueOrDefault,ke=B.options.resolve;N._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": ("+e.xLabel+", "+e.yLabel+", "+t.datasets[e.datasetIndex].data[e.index].r+")"}}}});var Ie=ee.extend({dataElementType:be.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta();B.each(n.data,function(n,i){t.updateElement(n,i,e)})},updateElement:function(e,t,n){var i=this,r=i.getMeta(),o=e.custom||{},a=i.getScaleForId(r.xAxisID),c=i.getScaleForId(r.yAxisID),s=i._resolveDataElementOptions(e,t),l=i.getDataset().data[t],d=i.index,u=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof l?l:NaN,t,d),h=n?c.getBasePixel():c.getPixelForValue(l,t,d);e._xScale=a,e._yScale=c,e._options=s,e._datasetIndex=d,e._index=t,e._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,rotation:s.rotation,radius:n?0:s.radius,skip:o.skip||isNaN(u)||isNaN(h),x:u,y:h},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,i=B.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Re(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Re(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Re(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,i=n.chart,r=n.getDataset(),o=e.custom||{},a=r.data[t]||{},c=ee.prototype._resolveDataElementOptions.apply(n,arguments),s={chart:i,dataIndex:t,dataset:r,datasetIndex:n.index};return n._cachedDataOpts===c&&(c=B.extend({},c)),c.radius=ke([o.radius,a.r,n._config.radius,i.options.elements.point.radius],s,t),c}}),Oe=B.valueOrDefault,_e=Math.PI,De=2*_e,Ce=_e/2;N._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,i,r=document.createElement("ul"),o=e.data,a=o.datasets,c=o.labels;if(r.setAttribute("class",e.id+"-legend"),a.length)for(t=0,n=a[0].data.length;t<n;++t)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[0].backgroundColor[t],c[t]&&i.appendChild(document.createTextNode(c[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,i){var r=e.getDatasetMeta(0),o=r.controller.getStyle(i);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[i])||r.data[i].hidden,index:i}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-Ce,circumference:De,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],i=": "+t.datasets[e.datasetIndex].data[e.index];return B.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Ke=ee.extend({dataElementType:be.Arc,linkScales:B.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,i=this,r=i.chart,o=r.chartArea,a=r.options,c=1,s=1,l=0,d=0,u=i.getMeta(),h=u.data,f=a.cutoutPercentage/100||0,p=a.circumference,g=i._getRingWeight(i.index);if(p<De){var m=a.rotation%De,b=(m+=m>=_e?-De:m<-_e?De:0)+p,v=Math.cos(m),y=Math.sin(m),x=Math.cos(b),P=Math.sin(b),S=m<=0&&b>=0||b>=De,w=m<=Ce&&b>=Ce||b>=De+Ce,R=m<=-Ce&&b>=-Ce||b>=_e+Ce,k=m===-_e||b>=_e?-1:Math.min(v,v*f,x,x*f),I=R?-1:Math.min(y,y*f,P,P*f),O=S?1:Math.max(v,v*f,x,x*f),_=w?1:Math.max(y,y*f,P,P*f);c=(O-k)/2,s=(_-I)/2,l=-(O+k)/2,d=-(_+I)/2}for(t=0,n=h.length;t<n;++t)h[t]._options=i._resolveDataElementOptions(h[t],t);for(r.borderWidth=i.getMaxBorderWidth(),r.outerRadius=Math.max(Math.min((o.right-o.left-r.borderWidth)/c,(o.bottom-o.top-r.borderWidth)/s)/2,0),r.innerRadius=Math.max(r.outerRadius*f,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),r.offsetX=l*r.outerRadius,r.offsetY=d*r.outerRadius,u.total=i.calculateTotal(),i.outerRadius=r.outerRadius-r.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-r.radiusLength*g,0),t=0,n=h.length;t<n;++t)i.updateElement(h[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.chart,o=r.chartArea,a=r.options,c=a.animation,s=(o.left+o.right)/2,l=(o.top+o.bottom)/2,d=a.rotation,u=a.rotation,h=i.getDataset(),f=n&&c.animateRotate||e.hidden?0:i.calculateCircumference(h.data[t])*(a.circumference/De),p=e._options||{};B.extend(e,{_datasetIndex:i.index,_index:t,_model:{backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,borderAlign:p.borderAlign,x:s+r.offsetX,y:l+r.offsetY,startAngle:d,endAngle:u,circumference:f,outerRadius:n&&c.animateScale?0:i.outerRadius,innerRadius:n&&c.animateScale?0:i.innerRadius,label:B.valueAtIndexOrDefault(h.label,t,r.data.labels[t])}});var g=e._model;n&&c.animateRotate||(g.startAngle=0===t?a.rotation:i.getMeta().data[t-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),i=0;return B.each(n.data,function(n,r){e=t.data[r],isNaN(e)||n.hidden||(i+=Math.abs(e))}),i},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?De*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,i,r,o,a,c,s,l=0,d=this.chart;if(!e)for(t=0,n=d.data.datasets.length;t<n;++t)if(d.isDatasetVisible(t)){e=(i=d.getDatasetMeta(t)).data,t!==this.index&&(o=i.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)r=e[t],o?(o._configure(),a=o._resolveDataElementOptions(r,t)):a=r._options,"inner"!==a.borderAlign&&(l=(s=a.hoverBorderWidth)>(l=(c=a.borderWidth)>l?c:l)?s:l);return l},setHoverStyle:function(e){var t=e._model,n=e._options,i=B.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=Oe(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Oe(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Oe(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(Oe(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});N._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),N._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Ae=we.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Me=B.valueOrDefault,Te=B.options.resolve,Fe=B.canvas._isPointInArea;function Ne(e,t){var n=e&&e.options.ticks||{},i=n.reverse,r=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:i?o:r,end:i?r:o}}function Le(e,t,n){var i=n/2,r=Ne(e,i),o=Ne(t,i);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function ze(e){var t,n,i,r;return B.isObject(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r}}N._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var je=ee.extend({datasetElementType:be.Line,dataElementType:be.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,i=this,r=i.getMeta(),o=r.dataset,a=r.data||[],c=i._config,s=i._showLine=Me(c.showLine,i.chart.options.showLines);for(i._xScale=i.getScaleForId(r.xAxisID),i._yScale=i.getScaleForId(r.yAxisID),s&&(void 0!==c.tension&&void 0===c.lineTension&&(c.lineTension=c.tension),o._scale=i._yScale,o._datasetIndex=i.index,o._children=a,o._model=i._resolveDatasetElementOptions(o),o.pivot()),t=0,n=a.length;t<n;++t)i.updateElement(a[t],t,e);for(s&&0!==o._model.tension&&i.updateBezierControlPoints(),t=0,n=a.length;t<n;++t)a[t].pivot()},updateElement:function(e,t,n){var i,r,o=this,a=o.getMeta(),c=e.custom||{},s=o.getDataset(),l=o.index,d=s.data[t],u=o._xScale,h=o._yScale,f=a.dataset._model,p=o._resolveDataElementOptions(e,t);i=u.getPixelForValue("object"==typeof d?d:NaN,t,l),r=n?h.getBasePixel():o.calculatePointY(d,t,l),e._xScale=u,e._yScale=h,e._options=p,e._datasetIndex=l,e._index=t,e._model={x:i,y:r,skip:c.skip||isNaN(i)||isNaN(r),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:Me(c.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:p.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,i=e.custom||{},r=t.chart.options,o=r.elements.line,a=ee.prototype._resolveDatasetElementOptions.apply(t,arguments);return a.spanGaps=Me(n.spanGaps,r.spanGaps),a.tension=Me(n.lineTension,o.tension),a.steppedLine=Te([i.steppedLine,n.steppedLine,o.stepped]),a.clip=ze(Me(n.clip,Le(t._xScale,t._yScale,a.borderWidth))),a},calculatePointY:function(e,t,n){var i,r,o,a,c,s,l=this.chart,d=this._yScale,u=0,h=0;if(d.options.stacked){for(a=+d.getRightValue(e),s=(c=l._getSortedVisibleDatasetMetas()).length,i=0;i<s&&(r=c[i]).index!==n;++i)"line"===r.type&&r.yAxisID===d.id&&((o=+d.getRightValue(l.data.datasets[r.index].data[t]))<0?h+=o||0:u+=o||0);return d.getPixelForValue(a<0?h+a:u+a)}return d.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,i,r=this.chart,o=this.getMeta(),a=o.dataset._model,c=r.chartArea,s=o.data||[];function l(e,t,n){return Math.max(Math.min(e,n),t)}if(a.spanGaps&&(s=s.filter(function(e){return!e._model.skip})),"monotone"===a.cubicInterpolationMode)B.splineCurveMonotone(s);else for(e=0,t=s.length;e<t;++e)n=s[e]._model,i=B.splineCurve(B.previousItem(s,e)._model,n,B.nextItem(s,e)._model,a.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(r.options.elements.line.capBezierPoints)for(e=0,t=s.length;e<t;++e)Fe(n=s[e]._model,c)&&(e>0&&Fe(s[e-1]._model,c)&&(n.controlPointPreviousX=l(n.controlPointPreviousX,c.left,c.right),n.controlPointPreviousY=l(n.controlPointPreviousY,c.top,c.bottom)),e<s.length-1&&Fe(s[e+1]._model,c)&&(n.controlPointNextX=l(n.controlPointNextX,c.left,c.right),n.controlPointNextY=l(n.controlPointNextY,c.top,c.bottom)))},draw:function(){var e,t=this,n=t.chart,i=t.getMeta(),r=i.data||[],o=n.chartArea,a=n.canvas,c=0,s=r.length;for(t._showLine&&(B.canvas.clipArea(n.ctx,{left:!1===(e=i.dataset._model.clip).left?0:o.left-e.left,right:!1===e.right?a.width:o.right+e.right,top:!1===e.top?0:o.top-e.top,bottom:!1===e.bottom?a.height:o.bottom+e.bottom}),i.dataset.draw(),B.canvas.unclipArea(n.ctx));c<s;++c)r[c].draw(o)},setHoverStyle:function(e){var t=e._model,n=e._options,i=B.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Me(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Me(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Me(n.hoverBorderWidth,n.borderWidth),t.radius=Me(n.hoverRadius,n.radius)}}),Ee=B.options.resolve;N._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,i,r=document.createElement("ul"),o=e.data,a=o.datasets,c=o.labels;if(r.setAttribute("class",e.id+"-legend"),a.length)for(t=0,n=a[0].data.length;t<n;++t)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[0].backgroundColor[t],c[t]&&i.appendChild(document.createTextNode(c[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,i){var r=e.getDatasetMeta(0),o=r.controller.getStyle(i);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[i])||r.data[i].hidden,index:i}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var Be=ee.extend({dataElementType:be.Arc,linkScales:B.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i,r=this,o=r.getDataset(),a=r.getMeta(),c=r.chart.options.startAngle||0,s=r._starts=[],l=r._angles=[],d=a.data;for(r._updateRadius(),a.count=r.countVisibleElements(),t=0,n=o.data.length;t<n;t++)s[t]=c,i=r._computeAngle(t),l[t]=i,c+=i;for(t=0,n=d.length;t<n;++t)d[t]._options=r._resolveDataElementOptions(d[t],t),r.updateElement(d[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(r/2,0),t.innerRadius=Math.max(i.cutoutPercentage?t.outerRadius/100*i.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var i=this,r=i.chart,o=i.getDataset(),a=r.options,c=a.animation,s=r.scale,l=r.data.labels,d=s.xCenter,u=s.yCenter,h=a.startAngle,f=e.hidden?0:s.getDistanceFromCenterForValue(o.data[t]),p=i._starts[t],g=p+(e.hidden?0:i._angles[t]),m=c.animateScale?0:s.getDistanceFromCenterForValue(o.data[t]),b=e._options||{};B.extend(e,{_datasetIndex:i.index,_index:t,_scale:s,_model:{backgroundColor:b.backgroundColor,borderColor:b.borderColor,borderWidth:b.borderWidth,borderAlign:b.borderAlign,x:d,y:u,innerRadius:0,outerRadius:n?m:f,startAngle:n&&c.animateRotate?h:p,endAngle:n&&c.animateRotate?h:g,label:B.valueAtIndexOrDefault(l,t,l[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return B.each(t.data,function(t,i){isNaN(e.data[i])||t.hidden||n++}),n},setHoverStyle:function(e){var t=e._model,n=e._options,i=B.getHoverColor,r=B.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=r(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,i=t.getDataset(),r=t.getMeta();return isNaN(i.data[e])||r.data[e].hidden?0:Ee([t.chart.options.elements.arc.angle,2*Math.PI/n],{chart:t.chart,dataIndex:e,dataset:i,datasetIndex:t.index},e)}});N._set("pie",B.clone(N.doughnut)),N._set("pie",{cutoutPercentage:0});var Ye=Ke,He=B.valueOrDefault;N._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Ve=ee.extend({datasetElementType:be.Line,dataElementType:be.Point,linkScales:B.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i=this,r=i.getMeta(),o=r.dataset,a=r.data||[],c=i.chart.scale,s=i._config;for(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),o._scale=c,o._datasetIndex=i.index,o._children=a,o._loop=!0,o._model=i._resolveDatasetElementOptions(o),o.pivot(),t=0,n=a.length;t<n;++t)i.updateElement(a[t],t,e);for(i.updateBezierControlPoints(),t=0,n=a.length;t<n;++t)a[t].pivot()},updateElement:function(e,t,n){var i=this,r=e.custom||{},o=i.getDataset(),a=i.chart.scale,c=a.getPointPositionForValue(t,o.data[t]),s=i._resolveDataElementOptions(e,t),l=i.getMeta().dataset._model,d=n?a.xCenter:c.x,u=n?a.yCenter:c.y;e._scale=a,e._options=s,e._datasetIndex=i.index,e._index=t,e._model={x:d,y:u,skip:r.skip||isNaN(d)||isNaN(u),radius:s.radius,pointStyle:s.pointStyle,rotation:s.rotation,backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,tension:He(r.tension,l?l.tension:0),hitRadius:s.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,i=ee.prototype._resolveDatasetElementOptions.apply(e,arguments);return i.spanGaps=He(t.spanGaps,n.spanGaps),i.tension=He(t.lineTension,n.elements.line.tension),i},updateBezierControlPoints:function(){var e,t,n,i,r=this.getMeta(),o=this.chart.chartArea,a=r.data||[];function c(e,t,n){return Math.max(Math.min(e,n),t)}for(r.dataset._model.spanGaps&&(a=a.filter(function(e){return!e._model.skip})),e=0,t=a.length;e<t;++e)n=a[e]._model,i=B.splineCurve(B.previousItem(a,e,!0)._model,n,B.nextItem(a,e,!0)._model,n.tension),n.controlPointPreviousX=c(i.previous.x,o.left,o.right),n.controlPointPreviousY=c(i.previous.y,o.top,o.bottom),n.controlPointNextX=c(i.next.x,o.left,o.right),n.controlPointNextY=c(i.next.y,o.top,o.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,i=B.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=He(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=He(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=He(n.hoverBorderWidth,n.borderWidth),t.radius=He(n.hoverRadius,n.radius)}});N._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),N._set("global",{datasets:{scatter:{showLine:!1}}});var qe={bar:we,bubble:Ie,doughnut:Ke,horizontalBar:Ae,line:je,polarArea:Be,pie:Ye,radar:Ve,scatter:je};function We(e,t){return e.native?{x:e.x,y:e.y}:B.getRelativePosition(e,t)}function $e(e,t){var n,i,r,o,a,c,s=e._getSortedVisibleDatasetMetas();for(i=0,o=s.length;i<o;++i)for(r=0,a=(n=s[i].data).length;r<a;++r)(c=n[r])._view.skip||t(c)}function Ue(e,t){var n=[];return $e(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function Ge(e,t,n,i){var r=Number.POSITIVE_INFINITY,o=[];return $e(e,function(e){if(!n||e.inRange(t.x,t.y)){var a=e.getCenterPoint(),c=i(t,a);c<r?(o=[e],r=c):c===r&&o.push(e)}}),o}function Xe(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){var r=t?Math.abs(e.x-i.x):0,o=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Je(e,t,n){var i=We(t,e);n.axis=n.axis||"x";var r=Xe(n.axis),o=n.intersect?Ue(e,i):Ge(e,i,!1,r),a=[];return o.length?(e._getSortedVisibleDatasetMetas().forEach(function(e){var t=e.data[o[0]._index];t&&!t._view.skip&&a.push(t)}),a):[]}var Ze={modes:{single:function(e,t){var n=We(t,e),i=[];return $e(e,function(e){if(e.inRange(n.x,n.y))return i.push(e),i}),i.slice(0,1)},label:Je,index:Je,dataset:function(e,t,n){var i=We(t,e);n.axis=n.axis||"xy";var r=Xe(n.axis),o=n.intersect?Ue(e,i):Ge(e,i,!1,r);return o.length>0&&(o=e.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(e,t){return Je(e,t,{intersect:!1})},point:function(e,t){return Ue(e,We(t,e))},nearest:function(e,t,n){var i=We(t,e);n.axis=n.axis||"xy";var r=Xe(n.axis);return Ge(e,i,n.intersect,r)},x:function(e,t,n){var i=We(t,e),r=[],o=!1;return $e(e,function(e){e.inXRange(i.x)&&r.push(e),e.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r},y:function(e,t,n){var i=We(t,e),r=[],o=!1;return $e(e,function(e){e.inYRange(i.y)&&r.push(e),e.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r}}},Qe=B.extend;function et(e,t){return B.where(e,function(e){return e.pos===t})}function tt(e,t){return e.sort(function(e,n){var i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function nt(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function it(e,t,n){var i,r,o=n.box,a=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?o.height:o.width,e[n.pos]+=n.size,o.getPadding){var c=o.getPadding();a.top=Math.max(a.top,c.top),a.left=Math.max(a.left,c.left),a.bottom=Math.max(a.bottom,c.bottom),a.right=Math.max(a.right,c.right)}if(i=t.outerWidth-nt(a,e,"left","right"),r=t.outerHeight-nt(a,e,"top","bottom"),i!==e.w||r!==e.h){e.w=i,e.h=r;var s=n.horizontal?[i,e.w]:[r,e.h];return!(s[0]===s[1]||isNaN(s[0])&&isNaN(s[1]))}}function rt(e,t){var n,i=t.maxPadding;return n={left:0,top:0,right:0,bottom:0},(e?["left","right"]:["top","bottom"]).forEach(function(e){n[e]=Math.max(t[e],i[e])}),n}function ot(e,t,n){var i,r,o,a,c,s,l=[];for(i=0,r=e.length;i<r;++i)(a=(o=e[i]).box).update(o.width||t.w,o.height||t.h,rt(o.horizontal,t)),it(t,n,o)&&(s=!0,l.length&&(c=!0)),a.fullWidth||l.push(o);return c&&ot(l,t,n)||s}function at(e,t,n){var i,r,o,a,c=n.padding,s=t.x,l=t.y;for(i=0,r=e.length;i<r;++i)a=(o=e[i]).box,o.horizontal?(a.left=a.fullWidth?c.left:t.left,a.right=a.fullWidth?n.outerWidth-c.right:t.left+t.w,a.top=l,a.bottom=l+a.height,a.width=a.right-a.left,l=a.bottom):(a.left=s,a.right=s+a.width,a.top=t.top,a.bottom=t.top+t.h,a.height=a.bottom-a.top,s=a.right);t.x=s,t.y=l}N._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var ct,st={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var i,r=["fullWidth","position","weight"],o=r.length,a=0;a<o;++a)n.hasOwnProperty(i=r[a])&&(t[i]=n[i])},update:function(e,t,n){if(e){var i=B.options.toPadding((e.options.layout||{}).padding),r=t-i.width,o=n-i.height,a=function(e){var t=function(e){var t,n,i,r=[];for(t=0,n=(e||[]).length;t<n;++t)r.push({index:t,box:i=e[t],pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return r}(e),n=tt(et(t,"left"),!0),i=tt(et(t,"right")),r=tt(et(t,"top"),!0),o=tt(et(t,"bottom"));return{leftAndTop:n.concat(r),rightAndBottom:i.concat(o),chartArea:et(t,"chartArea"),vertical:n.concat(i),horizontal:r.concat(o)}}(e.boxes),c=a.vertical,s=a.horizontal,l=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:r,vBoxMaxWidth:r/2/c.length,hBoxMaxHeight:o/2}),d=Qe({maxPadding:Qe({},i),w:r,h:o,x:i.left,y:i.top},i);(function(e,t){var n,i,r;for(n=0,i=e.length;n<i;++n)(r=e[n]).width=r.horizontal?r.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,r.height=r.horizontal&&t.hBoxMaxHeight})(c.concat(s),l),ot(c,d,l),ot(s,d,l)&&ot(c,d,l),function(e){var t=e.maxPadding;function n(n){var i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(d),at(a.leftAndTop,d,l),d.x+=d.w,d.y+=d.h,at(a.rightAndBottom,d,l),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},B.each(a.chartArea,function(t){var n=t.box;Qe(n,e.chartArea),n.update(d.w,d.h)})}}},lt=(ct=Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"}))&&ct.default||ct,dt="chartjs-size-monitor",ut="chartjs-render-monitor",ht=["animationstart","webkitAnimationStart"],ft={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function pt(e,t){var n=B.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var gt=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(n){}return e}()&&{passive:!0};function mt(e,t,n){e.addEventListener(t,n,gt)}function bt(e,t,n){e.removeEventListener(t,n,gt)}function vt(e,t,n,i,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function yt(e){var t=document.createElement("div");return t.className=e||"",t}var xt={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document;!function(e,t){var n=e.$chartjs||(e.$chartjs={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(t)),e.appendChild(i)}}(t.host?t:document.head,lt)}},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),function(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var o=pt(e,"width");void 0!==o&&(e.width=o)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var a=pt(e,"height");void 0!==o&&(e.height=a)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t.$chartjs){var n=t.$chartjs.initial;["height","width"].forEach(function(e){var i=n[e];B.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)}),B.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t.$chartjs}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=n.$chartjs||(n.$chartjs={});mt(i,t,(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=ft[e.type]||e.type,i=B.getRelativePosition(e,t);return vt(n,t,i.x,i.y,e)}(t,e))})}else!function(e,t,n){var i,r,o,a,c=e.$chartjs||(e.$chartjs={}),s=c.resizer=function(e){var t=1e6,n=yt(dt),i=yt(dt+"-expand"),r=yt(dt+"-shrink");i.appendChild(yt()),r.appendChild(yt()),n.appendChild(i),n.appendChild(r),n._reset=function(){i.scrollLeft=t,i.scrollTop=t,r.scrollLeft=t,r.scrollTop=t};var o=function(){n._reset(),e()};return mt(i,"scroll",o.bind(i,"expand")),mt(r,"scroll",o.bind(r,"shrink")),n}((i=function(){if(c.resizer){var i=n.options.maintainAspectRatio&&e.parentNode,r=i?i.clientWidth:0;t(vt("resize",n)),i&&i.clientWidth<r&&n.canvas&&t(vt("resize",n))}},o=!1,a=[],function(){a=Array.prototype.slice.call(arguments),r=r||this,o||(o=!0,B.requestAnimFrame.call(window,function(){o=!1,i.apply(r,a)}))}));!function(e,t){var n=e.$chartjs||(e.$chartjs={}),i=n.renderProxy=function(e){"chartjs-render-animation"===e.animationName&&t()};B.each(ht,function(t){mt(e,t,i)}),n.reflow=!!e.offsetParent,e.classList.add(ut)}(e,function(){if(c.resizer){var t=e.parentNode;t&&t!==s.parentNode&&t.insertBefore(s,t.firstChild),s._reset()}})}(i,n,e)},removeEventListener:function(e,t,n){var i,r,o,a=e.canvas;if("resize"!==t){var c=((n.$chartjs||{}).proxies||{})[e.id+"_"+t];c&&bt(a,t,c)}else o=(r=(i=a).$chartjs||{}).resizer,delete r.resizer,function(e){var t=e.$chartjs||{},n=t.renderProxy;n&&(B.each(ht,function(t){bt(e,t,n)}),delete t.renderProxy),e.classList.remove(ut)}(i),o&&o.parentNode&&o.parentNode.removeChild(o)}};B.addEvent=mt,B.removeEvent=bt;var Pt=B.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},xt._enabled?xt:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}});N._set("global",{plugins:{}});var St={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,r,o,a,c,s=this.descriptors(e),l=s.length;for(i=0;i<l;++i)if("function"==typeof(c=(o=(r=s[i]).plugin)[t])&&((a=[e].concat(n||[])).push(r.options),!1===c.apply(o,a)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],i=[],r=e&&e.config||{},o=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach(function(e){if(-1===n.indexOf(e)){var t=e.id,r=o[t];!1!==r&&(!0===r&&(r=B.clone(N.global.plugins[t])),n.push(e),i.push({plugin:e,options:r||{}}))}}),t.descriptors=i,t.id=this._cacheId,i},_invalidate:function(e){delete e.$plugins}},wt={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=B.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?B.merge(Object.create(null),[N.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var n=this;n.defaults.hasOwnProperty(e)&&(n.defaults[e]=B.extend(n.defaults[e],t))},addScalesToLayout:function(e){B.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,st.addBox(e,t)})}},Rt=B.valueOrDefault,kt=B.rtl.getRtlAdapter;N._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:B.noop,title:function(e,t){var n="",i=t.labels,r=i?i.length:0;if(e.length>0){var o=e[0];o.label?n=o.label:o.xLabel?n=o.xLabel:r>0&&o.index<r&&(n=i[o.index])}return n},afterTitle:B.noop,beforeBody:B.noop,beforeLabel:B.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),B.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:B.noop,afterBody:B.noop,beforeFooter:B.noop,footer:B.noop,afterFooter:B.noop}}});var It={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var c=a.tooltipPosition();i+=c.x,r+=c.y,++o}}return{x:i/o,y:r/o}},nearest:function(e,t){var n,i,r,o=t.x,a=t.y,c=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){var s=e[n];if(s&&s.hasValue()){var l=s.getCenterPoint(),d=B.distanceBetweenPoints(t,l);d<c&&(c=d,r=s)}}if(r){var u=r.tooltipPosition();o=u.x,a=u.y}return{x:o,y:a}}};function Ot(e,t){return t&&(B.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function _t(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Dt(e){var t=N.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:Rt(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:Rt(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:Rt(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:Rt(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:Rt(e.titleFontStyle,t.defaultFontStyle),titleFontSize:Rt(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:Rt(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:Rt(e.footerFontStyle,t.defaultFontStyle),footerFontSize:Rt(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Ct(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function Kt(e){return Ot([],_t(e))}var At=W.extend({initialize:function(){this._model=Dt(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options.callbacks,n=t.beforeTitle.apply(e,arguments),i=t.title.apply(e,arguments),r=t.afterTitle.apply(e,arguments),o=[];return o=Ot(o,_t(n)),o=Ot(o,_t(i)),Ot(o,_t(r))},getBeforeBody:function(){return Kt(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,i=n._options.callbacks,r=[];return B.each(e,function(e){var o={before:[],lines:[],after:[]};Ot(o.before,_t(i.beforeLabel.call(n,e,t))),Ot(o.lines,i.label.call(n,e,t)),Ot(o.after,_t(i.afterLabel.call(n,e,t))),r.push(o)}),r},getAfterBody:function(){return Kt(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),i=t.footer.apply(e,arguments),r=t.afterFooter.apply(e,arguments),o=[];return o=Ot(o,_t(n)),o=Ot(o,_t(i)),Ot(o,_t(r))},update:function(e){var t,n,i,r,o,a,c,s,l,d,u=this,h=u._options,f=u._model,p=u._model=Dt(h),g=u._active,m=u._data,b={xAlign:f.xAlign,yAlign:f.yAlign},v={x:f.x,y:f.y},y={width:f.width,height:f.height},x={x:f.caretX,y:f.caretY};if(g.length){p.opacity=1;var P=[],S=[];x=It[h.position].call(u,g,u._eventPosition);var w=[];for(t=0,n=g.length;t<n;++t)w.push((r=void 0,o=void 0,void 0,void 0,s=void 0,l=void 0,d=void 0,r=(i=g[t])._xScale,o=i._yScale||i._scale,a=i._index,l=(s=i._chart.getDatasetMeta(c=i._datasetIndex).controller)._getIndexScale(),d=s._getValueScale(),{xLabel:r?r.getLabelForIndex(a,c):"",yLabel:o?o.getLabelForIndex(a,c):"",label:l?""+l.getLabelForIndex(a,c):"",value:d?""+d.getLabelForIndex(a,c):"",index:a,datasetIndex:c,x:i._model.x,y:i._model.y}));h.filter&&(w=w.filter(function(e){return h.filter(e,m)})),h.itemSort&&(w=w.sort(function(e,t){return h.itemSort(e,t,m)})),B.each(w,function(e){P.push(h.callbacks.labelColor.call(u,e,u._chart)),S.push(h.callbacks.labelTextColor.call(u,e,u._chart))}),p.title=u.getTitle(w,m),p.beforeBody=u.getBeforeBody(w,m),p.body=u.getBody(w,m),p.afterBody=u.getAfterBody(w,m),p.footer=u.getFooter(w,m),p.x=x.x,p.y=x.y,p.caretPadding=h.caretPadding,p.labelColors=P,p.labelTextColors=S,p.dataPoints=w,v=function(e,t,n,i){var r=e.x,o=e.y,a=e.caretPadding,c=n.xAlign,s=n.yAlign,l=e.caretSize+a,d=e.cornerRadius+a;return"right"===c?r-=t.width:"center"===c&&((r-=t.width/2)+t.width>i.width&&(r=i.width-t.width),r<0&&(r=0)),"top"===s?o+=l:o-="bottom"===s?t.height+l:t.height/2,"center"===s?"left"===c?r+=l:"right"===c&&(r-=l):"left"===c?r-=d:"right"===c&&(r+=d),{x:r,y:o}}(p,y=function(e,t){var n=e._chart.ctx,i=2*t.yPadding,r=0,o=t.body,a=o.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0),c=t.title.length,s=t.footer.length,l=t.titleFontSize,d=t.bodyFontSize,u=t.footerFontSize;i+=c*l,i+=c?(c-1)*t.titleSpacing:0,i+=c?t.titleMarginBottom:0,i+=(a+=t.beforeBody.length+t.afterBody.length)*d,i+=a?(a-1)*t.bodySpacing:0,i+=s?t.footerMarginTop:0,i+=s*u,i+=s?(s-1)*t.footerSpacing:0;var h=0,f=function(e){r=Math.max(r,n.measureText(e).width+h)};return n.font=B.fontString(l,t._titleFontStyle,t._titleFontFamily),B.each(t.title,f),n.font=B.fontString(d,t._bodyFontStyle,t._bodyFontFamily),B.each(t.beforeBody.concat(t.afterBody),f),h=t.displayColors?d+2:0,B.each(o,function(e){B.each(e.before,f),B.each(e.lines,f),B.each(e.after,f)}),h=0,n.font=B.fontString(u,t._footerFontStyle,t._footerFontFamily),B.each(t.footer,f),{width:r+=2*t.xPadding,height:i}}(this,p),b=function(e,t){var n,i,r,o,a,c=e._model,s=e._chart,l=e._chart.chartArea,d="center",u="center";c.y<t.height?u="top":c.y>s.height-t.height&&(u="bottom");var h=(l.left+l.right)/2,f=(l.top+l.bottom)/2;"center"===u?(n=function(e){return e<=h},i=function(e){return e>h}):(n=function(e){return e<=t.width/2},i=function(e){return e>=s.width-t.width/2}),r=function(e){return e+t.width+c.caretSize+c.caretPadding>s.width},o=function(e){return e-t.width-c.caretSize-c.caretPadding<0},a=function(e){return e<=f?"top":"bottom"},n(c.x)?(d="left",r(c.x)&&(d="center",u=a(c.y))):i(c.x)&&(d="right",o(c.x)&&(d="center",u=a(c.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:d,yAlign:p.yAlign?p.yAlign:u}}(this,y),u._chart)}else p.opacity=0;return p.xAlign=b.xAlign,p.yAlign=b.yAlign,p.x=v.x,p.y=v.y,p.width=y.width,p.height=y.height,p.caretX=x.x,p.caretY=x.y,u._model=p,e&&h.custom&&h.custom.call(u,p),u},drawCaret:function(e,t){var n=this._chart.ctx,i=this.getCaretPosition(e,t,this._view);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(e,t,n){var i,r,o,a,c,s,l=n.caretSize,d=n.cornerRadius,u=n.xAlign,h=n.yAlign,f=e.x,p=e.y,g=t.width,m=t.height;if("center"===h)c=p+m/2,"left"===u?(r=(i=f)-l,o=i,a=c+l,s=c-l):(r=(i=f+g)+l,o=i,a=c-l,s=c+l);else if("left"===u?(i=(r=f+d+l)-l,o=r+l):"right"===u?(i=(r=f+g-d-l)-l,o=r+l):(i=(r=n.caretX)-l,o=r+l),"top"===h)c=(a=p)-l,s=a;else{c=(a=p+m)+l,s=a;var b=o;o=i,i=b}return{x1:i,x2:r,x3:o,y1:a,y2:c,y3:s}},drawTitle:function(e,t,n){var i,r,o,a=t.title,c=a.length;if(c){var s=kt(t.rtl,t.x,t.width);for(e.x=Ct(t,t._titleAlign),n.textAlign=s.textAlign(t._titleAlign),n.textBaseline="middle",i=t.titleFontSize,r=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=B.fontString(i,t._titleFontStyle,t._titleFontFamily),o=0;o<c;++o)n.fillText(a[o],s.x(e.x),e.y+i/2),e.y+=i+r,o+1===c&&(e.y+=t.titleMarginBottom-r)}},drawBody:function(e,t,n){var i,r,o,a,c,s,l,d,u=t.bodyFontSize,h=t.bodySpacing,f=t._bodyAlign,p=t.body,g=t.displayColors,m=0,b=g?Ct(t,"left"):0,v=kt(t.rtl,t.x,t.width),y=function(t){n.fillText(t,v.x(e.x+m),e.y+u/2),e.y+=u+h},x=v.textAlign(f);for(n.textAlign=f,n.textBaseline="middle",n.font=B.fontString(u,t._bodyFontStyle,t._bodyFontFamily),e.x=Ct(t,x),n.fillStyle=t.bodyFontColor,B.each(t.beforeBody,y),m=g&&"right"!==x?"center"===f?u/2+1:u+2:0,c=0,l=p.length;c<l;++c){for(i=p[c],o=t.labelColors[c],n.fillStyle=r=t.labelTextColors[c],B.each(i.before,y),s=0,d=(a=i.lines).length;s<d;++s){if(g){var P=v.x(b);n.fillStyle=t.legendColorBackground,n.fillRect(v.leftForLtr(P,u),e.y,u,u),n.lineWidth=1,n.strokeStyle=o.borderColor,n.strokeRect(v.leftForLtr(P,u),e.y,u,u),n.fillStyle=o.backgroundColor,n.fillRect(v.leftForLtr(v.xPlus(P,1),u-2),e.y+1,u-2,u-2),n.fillStyle=r}y(a[s])}B.each(i.after,y)}m=0,B.each(t.afterBody,y),e.y-=h},drawFooter:function(e,t,n){var i,r,o=t.footer,a=o.length;if(a){var c=kt(t.rtl,t.x,t.width);for(e.x=Ct(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=c.textAlign(t._footerAlign),n.textBaseline="middle",i=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=B.fontString(i,t._footerFontStyle,t._footerFontFamily),r=0;r<a;++r)n.fillText(o[r],c.x(e.x),e.y+i/2),e.y+=i+t.footerSpacing}},drawBackground:function(e,t,n,i){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var r=t.xAlign,o=t.yAlign,a=e.x,c=e.y,s=i.width,l=i.height,d=t.cornerRadius;n.beginPath(),n.moveTo(a+d,c),"top"===o&&this.drawCaret(e,i),n.lineTo(a+s-d,c),n.quadraticCurveTo(a+s,c,a+s,c+d),"center"===o&&"right"===r&&this.drawCaret(e,i),n.lineTo(a+s,c+l-d),n.quadraticCurveTo(a+s,c+l,a+s-d,c+l),"bottom"===o&&this.drawCaret(e,i),n.lineTo(a+d,c+l),n.quadraticCurveTo(a,c+l,a,c+l-d),"center"===o&&"left"===r&&this.drawCaret(e,i),n.lineTo(a,c+d),n.quadraticCurveTo(a,c,a+d,c),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},i={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity;this._options.enabled&&(t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(i,t,e,n),i.y+=t.yPadding,B.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),B.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,i.mode,i),i.reverse&&n._active.reverse()),(t=!B.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}});At.positioners=It;var Mt=B.valueOrDefault;function Tt(){return B.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,i){if("xAxes"===e||"yAxes"===e){var r,o,a,c=n[e].length;for(t[e]||(t[e]=[]),r=0;r<c;++r)o=Mt((a=n[e][r]).type,"xAxes"===e?"category":"linear"),r>=t[e].length&&t[e].push({}),B.merge(t[e][r],!t[e][r].type||a.type&&a.type!==t[e][r].type?[wt.getScaleDefaults(o),a]:a)}else B._merger(e,t,n,i)}})}function Ft(){return B.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,i){var r=t[e]||Object.create(null),o=n[e];"scales"===e?t[e]=Tt(r,o):"scale"===e?t[e]=B.merge(r,[wt.getScaleDefaults(o.type),o]):B._merger(e,t,n,i)}})}function Nt(e){var t=e.options;B.each(e.scales,function(t){st.removeBox(e,t)}),t=Ft(N.global,N[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function Lt(e,t,n){var i,r=function(e){return e.id===i};do{i=t+n++}while(B.findIndex(e,r)>=0);return i}function zt(e){return"top"===e||"bottom"===e}function jt(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}N._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Et=function(e,t){return this.construct(e,t),this};B.extend(Et.prototype,{construct:function(e,t){var n=this;t=function(e){var t=(e=e||Object.create(null)).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=Ft(N.global,N[e.type],e.options||{}),e}(t);var i=Pt.acquireContext(e,t),r=i&&i.canvas,o=r&&r.height,a=r&&r.width;n.id=B.uid(),n.ctx=i,n.canvas=r,n.config=t,n.width=a,n.height=o,n.aspectRatio=o?a/o:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Et.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),i&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return St.notify(e,"beforeInit"),B.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),St.notify(e,"afterInit"),e},clear:function(){return B.canvas.clear(this),this},stop:function(){return G.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,i=t.canvas,r=n.maintainAspectRatio&&t.aspectRatio||null,o=Math.max(0,Math.floor(B.getMaximumWidth(i))),a=Math.max(0,Math.floor(r?o/r:B.getMaximumHeight(i)));if((t.width!==o||t.height!==a)&&(i.width=t.width=o,i.height=t.height=a,i.style.width=o+"px",i.style.height=a+"px",B.retinaScale(t,n.devicePixelRatio),!e)){var c={width:o,height:a};St.notify(t,"resize",[c]),n.onResize&&n.onResize(t,c),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;B.each(t.xAxes,function(e,n){e.id||(e.id=Lt(t.xAxes,"x-axis-",n))}),B.each(t.yAxes,function(e,n){e.id||(e.id=Lt(t.yAxes,"y-axis-",n))}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},i=[],r=Object.keys(n).reduce(function(e,t){return e[t]=!1,e},{});t.scales&&(i=i.concat((t.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),t.scale&&i.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),B.each(i,function(t){var i=t.options,o=i.id,a=Mt(i.type,t.dtype);zt(i.position)!==zt(t.dposition)&&(i.position=t.dposition),r[o]=!0;var c=null;if(o in n&&n[o].type===a)(c=n[o]).options=i,c.ctx=e.ctx,c.chart=e;else{var s=wt.getScaleConstructor(a);if(!s)return;c=new s({id:o,type:a,options:i,ctx:e.ctx,chart:e}),n[c.id]=c}c.mergeTicksOptions(),t.isDefault&&(e.scale=c)}),B.each(r,function(e,t){e||delete n[t]}),e.scales=n,wt.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e,t,n=this,i=[],r=n.data.datasets;for(e=0,t=r.length;e<t;e++){var o=r[e],a=n.getDatasetMeta(e),c=o.type||n.config.type;if(a.type&&a.type!==c&&(n.destroyDatasetMeta(e),a=n.getDatasetMeta(e)),a.type=c,a.order=o.order||0,a.index=e,a.controller)a.controller.updateIndex(e),a.controller.linkScales();else{var s=qe[a.type];if(void 0===s)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new s(n,e),i.push(a.controller)}}return i},resetElements:function(){var e=this;B.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n,i=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),Nt(i),St._invalidate(i),!1!==St.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var r=i.buildOrUpdateControllers();for(t=0,n=i.data.datasets.length;t<n;t++)i.getDatasetMeta(t).controller.buildOrUpdateElements();i.updateLayout(),i.options.animation&&i.options.animation.duration&&B.each(r,function(e){e.reset()}),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],St.notify(i,"afterUpdate"),i._layers.sort(jt("z","_idx")),i._bufferedRender?i._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:i.render(e)}},updateLayout:function(){var e=this;!1!==St.notify(e,"beforeLayout")&&(st.update(this,this.width,this.height),e._layers=[],B.each(e.boxes,function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())},e),e._layers.forEach(function(e,t){e._idx=t}),St.notify(e,"afterScaleUpdate"),St.notify(e,"afterLayout"))},updateDatasets:function(){var e=this;if(!1!==St.notify(e,"beforeDatasetsUpdate")){for(var t=0,n=e.data.datasets.length;t<n;++t)e.updateDataset(t);St.notify(e,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this,n=t.getDatasetMeta(e),i={meta:n,index:e};!1!==St.notify(t,"beforeDatasetUpdate",[i])&&(n.controller._update(),St.notify(t,"afterDatasetUpdate",[i]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,i=Mt(e.duration,n&&n.duration),r=e.lazy;if(!1!==St.notify(t,"beforeRender")){var o=function(e){St.notify(t,"afterRender"),B.callback(n&&n.onComplete,[e],t)};if(n&&i){var a=new U({numSteps:i/16.66,easing:e.easing||n.easing,render:function(e,t){var n=t.currentStep,i=n/t.numSteps;e.draw((0,B.easing.effects[t.easing])(i),i,n)},onAnimationProgress:n.onProgress,onAnimationComplete:o});G.addAnimation(t,a,i,r)}else t.draw(),o(new U({numSteps:0,chart:t}));return t}},draw:function(e){var t,n,i=this;if(i.clear(),B.isNullOrUndef(e)&&(e=1),i.transition(e),!(i.width<=0||i.height<=0)&&!1!==St.notify(i,"beforeDraw",[e])){for(n=i._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(i.chartArea);for(i.drawDatasets(e);t<n.length;++t)n[t].draw(i.chartArea);i._drawTooltip(e),St.notify(i,"afterDraw",[e])}},transition:function(e){for(var t=this,n=0,i=(t.data.datasets||[]).length;n<i;++n)t.isDatasetVisible(n)&&t.getDatasetMeta(n).controller.transition(e);t.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t,n,i=this,r=[];for(t=0,n=(i.data.datasets||[]).length;t<n;++t)e&&!i.isDatasetVisible(t)||r.push(i.getDatasetMeta(t));return r.sort(jt("order","index")),r},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n,i=this;if(!1!==St.notify(i,"beforeDatasetsDraw",[e])){for(n=(t=i._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)i.drawDataset(t[n],e);St.notify(i,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n={meta:e,index:e.index,easingValue:t};!1!==St.notify(this,"beforeDatasetDraw",[n])&&(e.controller.draw(t),St.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(e){var t=this,n=t.tooltip,i={tooltip:n,easingValue:e};!1!==St.notify(t,"beforeTooltipDraw",[i])&&(n.draw(),St.notify(t,"afterTooltipDraw",[i]))},getElementAtEvent:function(e){return Ze.modes.single(this,e)},getElementsAtEvent:function(e){return Ze.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return Ze.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var i=Ze.modes[t];return"function"==typeof i?i(this,e,n):[]},getDatasetAtEvent:function(e){return Ze.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var i=n._meta[t.id];return i||(i=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n.order||0,index:e}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],i=n._meta&&n._meta[t];i&&(i.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,i=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);i&&(n.unbindEvents(),B.canvas.clear(n),Pt.releaseContext(n.ctx),n.canvas=null,n.ctx=null),St.notify(n,"destroy"),delete Et.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new At({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};B.each(e.options.events,function(i){Pt.addEventListener(e,i,n),t[i]=n}),e.options.responsive&&(n=function(){e.resize()},Pt.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,B.each(t,function(t,n){Pt.removeEventListener(e,n,t)}))},updateHoverStyle:function(e,t,n){var i,r,o,a=n?"set":"remove";for(r=0,o=e.length;r<o;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[a+"HoverStyle"](i);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+a+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==St.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var i=t.handleEvent(e);n&&(i=n._start?n.handleEvent(e):i|n.handleEvent(e)),St.notify(t,"afterEvent",[e]);var r=t._bufferedRequest;return r?t.render(r):i&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],n.active="mouseout"===e.type?[]:n.getElementsAtEventForMode(e,r.mode,r),B.callback(i.onHover||i.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||i.onClick&&i.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),t=!B.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),Et.instances={};var Bt=Et;function Yt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Ht(e){this.options=e||{}}Et.Controller=Et,Et.types={},B.configMerge=Ft,B.scaleMerge=Tt,B.extend(Ht.prototype,{formats:Yt,parse:Yt,format:Yt,add:Yt,diff:Yt,startOf:Yt,endOf:Yt,_create:function(e){return e}}),Ht.override=function(e){B.extend(Ht.prototype,e)};var Vt={_date:Ht},qt={formatters:{values:function(e){return B.isArray(e)?e:""+e},linear:function(e,t,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&e!==Math.floor(e)&&(i=e-Math.floor(e));var r=B.log10(Math.abs(i)),o="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var a=B.log10(Math.abs(e)),c=Math.floor(a)-Math.floor(r);c=Math.max(Math.min(c,20),0),o=e.toExponential(c)}else{var s=-1*Math.floor(r);s=Math.max(Math.min(s,20),0),o=e.toFixed(s)}else o="0";return o},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(B.log10(e)));return 0===e?"0":1===i||2===i||5===i||0===t||t===n.length-1?e.toExponential():""}}},Wt=B.isArray,$t=B.isNullOrUndef,Ut=B.valueOrDefault,Gt=B.valueAtIndexOrDefault;function Xt(e,t,n){var i,r=e.getTicks().length,o=Math.min(t,r-1),a=e.getPixelForTick(o),c=e._startPixel,s=e._endPixel,l=1e-6;if(!(n&&(i=1===r?Math.max(a-c,s-a):0===t?(e.getPixelForTick(1)-a)/2:(a-e.getPixelForTick(o-1))/2,(a+=o<t?i:-i)<c-l||a>s+l)))return a}function Jt(e){return e.drawTicks?e.tickMarkLength:0}function Zt(e){var t,n;return e.display?(t=B.options._parseFont(e),n=B.options.toPadding(e.padding),t.lineHeight+n.height):0}function Qt(e,t){return B.extend(B.options._parseFont({fontFamily:Ut(t.fontFamily,e.fontFamily),fontSize:Ut(t.fontSize,e.fontSize),fontStyle:Ut(t.fontStyle,e.fontStyle),lineHeight:Ut(t.lineHeight,e.lineHeight)}),{color:B.options.resolve([t.fontColor,e.fontColor,N.global.defaultFontColor])})}function en(e){var t=Qt(e,e.minor);return{minor:t,major:e.major.enabled?Qt(e,e.major):t}}function tn(e){var t,n,i,r=[];for(n=0,i=e.length;n<i;++n)void 0!==(t=e[n])._index&&r.push(t);return r}function nn(e,t,n,i){var r,o,a,c,s=Ut(n,0),l=Math.min(Ut(i,e.length),e.length),d=0;for(t=Math.ceil(t),i&&(t=(r=i-n)/Math.floor(r/t)),c=s;c<0;)d++,c=Math.round(s+d*t);for(o=Math.max(s,0);o<l;o++)a=e[o],o===c?(a._index=o,d++,c=Math.round(s+d*t)):delete a.label}N._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:qt.formatters.values,minor:{},major:{}}});var rn=W.extend({zeroLineIndex:0,getPadding:function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){B.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var i,r,o,a,c,s=this,l=s.options.ticks,d=l.sampleSize;if(s.beforeUpdate(),s.maxWidth=e,s.maxHeight=t,s.margins=B.extend({left:0,right:0,top:0,bottom:0},n),s._ticks=null,s.ticks=null,s._labelSizes=null,s._maxLabelLines=0,s.longestLabelWidth=0,s.longestTextCache=s.longestTextCache||{},s._gridLineItems=null,s._labelItems=null,s.beforeSetDimensions(),s.setDimensions(),s.afterSetDimensions(),s.beforeDataLimits(),s.determineDataLimits(),s.afterDataLimits(),s.beforeBuildTicks(),a=s.buildTicks()||[],(!(a=s.afterBuildTicks(a)||a)||!a.length)&&s.ticks)for(a=[],i=0,r=s.ticks.length;i<r;++i)a.push({value:s.ticks[i],major:!1});return s._ticks=a,o=s._convertTicksToLabels((c=d<a.length)?function(e,t){for(var n=[],i=e.length/t,r=0,o=e.length;r<o;r+=i)n.push(e[Math.floor(r)]);return n}(a,d):a),s._configure(),s.beforeCalculateTickRotation(),s.calculateTickRotation(),s.afterCalculateTickRotation(),s.beforeFit(),s.fit(),s.afterFit(),s._ticksToDraw=l.display&&(l.autoSkip||"auto"===l.source)?s._autoSkip(a):a,c&&(o=s._convertTicksToLabels(s._ticksToDraw)),s.ticks=o,s.afterUpdate(),s.minSize},_configure:function(){var e,t,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,i=!i),n._startPixel=e,n._endPixel=t,n._reversePixels=i,n._length=t-e},afterUpdate:function(){B.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){B.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){B.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){B.callback(this.options.beforeDataLimits,[this])},determineDataLimits:B.noop,afterDataLimits:function(){B.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){B.callback(this.options.beforeBuildTicks,[this])},buildTicks:B.noop,afterBuildTicks:function(e){var t=this;return Wt(e)&&e.length?B.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=B.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){B.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this,t=e.options.ticks;e.ticks=e.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){B.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){B.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,i,r,o,a,c=this,s=c.options,l=s.ticks,d=c.getTicks().length,u=l.minRotation||0,h=l.maxRotation,f=u;!c._isVisible()||!l.display||u>=h||d<=1||!c.isHorizontal()?c.labelRotation=u:(t=(e=c._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,i=Math.min(c.maxWidth,c.chart.width-t),t+6>(r=s.offset?c.maxWidth/d:i/(d-1))&&(r=i/(d-(s.offset?.5:1)),o=c.maxHeight-Jt(s.gridLines)-l.padding-Zt(s.scaleLabel),a=Math.sqrt(t*t+n*n),f=B.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/r,1)),Math.asin(Math.min(o/a,1))-Math.asin(n/a))),f=Math.max(u,Math.min(h,f))),c.labelRotation=f)},afterCalculateTickRotation:function(){B.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){B.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,i=e.options,r=i.ticks,o=i.scaleLabel,a=i.gridLines,c=e._isVisible(),s="bottom"===i.position,l=e.isHorizontal();if(l?t.width=e.maxWidth:c&&(t.width=Jt(a)+Zt(o)),l?c&&(t.height=Jt(a)+Zt(o)):t.height=e.maxHeight,r.display&&c){var d=en(r),u=e._getLabelSizes(),h=u.first,f=u.last,p=u.widest,g=u.highest,m=.4*d.minor.lineHeight,b=r.padding;if(l){var v=0!==e.labelRotation,y=B.toRadians(e.labelRotation),x=Math.cos(y),P=Math.sin(y);t.height=Math.min(e.maxHeight,t.height+(P*p.width+x*(g.height-(v?g.offset:0))+(v?0:m))+b);var S,w,R=e.getPixelForTick(0)-e.left,k=e.right-e.getPixelForTick(e.getTicks().length-1);v?(S=s?x*h.width+P*h.offset:P*(h.height-h.offset),w=s?P*(f.height-f.offset):x*f.width+P*f.offset):(S=h.width/2,w=f.width/2),e.paddingLeft=Math.max((S-R)*e.width/(e.width-R),0)+3,e.paddingRight=Math.max((w-k)*e.width/(e.width-k),0)+3}else t.width=Math.min(e.maxWidth,t.width+(r.mirror?0:p.width+b+m)),e.paddingTop=h.height/2,e.paddingBottom=f.height/2}e.handleMargins(),l?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){B.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if($t(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,i,r=this;for(r.ticks=e.map(function(e){return e.value}),r.beforeTickToLabelConversion(),t=r.convertTicksToLabels(e)||r.ticks,r.afterTickToLabelConversion(),n=0,i=e.length;n<i;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=function(e,t,n,i){var r,o,a,c,s,l,d,u,h,f,p,g,m,b=n.length,v=[],y=[],x=[],P=0,S=0;for(r=0;r<b;++r){if(c=n[r].label,e.font=l=(s=n[r].major?t.major:t.minor).string,d=i[l]=i[l]||{data:{},gc:[]},u=s.lineHeight,h=f=0,$t(c)||Wt(c)){if(Wt(c))for(o=0,a=c.length;o<a;++o)$t(p=c[o])||Wt(p)||(h=B.measureText(e,d.data,d.gc,h,p),f+=u)}else h=B.measureText(e,d.data,d.gc,h,c),f=u;v.push(h),y.push(f),x.push(u/2),P=Math.max(h,P),S=Math.max(f,S)}function w(e){return{width:v[e]||0,height:y[e]||0,offset:x[e]||0}}return function(e,t){B.each(e,function(e){var n,i=e.gc,r=i.length/2;if(r>t){for(n=0;n<r;++n)delete e.data[i[n]];i.splice(0,r)}})}(i,b),g=v.indexOf(P),m=y.indexOf(S),{first:w(0),last:w(b-1),widest:w(g),highest:w(m)}}(e.ctx,en(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,i,r;return Wt(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),i=Math.min(t,n),r=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),i=e,r=e),{min:i,max:r,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:B.noop,getPixelForValue:B.noop,getValueForPixel:B.noop,getPixelForTick:function(e){var t=this,n=t.options.offset,i=t._ticks.length,r=1/Math.max(i-(n?0:1),1);return e<0||e>i-1?null:t.getPixelForDecimal(e*r+(n?r/2:0))},getPixelForDecimal:function(e){var t=this;return t._reversePixels&&(e=1-e),t._startPixel+e*t._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this,t=e.min,n=e.max;return e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0},_autoSkip:function(e){var t,n,i,r,o=this,a=o.options.ticks,c=a.maxTicksLimit||o._length/o._tickSize()+1,s=a.major.enabled?function(e){var t,n,i=[];for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(e):[],l=s.length,d=s[0],u=s[l-1];if(l>c)return function(e,t,n){var i,r,o=0,a=t[0];for(n=Math.ceil(n),i=0;i<e.length;i++)r=e[i],i===a?(r._index=i,a=t[++o*n]):delete r.label}(e,s,l/c),tn(e);if(i=function(e,t,n,i){var r,o,a,c,s=function(e){var t,n,i=e.length;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),l=(t.length-1)/i;if(!s)return Math.max(l,1);for(a=0,c=(r=B.math._factorize(s)).length-1;a<c;a++)if((o=r[a])>l)return o;return Math.max(l,1)}(s,e,0,c),l>0){for(t=0,n=l-1;t<n;t++)nn(e,i,s[t],s[t+1]);return nn(e,i,B.isNullOrUndef(r=l>1?(u-d)/(l-1):null)?0:d-r,d),nn(e,i,u,B.isNullOrUndef(r)?e.length:u+r),tn(e)}return nn(e,i),tn(e)},_tickSize:function(){var e=this,t=e.options.ticks,n=B.toRadians(e.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=e._getLabelSizes(),a=t.autoSkipPadding||0,c=o?o.widest.width+a:0,s=o?o.highest.height+a:0;return e.isHorizontal()?s*i>c*r?c/i:s/r:s*r<c*i?s/i:c/r},_isVisible:function(){var e,t,n,i=this,r=i.chart,o=i.options.display;if("auto"!==o)return!!o;for(e=0,t=r.data.datasets.length;e<t;++e)if(r.isDatasetVisible(e)&&((n=r.getDatasetMeta(e)).xAxisID===i.id||n.yAxisID===i.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,i,r,o,a,c,s,l,d,u,h,f,p,g,m,b,v=this,y=v.chart,x=v.options,P=x.gridLines,S=x.position,w=P.offsetGridLines,R=v.isHorizontal(),k=v._ticksToDraw,I=k.length+(w?1:0),O=Jt(P),_=[],D=P.drawBorder?Gt(P.lineWidth,0,0):0,C=D/2,K=B._alignPixel,A=function(e){return K(y,e,D)};for("top"===S?(t=A(v.bottom),c=v.bottom-O,l=t-C,u=A(e.top)+C,f=e.bottom):"bottom"===S?(t=A(v.top),u=e.top,f=A(e.bottom)-C,c=t+C,l=v.top+O):"left"===S?(t=A(v.right),a=v.right-O,s=t-C,d=A(e.left)+C,h=e.right):(t=A(v.left),d=e.left,h=A(e.right)-C,a=t+C,s=v.left+O),n=0;n<I;++n)$t((i=k[n]||{}).label)&&n<k.length||(n===v.zeroLineIndex&&x.offset===w?(p=P.zeroLineWidth,g=P.zeroLineColor,m=P.zeroLineBorderDash||[],b=P.zeroLineBorderDashOffset||0):(p=Gt(P.lineWidth,n,1),g=Gt(P.color,n,"rgba(0,0,0,0.1)"),m=P.borderDash||[],b=P.borderDashOffset||0),void 0!==(r=Xt(v,i._index||n,w))&&(o=K(y,r,p),R?a=s=d=h=o:c=l=u=f=o,_.push({tx1:a,ty1:c,tx2:s,ty2:l,x1:d,y1:u,x2:h,y2:f,width:p,color:g,borderDash:m,borderDashOffset:b})));return _.ticksLength=I,_.borderValue=t,_},_computeLabelItems:function(){var e,t,n,i,r,o,a,c,s,l,d,u,h=this,f=h.options,p=f.ticks,g=f.position,m=p.mirror,b=h.isHorizontal(),v=h._ticksToDraw,y=en(p),x=p.padding,P=Jt(f.gridLines),S=-B.toRadians(h.labelRotation),w=[];for("top"===g?(o=h.bottom-P-x,a=S?"left":"center"):"bottom"===g?(o=h.top+P+x,a=S?"right":"center"):"left"===g?(r=h.right-(m?0:P)-x,a=m?"left":"right"):(r=h.left+(m?0:P)+x,a=m?"right":"left"),e=0,t=v.length;e<t;++e)$t(i=(n=v[e]).label)||(c=h.getPixelForTick(n._index||e)+p.labelOffset,l=(s=n.major?y.major:y.minor).lineHeight,d=Wt(i)?i.length:1,b?(r=c,u="top"===g?((S?1:.5)-d)*l:(S?0:.5)*l):(o=c,u=(1-d)*l/2),w.push({x:r,y:o,rotation:S,label:i,font:s,textOffset:u,textAlign:a}));return w},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var i,r,o,a,c,s=t.ctx,l=t.chart,d=B._alignPixel,u=n.drawBorder?Gt(n.lineWidth,0,0):0,h=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(o=0,a=h.length;o<a;++o)r=(c=h[o]).color,(i=c.width)&&r&&(s.save(),s.lineWidth=i,s.strokeStyle=r,s.setLineDash&&(s.setLineDash(c.borderDash),s.lineDashOffset=c.borderDashOffset),s.beginPath(),n.drawTicks&&(s.moveTo(c.tx1,c.ty1),s.lineTo(c.tx2,c.ty2)),n.drawOnChartArea&&(s.moveTo(c.x1,c.y1),s.lineTo(c.x2,c.y2)),s.stroke(),s.restore());if(u){var f,p,g,m,b=u,v=Gt(n.lineWidth,h.ticksLength-1,1),y=h.borderValue;t.isHorizontal()?(f=d(l,t.left,b)-b/2,p=d(l,t.right,v)+v/2,g=m=y):(g=d(l,t.top,b)-b/2,m=d(l,t.bottom,v)+v/2,f=p=y),s.lineWidth=u,s.strokeStyle=Gt(n.color,0),s.beginPath(),s.moveTo(f,g),s.lineTo(p,m),s.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var t,n,i,r,o,a,c,s,l=e.ctx,d=e._labelItems||(e._labelItems=e._computeLabelItems());for(t=0,i=d.length;t<i;++t){if(a=(o=d[t]).font,l.save(),l.translate(o.x,o.y),l.rotate(o.rotation),l.font=a.string,l.fillStyle=a.color,l.textBaseline="middle",l.textAlign=o.textAlign,s=o.textOffset,Wt(c=o.label))for(n=0,r=c.length;n<r;++n)l.fillText(""+c[n],0,s),s+=a.lineHeight;else l.fillText(c,0,s);l.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,i=n.scaleLabel;if(i.display){var r,o,a=Ut(i.fontColor,N.global.defaultFontColor),c=B.options._parseFont(i),s=B.options.toPadding(i.padding),l=c.lineHeight/2,d=n.position,u=0;if(e.isHorizontal())r=e.left+e.width/2,o="bottom"===d?e.bottom-l-s.bottom:e.top+l+s.top;else{var h="left"===d;r=h?e.left+l+s.top:e.right-l-s.top,o=e.top+e.height/2,u=h?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(r,o),t.rotate(u),t.textAlign="center",t.textBaseline="middle",t.fillStyle=a,t.font=c.string,t.fillText(i.labelString,0,0),t.restore()}},draw:function(e){var t=this;t._isVisible()&&(t._drawGrid(e),t._drawTitle(),t._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,i=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==i&&e.draw===e._draw?[{z:i,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter(function(i){return(!e||i.type===e)&&(n?i.xAxisID===t.id:i.yAxisID===t.id)})}});rn.prototype._draw=rn.prototype.draw;var on=rn,an=B.isNullOrUndef,cn=on.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),i=t.options.ticks,r=i.min,o=i.max,a=0,c=n.length-1;void 0!==r&&(e=n.indexOf(r))>=0&&(a=e),void 0!==o&&(e=n.indexOf(o))>=0&&(c=e),t.minIndex=a,t.maxIndex=c,t.min=n[a],t.max=n[c]},buildTicks:function(){var e=this,t=e._getLabels(),n=e.minIndex,i=e.maxIndex;e.ticks=0===n&&i===t.length-1?t:t.slice(n,i+1)},getLabelForIndex:function(e,t){var n=this,i=n.chart;return i.getDatasetMeta(t).controller._getValueScaleId()===n.id?n.getRightValue(i.data.datasets[t].data[e]):n._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;on.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var i,r,o,a=this;return an(t)||an(n)||(e=a.chart.data.datasets[n].data[t]),an(e)||(i=a.isHorizontal()?e.x:e.y),(void 0!==i||void 0!==e&&isNaN(t))&&(r=a._getLabels(),e=B.valueOrDefault(i,e),t=-1!==(o=r.indexOf(e))?o:t,isNaN(t)&&(t=e)),a.getPixelForDecimal((t-a._startValue)/a._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=this,n=Math.round(t._startValue+t.getDecimalForPixel(e)*t._valueRange);return Math.min(Math.max(n,0),t.ticks.length-1)},getBasePixel:function(){return this.bottom}});cn._defaults={position:"bottom"};var sn=B.isNullOrUndef,ln=on.extend({getRightValue:function(e){return"string"==typeof e?+e:on.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=B.sign(e.min),i=B.sign(e.max);n<0&&i<0?e.max=0:n>0&&i>0&&(e.min=0)}var r=void 0!==t.min||void 0!==t.suggestedMin,o=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(e.min=null===e.min?t.suggestedMin:Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(e.max=null===e.max?t.suggestedMax:Math.max(e.max,t.suggestedMax)),r!==o&&e.min>=e.max&&(r?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this,n=t.options.ticks,i=n.stepSize,r=n.maxTicksLimit;return i?e=Math.ceil(t.max/i)-Math.floor(t.min/i)+1:(e=t._computeTickLimit(),r=r||11),r&&(e=Math.min(r,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:B.noop,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:B.valueOrDefault(t.fixedStepSize,t.stepSize)},r=e.ticks=function(e,t){var n,i,r,o,a=[],c=e.stepSize,s=c||1,l=e.maxTicks-1,d=e.min,u=e.max,h=e.precision,f=t.min,p=t.max,g=B.niceNum((p-f)/l/s)*s;if(g<1e-14&&sn(d)&&sn(u))return[f,p];(o=Math.ceil(p/g)-Math.floor(f/g))>l&&(g=B.niceNum(o*g/l/s)*s),c||sn(h)?n=Math.pow(10,B._decimalPlaces(g)):(n=Math.pow(10,h),g=Math.ceil(g*n)/n),i=Math.floor(f/g)*g,r=Math.ceil(p/g)*g,c&&(!sn(d)&&B.almostWhole(d/g,g/1e3)&&(i=d),!sn(u)&&B.almostWhole(u/g,g/1e3)&&(r=u)),o=B.almostEquals(o=(r-i)/g,Math.round(o),g/1e3)?Math.round(o):Math.ceil(o),i=Math.round(i*n)/n,r=Math.round(r*n)/n,a.push(sn(d)?i:d);for(var m=1;m<o;++m)a.push(Math.round((i+m*g)*n)/n);return a.push(sn(u)?r:u),a}(i,e);e.handleDirectionalChanges(),e.max=B.max(r),e.min=B.min(r),t.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),on.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),i=t.min,r=t.max;on.prototype._configure.call(t),t.options.offset&&n.length&&(i-=e=(r-i)/Math.max(n.length-1,1)/2,r+=e),t._startValue=i,t._endValue=r,t._valueRange=r-i}}),dn={position:"left",ticks:{callback:qt.formatters.linear}};function un(e,t,n,i){var r,o,a=e.options,c=function(e,t,n){var i=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[i]&&(e[i]={pos:[],neg:[]}),e[i]}(t,a.stacked,n),s=c.pos,l=c.neg,d=i.length;for(r=0;r<d;++r)o=e._parseValue(i[r]),isNaN(o.min)||isNaN(o.max)||n.data[r].hidden||(s[r]=s[r]||0,l[r]=l[r]||0,a.relativePoints?s[r]=100:o.min<0||o.max<0?l[r]+=o.min:s[r]+=o.max)}function hn(e,t,n){var i,r,o=n.length;for(i=0;i<o;++i)r=e._parseValue(n[i]),isNaN(r.min)||isNaN(r.max)||t.data[i].hidden||(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}var fn=ln.extend({determineDataLimits:function(){var e,t,n,i,r=this,o=r.options,a=r.chart.data.datasets,c=r._getMatchingVisibleMetas(),s=o.stacked,l={},d=c.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===s)for(e=0;!s&&e<d;++e)s=void 0!==(t=c[e]).stack;for(e=0;e<d;++e)n=a[(t=c[e]).index].data,s?un(r,l,t,n):hn(r,t,n);B.each(l,function(e){i=e.pos.concat(e.neg),r.min=Math.min(r.min,B.min(i)),r.max=Math.max(r.max,B.max(i))}),r.min=B.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=B.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var e,t=this;return t.isHorizontal()?Math.ceil(t.width/40):(e=B.options._parseFont(t.options.ticks),Math.ceil(t.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t=this;return t.getPixelForDecimal((+t.getRightValue(e)-t._startValue)/t._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}});fn._defaults=dn;var pn=B.valueOrDefault,gn=B.math.log10,mn={position:"left",ticks:{callback:qt.formatters.logarithmic}};function bn(e,t){return B.isFinite(e)&&e>=0?e:t}var vn=on.extend({determineDataLimits:function(){var e,t,n,i,r,o,a=this,c=a.options,s=a.chart,l=s.data.datasets,d=a.isHorizontal();function u(e){return d?e.xAxisID===a.id:e.yAxisID===a.id}a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,a.minNotZero=Number.POSITIVE_INFINITY;var h=c.stacked;if(void 0===h)for(e=0;e<l.length;e++)if(t=s.getDatasetMeta(e),s.isDatasetVisible(e)&&u(t)&&void 0!==t.stack){h=!0;break}if(c.stacked||h){var f={};for(e=0;e<l.length;e++){var p=[(t=s.getDatasetMeta(e)).type,void 0===c.stacked&&void 0===t.stack?e:"",t.stack].join(".");if(s.isDatasetVisible(e)&&u(t))for(void 0===f[p]&&(f[p]=[]),r=0,o=(i=l[e].data).length;r<o;r++){var g=f[p];n=a._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(g[r]=g[r]||0,g[r]+=n.max)}}B.each(f,function(e){if(e.length>0){var t=B.min(e),n=B.max(e);a.min=Math.min(a.min,t),a.max=Math.max(a.max,n)}})}else for(e=0;e<l.length;e++)if(t=s.getDatasetMeta(e),s.isDatasetVisible(e)&&u(t))for(r=0,o=(i=l[e].data).length;r<o;r++)n=a._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(a.min=Math.min(n.min,a.min),a.max=Math.max(n.max,a.max),0!==n.min&&(a.minNotZero=Math.min(n.min,a.minNotZero)));a.min=B.isFinite(a.min)?a.min:null,a.max=B.isFinite(a.max)?a.max:null,a.minNotZero=B.isFinite(a.minNotZero)?a.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=bn(t.min,e.min),e.max=bn(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(gn(e.min))-1),e.max=Math.pow(10,Math.floor(gn(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(gn(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(gn(e.min))+1):10),null===e.minNotZero&&(e.minNotZero=e.min>0?e.min:e.max<1?Math.pow(10,Math.floor(gn(e.max))):1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),i={min:bn(t.min),max:bn(t.max)},r=e.ticks=function(e,t){var n,i,r=[],o=pn(e.min,Math.pow(10,Math.floor(gn(t.min)))),a=Math.floor(gn(t.max)),c=Math.ceil(t.max/Math.pow(10,a));0===o?(n=Math.floor(gn(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),r.push(o),o=i*Math.pow(10,n)):(n=Math.floor(gn(o)),i=Math.floor(o/Math.pow(10,n)));var s=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(o),10==++i&&(i=1,s=++n>=0?1:s),o=Math.round(i*Math.pow(10,n)*s)/s}while(n<a||n===a&&i<c);var l=pn(e.max,o);return r.push(l),r}(i,e);e.max=B.max(r),e.min=B.min(r),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),on.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(gn(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;on.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=pn(e.options.ticks.fontSize,N.global.defaultFontSize)/e._length),e._startValue=gn(t),e._valueOffset=n,e._valueRange=(gn(e.max)-gn(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(gn(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}});vn._defaults=mn;var yn=B.valueOrDefault,xn=B.valueAtIndexOrDefault,Pn=B.options.resolve,Sn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:qt.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function wn(e){var t=e.ticks;return t.display&&e.display?yn(t.fontSize,N.global.defaultFontSize)+2*t.backdropPaddingY:0}function Rn(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function kn(e){return 0===e||180===e?"center":e<180?"left":"right"}function In(e,t,n,i){var r,o,a=n.y+i/2;if(B.isArray(t))for(r=0,o=t.length;r<o;++r)e.fillText(t[r],n.x,a),a+=i;else e.fillText(t,n.x,a)}function On(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function _n(e){return B.isNumber(e)?e:0}var Dn=ln.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=wn(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;B.each(t.data.datasets,function(r,o){if(t.isDatasetVisible(o)){var a=t.getDatasetMeta(o);B.each(r.data,function(t,r){var o=+e.getRightValue(t);isNaN(o)||a.data[r].hidden||(n=Math.min(o,n),i=Math.max(o,i))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=i===Number.NEGATIVE_INFINITY?0:i,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/wn(this.options))},convertTicksToLabels:function(){var e=this;ln.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(function(){var t=B.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""})},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this,t=e.options;t.display&&t.pointLabels.display?function(e){var t,n,i,r=B.options._parseFont(e.options.pointLabels),o={l:0,r:e.width,t:0,b:e.height-e.paddingTop},a={};e.ctx.font=r.string,e._pointLabelSizes=[];var c,s,l,d=e.chart.data.labels.length;for(t=0;t<d;t++){i=e.getPointPosition(t,e.drawingArea+5),c=e.ctx,s=r.lineHeight,n=B.isArray(l=e.pointLabels[t])?{w:B.longestText(c,c.font,l),h:l.length*s}:{w:c.measureText(l).width,h:s},e._pointLabelSizes[t]=n;var u=e.getIndexAngle(t),h=B.toDegrees(u)%360,f=Rn(h,i.x,n.w,0,180),p=Rn(h,i.y,n.h,90,270);f.start<o.l&&(o.l=f.start,a.l=u),f.end>o.r&&(o.r=f.end,a.r=u),p.start<o.t&&(o.t=p.start,a.t=u),p.end>o.b&&(o.b=p.end,a.b=u)}e.setReductions(e.drawingArea,o,a)}(e):e.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var i=this,r=t.l/Math.sin(n.l),o=Math.max(t.r-i.width,0)/Math.sin(n.r),a=-t.t/Math.cos(n.t),c=-Math.max(t.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=_n(r),o=_n(o),a=_n(a),c=_n(c),i.drawingArea=Math.min(Math.floor(e-(r+o)/2),Math.floor(e-(a+c)/2)),i.setCenterPoint(r,o,a,c)},setCenterPoint:function(e,t,n,i){var r=this,o=n+r.drawingArea,a=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((e+r.drawingArea+(r.width-t-r.drawingArea))/2+r.left),r.yCenter=Math.floor((o+a)/2+r.top+r.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(B.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,i=n.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(i)*t+n.xCenter,y:Math.sin(i)*t+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this,n=t.min,i=t.max;return t.getPointPositionForValue(e||0,t.beginAtZero?0:n<0&&i<0?i:n>0&&i>0?n:0)},_drawGrid:function(){var e,t,n,i=this,r=i.ctx,o=i.options,a=o.gridLines,c=o.angleLines,s=yn(c.lineWidth,a.lineWidth),l=yn(c.color,a.color);if(o.pointLabels.display&&function(e){var t=e.ctx,n=e.options,i=n.pointLabels,r=wn(n),o=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),a=B.options._parseFont(i);t.save(),t.font=a.string,t.textBaseline="middle";for(var c=e.chart.data.labels.length-1;c>=0;c--){var s=e.getPointPosition(c,o+(0===c?r/2:0)+5),l=xn(i.fontColor,c,N.global.defaultFontColor);t.fillStyle=l;var d=e.getIndexAngle(c),u=B.toDegrees(d);t.textAlign=kn(u),On(u,e._pointLabelSizes[c],s),In(t,e.pointLabels[c],s,a.lineHeight)}t.restore()}(i),a.display&&B.each(i.ticks,function(e,n){0!==n&&(t=i.getDistanceFromCenterForValue(i.ticksAsNumbers[n]),function(e,t,n,i){var r,o=e.ctx,a=t.circular,c=e.chart.data.labels.length,s=xn(t.color,i-1),l=xn(t.lineWidth,i-1);if((a||c)&&s&&l){if(o.save(),o.strokeStyle=s,o.lineWidth=l,o.setLineDash&&(o.setLineDash(t.borderDash||[]),o.lineDashOffset=t.borderDashOffset||0),o.beginPath(),a)o.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{r=e.getPointPosition(0,n),o.moveTo(r.x,r.y);for(var d=1;d<c;d++)r=e.getPointPosition(d,n),o.lineTo(r.x,r.y)}o.closePath(),o.stroke(),o.restore()}}(i,a,t,n))}),c.display&&s&&l){for(r.save(),r.lineWidth=s,r.strokeStyle=l,r.setLineDash&&(r.setLineDash(Pn([c.borderDash,a.borderDash,[]])),r.lineDashOffset=Pn([c.borderDashOffset,a.borderDashOffset,0])),e=i.chart.data.labels.length-1;e>=0;e--)t=i.getDistanceFromCenterForValue(o.ticks.reverse?i.min:i.max),n=i.getPointPosition(e,t),r.beginPath(),r.moveTo(i.xCenter,i.yCenter),r.lineTo(n.x,n.y),r.stroke();r.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options.ticks;if(n.display){var i,r,o=e.getIndexAngle(0),a=B.options._parseFont(n),c=yn(n.fontColor,N.global.defaultFontColor);t.save(),t.font=a.string,t.translate(e.xCenter,e.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",B.each(e.ticks,function(o,s){(0!==s||n.reverse)&&(i=e.getDistanceFromCenterForValue(e.ticksAsNumbers[s]),n.showLabelBackdrop&&(r=t.measureText(o).width,t.fillStyle=n.backdropColor,t.fillRect(-r/2-n.backdropPaddingX,-i-a.size/2-n.backdropPaddingY,r+2*n.backdropPaddingX,a.size+2*n.backdropPaddingY)),t.fillStyle=c,t.fillText(o,0,-i))}),t.restore()}},_drawTitle:B.noop});Dn._defaults=Sn;var Cn=B._deprecated,Kn=B.options.resolve,An=B.valueOrDefault,Mn=Number.MIN_SAFE_INTEGER||-9007199254740991,Tn=Number.MAX_SAFE_INTEGER||9007199254740991,Fn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nn=Object.keys(Fn);function Ln(e,t){return e-t}function zn(e){return B.valueOrDefault(e.time.min,e.ticks.min)}function jn(e){return B.valueOrDefault(e.time.max,e.ticks.max)}function En(e,t,n,i){var r=function(e,t,n){for(var i,r,o,a=0,c=e.length-1;a>=0&&a<=c;){if(o=e[i=a+c>>1],!(r=e[i-1]||null))return{lo:null,hi:o};if(o[t]<n)a=i+1;else{if(!(r[t]>n))return{lo:r,hi:o};c=i-1}}return{lo:o,hi:null}}(e,t,n),o=r.lo?r.hi?r.lo:e[e.length-2]:e[0],a=r.lo?r.hi?r.hi:e[e.length-1]:e[1],c=a[t]-o[t];return o[i]+(a[i]-o[i])*(c?(n-o[t])/c:0)}function Bn(e,t){var n=e._adapter,i=e.options.time,r=i.parser,o=r||i.format,a=t;return"function"==typeof r&&(a=r(a)),B.isFinite(a)||(a="string"==typeof o?n.parse(a,o):n.parse(a)),null!==a?+a:(r||"function"!=typeof o||(a=o(t),B.isFinite(a)||(a=n.parse(a))),a)}function Yn(e,t){if(B.isNullOrUndef(t))return null;var n=e.options.time,i=Bn(e,e.getRightValue(t));return null===i||n.round&&(i=+e._adapter.startOf(i,n.round)),i}function Hn(e,t,n,i){var r,o,a=Nn.length;for(r=Nn.indexOf(e);r<a-1;++r)if((o=Fn[Nn[r]]).common&&Math.ceil((n-t)/((o.steps?o.steps:Tn)*o.size))<=i)return Nn[r];return Nn[a-1]}function Vn(e,t,n){var i,r,o=[],a={},c=t.length;for(i=0;i<c;++i)a[r=t[i]]=i,o.push({value:r,major:!1});return 0!==c&&n?function(e,t,n,i){var r,o,a=e._adapter,c=+a.startOf(t[0].value,i),s=t[t.length-1].value;for(r=c;r<=s;r=+a.add(r,1,i))(o=n[r])>=0&&(t[o].major=!0);return t}(e,o,a,n):o}var qn=on.extend({initialize:function(){this.mergeTicksOptions(),on.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),i=e._adapter=new Vt._date(t.adapters.date);return Cn("time scale",n.format,"time.format","time.parser"),Cn("time scale",n.min,"time.min","ticks.min"),Cn("time scale",n.max,"time.max","ticks.max"),B.mergeIf(n.displayFormats,i.formats()),on.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),on.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,i,r,o,a,c=this,s=c.chart,l=c._adapter,d=c.options,u=d.time.unit||"day",h=Tn,f=Mn,p=[],g=[],m=[],b=c._getLabels();for(e=0,n=b.length;e<n;++e)m.push(Yn(c,b[e]));for(e=0,n=(s.data.datasets||[]).length;e<n;++e)if(s.isDatasetVisible(e))if(B.isObject((r=s.data.datasets[e].data)[0]))for(g[e]=[],t=0,i=r.length;t<i;++t)o=Yn(c,r[t]),p.push(o),g[e][t]=o;else g[e]=m.slice(0),a||(p=p.concat(m),a=!0);else g[e]=[];m.length&&(h=Math.min(h,m[0]),f=Math.max(f,m[m.length-1])),p.length&&(p=n>1?function(e){var t,n,i,r={},o=[];for(t=0,n=e.length;t<n;++t)r[i=e[t]]||(r[i]=!0,o.push(i));return o}(p).sort(Ln):p.sort(Ln),h=Math.min(h,p[0]),f=Math.max(f,p[p.length-1])),h=Yn(c,zn(d))||h,f=Yn(c,jn(d))||f,h=h===Tn?+l.startOf(Date.now(),u):h,f=f===Mn?+l.endOf(Date.now(),u)+1:f,c.min=Math.min(h,f),c.max=Math.max(h+1,f),c._table=[],c._timestamps={data:p,datasets:g,labels:m}},buildTicks:function(){var e,t,n,i=this,r=i.min,o=i.max,a=i.options,c=a.ticks,s=a.time,l=i._timestamps,d=[],u=i.getLabelCapacity(r),h=c.source,f=a.distribution;for(l="data"===h||"auto"===h&&"series"===f?l.data:"labels"===h?l.labels:function(e,t,n,i){var r,o=e._adapter,a=e.options,c=a.time,s=c.unit||Hn(c.minUnit,t,n,i),l=Kn([c.stepSize,c.unitStepSize,1]),d="week"===s&&c.isoWeekday,u=t,h=[];if(d&&(u=+o.startOf(u,"isoWeek",d)),u=+o.startOf(u,d?"day":s),o.diff(n,t,s)>1e5*l)throw t+" and "+n+" are too far apart with stepSize of "+l+" "+s;for(r=u;r<n;r=+o.add(r,l,s))h.push(r);return r!==n&&"ticks"!==a.bounds||h.push(r),h}(i,r,o,u),"ticks"===a.bounds&&l.length&&(r=l[0],o=l[l.length-1]),r=Yn(i,zn(a))||r,o=Yn(i,jn(a))||o,e=0,t=l.length;e<t;++e)(n=l[e])>=r&&n<=o&&d.push(n);return i.min=r,i.max=o,i._unit=s.unit||(c.autoSkip?Hn(s.minUnit,i.min,i.max,u):function(e,t,n,i,r){var o,a;for(o=Nn.length-1;o>=Nn.indexOf(n);o--)if(Fn[a=Nn[o]].common&&e._adapter.diff(r,i,a)>=t-1)return a;return Nn[n?Nn.indexOf(n):0]}(i,d.length,s.minUnit,i.min,i.max)),i._majorUnit=c.major.enabled&&"year"!==i._unit?function(e){for(var t=Nn.indexOf(e)+1,n=Nn.length;t<n;++t)if(Fn[Nn[t]].common)return Nn[t]}(i._unit):void 0,i._table=function(e,t,n,i){if("linear"===i||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var r,o,a,c,s,l=[],d=[t];for(r=0,o=e.length;r<o;++r)(c=e[r])>t&&c<n&&d.push(c);for(d.push(n),r=0,o=d.length;r<o;++r)s=d[r+1],c=d[r],void 0!==(a=d[r-1])&&void 0!==s&&Math.round((s+a)/2)===c||l.push({time:c,pos:r/(o-1)});return l}(i._timestamps.data,r,o,f),i._offsets=function(e,t,n,i,r){var o,a,c=0,s=0;return r.offset&&t.length&&(o=En(e,"time",t[0],"pos"),c=1===t.length?1-o:(En(e,"time",t[1],"pos")-o)/2,a=En(e,"time",t[t.length-1],"pos"),s=1===t.length?a:(a-En(e,"time",t[t.length-2],"pos"))/2),{start:c,end:s,factor:1/(c+1+s)}}(i._table,d,0,0,a),c.reverse&&d.reverse(),Vn(i,d,i._majorUnit)},getLabelForIndex:function(e,t){var n=this,i=n._adapter,r=n.chart.data,o=n.options.time,a=r.labels&&e<r.labels.length?r.labels[e]:"",c=r.datasets[t].data[e];return B.isObject(c)&&(a=n.getRightValue(c)),o.tooltipFormat?i.format(Bn(n,a),o.tooltipFormat):"string"==typeof a?a:i.format(Bn(n,a),o.displayFormats.datetime)},tickFormatFunction:function(e,t,n,i){var r=this,o=r.options,a=o.time.displayFormats,c=r._majorUnit,s=a[c],l=n[t],d=o.ticks,u=c&&s&&l&&l.major,h=r._adapter.format(e,i||(u?s:a[r._unit])),f=u?d.major:d.minor,p=Kn([f.callback,f.userCallback,d.callback,d.userCallback]);return p?p(h,t,n):h},convertTicksToLabels:function(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(this.tickFormatFunction(e[t].value,t,e));return i},getPixelForOffset:function(e){var t=this,n=t._offsets,i=En(t._table,"time",e,"pos");return t.getPixelForDecimal((n.start+i)*n.factor)},getPixelForValue:function(e,t,n){var i=this,r=null;if(void 0!==t&&void 0!==n&&(r=i._timestamps.datasets[n][t]),null===r&&(r=Yn(i,e)),null!==r)return i.getPixelForOffset(r)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._offsets,i=t.getDecimalForPixel(e)/n.factor-n.end,r=En(t._table,"pos",i,"time");return t._adapter._create(r)},_getLabelSize:function(e){var t=this,n=t.options.ticks,i=t.ctx.measureText(e).width,r=B.toRadians(t.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(r),a=Math.sin(r),c=An(n.fontSize,N.global.defaultFontSize);return{w:i*o+c*a,h:i*a+c*o}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=t.tickFormatFunction(e,0,Vn(t,[e],t._majorUnit),r),a=t._getLabelSize(o),c=Math.floor(t.isHorizontal()?t.width/a.w:t.height/a.h);return t.options.offset&&c--,c>0?c:1}});qn._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var Wn={category:cn,linear:fn,logarithmic:vn,radialLinear:Dn,time:qn},$n={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Vt._date.override("function"==typeof e?{_id:"moment",formats:function(){return $n},parse:function(t,n){return"string"==typeof t&&"string"==typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,i){return e(t).add(n,i).valueOf()},diff:function(t,n,i){return e(t).diff(e(n),i)},startOf:function(t,n,i){return t=e(t),"isoWeek"===n?t.isoWeekday(i).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),N._set("global",{plugins:{filler:{propagate:!0}}});var Un={dataset:function(e){var t=e.fill,n=e.chart,i=n.getDatasetMeta(t),r=i&&n.isDatasetVisible(t)&&i.dataset._children||[],o=r.length||0;return o?function(e,t){return t<o&&r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,i=t?t.y:null;return B.isArray(t)?function(e,n){return t[n]}:function(e){return{x:null===n?e.x:n,y:null===i?e.y:i}}}};function Gn(e,t,n){var i,r=e._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return"-"!==o[0]&&"+"!==o[0]||(i=t+i),!(i===t||i<0||i>=n)&&i;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function Xn(e){return(e.el._scale||{}).getPointPositionForValue?function(e){var t,n,i,r,o,a=e.el._scale,c=a.options,s=a.chart.data.labels.length,l=e.fill,d=[];if(!s)return null;for(n=c.ticks.reverse?a.min:a.max,i=a.getPointPositionForValue(0,t=c.ticks.reverse?a.max:a.min),r=0;r<s;++r)o="start"===l||"end"===l?a.getPointPositionForValue(r,"start"===l?t:n):a.getBasePosition(r),c.gridLines.circular&&(o.cx=i.x,o.cy=i.y,o.angle=a.getIndexAngle(r)-Math.PI/2),d.push(o);return d}(e):function(e){var t,n=e.el._model||{},i=e.el._scale||{},r=e.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?o=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:i.getBasePixel&&(o=i.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if(B.isFinite(o))return{x:(t=i.isHorizontal())?o:null,y:t?null:o}}return null}(e)}function Jn(e,t,n){var i,r=e[t].fill,o=[t];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(i=e[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function Zn(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),Un[n](e))}function Qn(e){return e&&!e.skip}function ei(e,t,n,i,r){var o,a,c,s;if(i&&r){for(e.moveTo(t[0].x,t[0].y),o=1;o<i;++o)B.canvas.lineTo(e,t[o-1],t[o]);if(void 0===n[0].angle)for(e.lineTo(n[r-1].x,n[r-1].y),o=r-1;o>0;--o)B.canvas.lineTo(e,n[o],n[o-1],!0);else for(a=n[0].cx,c=n[0].cy,s=Math.sqrt(Math.pow(n[0].x-a,2)+Math.pow(n[0].y-c,2)),o=r-1;o>0;--o)e.arc(a,c,s,n[o].angle,n[o-1].angle,!0)}}function ti(e,t,n,i,r,o){var a,c,s,l,d,u,h,f,p=t.length,g=i.spanGaps,m=[],b=[],v=0,y=0;for(e.beginPath(),a=0,c=p;a<c;++a)d=n(l=t[s=a%p]._view,s,i),u=Qn(l),h=Qn(d),o&&void 0===f&&u&&(c=p+(f=a+1)),u&&h?(v=m.push(l),y=b.push(d)):v&&y&&(g?(u&&m.push(l),h&&b.push(d)):(ei(e,m,b,v,y),v=y=0,m=[],b=[]));ei(e,m,b,v,y),e.closePath(),e.fillStyle=r,e.fill()}var ni={id:"filler",afterDatasetsUpdate:function(e,t){var n,i,r,o,a=(e.data.datasets||[]).length,c=t.propagate,s=[];for(i=0;i<a;++i)o=null,(r=(n=e.getDatasetMeta(i)).dataset)&&r._model&&r instanceof be.Line&&(o={visible:e.isDatasetVisible(i),fill:Gn(r,i,a),chart:e,el:r}),n.$filler=o,s.push(o);for(i=0;i<a;++i)(o=s[i])&&(o.fill=Jn(s,i,c),o.boundary=Xn(o),o.mapper=Zn(o))},beforeDatasetsDraw:function(e){var t,n,i,r,o,a,c,s=e._getSortedVisibleDatasetMetas(),l=e.ctx;for(n=s.length-1;n>=0;--n)(t=s[n].$filler)&&t.visible&&(o=(i=t.el)._children||[],c=(r=i._view).backgroundColor||N.global.defaultColor,(a=t.mapper)&&c&&o.length&&(B.canvas.clipArea(l,e.chartArea),ti(l,o,a,r,c,i._loop),B.canvas.unclipArea(l)))}},ii=B.rtl.getRtlAdapter,ri=B.noop,oi=B.valueOrDefault;function ai(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}N._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},i=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map(function(n){var r=n.controller.getStyle(i?0:void 0);return{text:t[n.index].label,fillStyle:r.backgroundColor,hidden:!e.isDatasetVisible(n.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:n.index}},this)}}},legendCallback:function(e){var t,n,i,r=document.createElement("ul"),o=e.data.datasets;for(r.setAttribute("class",e.id+"-legend"),t=0,n=o.length;t<n;t++)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[t].backgroundColor,o[t].label&&i.appendChild(document.createTextNode(o[t].label));return r.outerHTML}});var ci=W.extend({initialize:function(e){var t=this;B.extend(t,e),t.legendHitBoxes=[],t._hoveredItem=null,t.doughnutMode=!1},beforeUpdate:ri,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:ri,beforeSetDimensions:ri,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:ri,beforeBuildLabels:ri,buildLabels:function(){var e=this,t=e.options.labels||{},n=B.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter(function(n){return t.filter(n,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:ri,beforeFit:ri,fit:function(){var e=this,t=e.options,n=t.labels,i=t.display,r=e.ctx,o=B.options._parseFont(n),a=o.size,c=e.legendHitBoxes=[],s=e.minSize,l=e.isHorizontal();if(l?(s.width=e.maxWidth,s.height=i?10:0):(s.width=i?10:0,s.height=e.maxHeight),i){if(r.font=o.string,l){var d=e.lineWidths=[0],u=0;r.textAlign="left",r.textBaseline="middle",B.each(e.legendItems,function(e,t){var i=ai(n,a)+a/2+r.measureText(e.text).width;(0===t||d[d.length-1]+i+2*n.padding>s.width)&&(u+=a+n.padding,d[d.length-(t>0?0:1)]=0),c[t]={left:0,top:0,width:i,height:a},d[d.length-1]+=i+n.padding}),s.height+=u}else{var h=n.padding,f=e.columnWidths=[],p=e.columnHeights=[],g=n.padding,m=0,b=0;B.each(e.legendItems,function(e,t){var i=ai(n,a)+a/2+r.measureText(e.text).width;t>0&&b+a+2*h>s.height&&(g+=m+n.padding,f.push(m),p.push(b),m=0,b=0),m=Math.max(m,i),b+=a+h,c[t]={left:0,top:0,width:i,height:a}}),g+=m,f.push(m),p.push(b),s.width+=g}e.width=s.width,e.height=s.height}else e.width=s.width=e.height=s.height=0},afterFit:ri,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,i=N.global,r=i.defaultColor,o=i.elements.line,a=e.height,c=e.columnHeights,s=e.width,l=e.lineWidths;if(t.display){var d,u=ii(t.rtl,e.left,e.minSize.width),h=e.ctx,f=oi(n.fontColor,i.defaultFontColor),p=B.options._parseFont(n),g=p.size;h.textAlign=u.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=f,h.fillStyle=f,h.font=p.string;var m=ai(n,g),b=e.legendHitBoxes,v=function(e,i){switch(t.align){case"start":return n.padding;case"end":return e-i;default:return(e-i+n.padding)/2}},y=e.isHorizontal();d=y?{x:e.left+v(s,l[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+v(a,c[0]),line:0},B.rtl.overrideTextDirection(e.ctx,t.textDirection);var x=g+n.padding;B.each(e.legendItems,function(t,i){var f=h.measureText(t.text).width,p=m+g/2+f,P=d.x,S=d.y;u.setWidth(e.minSize.width),y?i>0&&P+p+n.padding>e.left+e.minSize.width&&(S=d.y+=x,d.line++,P=d.x=e.left+v(s,l[d.line])):i>0&&S+x>e.top+e.minSize.height&&(P=d.x=P+e.columnWidths[d.line]+n.padding,d.line++,S=d.y=e.top+v(a,c[d.line]));var w=u.x(P);(function(e,t,i){if(!(isNaN(m)||m<=0)){h.save();var a=oi(i.lineWidth,o.borderWidth);if(h.fillStyle=oi(i.fillStyle,r),h.lineCap=oi(i.lineCap,o.borderCapStyle),h.lineDashOffset=oi(i.lineDashOffset,o.borderDashOffset),h.lineJoin=oi(i.lineJoin,o.borderJoinStyle),h.lineWidth=a,h.strokeStyle=oi(i.strokeStyle,r),h.setLineDash&&h.setLineDash(oi(i.lineDash,o.borderDash)),n&&n.usePointStyle){var c=m*Math.SQRT2/2,s=u.xPlus(e,m/2);B.canvas.drawPoint(h,i.pointStyle,c,s,t+g/2,i.rotation)}else h.fillRect(u.leftForLtr(e,m),t,m,g),0!==a&&h.strokeRect(u.leftForLtr(e,m),t,m,g);h.restore()}})(w,S,t),b[i].left=u.leftForLtr(w,b[i].width),b[i].top=S,function(e,t,n,i){var r=g/2,o=u.xPlus(e,m+r),a=t+r;h.fillText(n.text,o,a),n.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(o,a),h.lineTo(u.xPlus(o,i),a),h.stroke())}(w,S,t,f),y?d.x+=p+n.padding:d.y+=x}),B.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var n,i,r,o=this;if(e>=o.left&&e<=o.right&&t>=o.top&&t<=o.bottom)for(r=o.legendHitBoxes,n=0;n<r.length;++n)if(e>=(i=r[n]).left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return o.legendItems[n];return null},handleEvent:function(e){var t,n=this,i=n.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===r?t&&i.onClick&&i.onClick.call(n,e.native,t):(i.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),i.onHover&&t&&i.onHover.call(n,e.native,t))}});function si(e,t){var n=new ci({ctx:e.ctx,options:t,chart:e});st.configure(e,n,t),st.addBox(e,n),e.legend=n}var li={id:"legend",_element:ci,beforeInit:function(e){var t=e.options.legend;t&&si(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(B.mergeIf(t,N.global.legend),n?(st.configure(e,n,t),n.options=t):si(e,t)):n&&(st.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},di=B.noop;N._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var ui=W.extend({initialize:function(e){B.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:di,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:di,beforeSetDimensions:di,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:di,beforeBuildLabels:di,buildLabels:di,afterBuildLabels:di,beforeFit:di,fit:function(){var e,t=this,n=t.options,i=t.minSize={},r=t.isHorizontal();n.display?(e=(B.isArray(n.text)?n.text.length:1)*B.options._parseFont(n).lineHeight+2*n.padding,t.width=i.width=r?t.maxWidth:e,t.height=i.height=r?e:t.maxHeight):t.width=i.width=t.height=i.height=0},afterFit:di,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var i,r,o,a=B.options._parseFont(n),c=a.lineHeight,s=c/2+n.padding,l=0,d=e.top,u=e.left,h=e.bottom,f=e.right;t.fillStyle=B.valueOrDefault(n.fontColor,N.global.defaultFontColor),t.font=a.string,e.isHorizontal()?(r=u+(f-u)/2,o=d+s,i=f-u):(r="left"===n.position?u+s:f-s,o=d+(h-d)/2,i=h-d,l=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(r,o),t.rotate(l),t.textAlign="center",t.textBaseline="middle";var p=n.text;if(B.isArray(p))for(var g=0,m=0;m<p.length;++m)t.fillText(p[m],0,g,i),g+=c;else t.fillText(p,0,0,i);t.restore()}}});function hi(e,t){var n=new ui({ctx:e.ctx,options:t,chart:e});st.configure(e,n,t),st.addBox(e,n),e.titleBlock=n}var fi={},pi=ni,gi=li,mi={id:"title",_element:ui,beforeInit:function(e){var t=e.options.title;t&&hi(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(B.mergeIf(t,N.global.title),n?(st.configure(e,n,t),n.options=t):hi(e,t)):n&&(st.removeBox(e,n),delete e.titleBlock)}};for(var bi in fi.filler=pi,fi.legend=gi,fi.title=mi,Bt.helpers=B,function(){function e(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function t(e){return null!=e&&"none"!==e}function n(n,i,r){var o=document.defaultView,a=B._getParentNode(n),c=o.getComputedStyle(n)[i],s=o.getComputedStyle(a)[i],l=t(c),d=t(s),u=Number.POSITIVE_INFINITY;return l||d?Math.min(l?e(c,n,r):u,d?e(s,a,r):u):"none"}B.where=function(e,t){if(B.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return B.each(e,function(e){t(e)&&n.push(e)}),n},B.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},B.findNextWhere=function(e,t,n){B.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},B.findPreviousWhere=function(e,t,n){B.isNullOrUndef(n)&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},B.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},B.almostEquals=function(e,t,n){return Math.abs(e-t)<n},B.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},B.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},B.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},B.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},B.toRadians=function(e){return e*(Math.PI/180)},B.toDegrees=function(e){return e*(180/Math.PI)},B._decimalPlaces=function(e){if(B.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},B.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},B.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},B.aliasPixel=function(e){return e%2==0?0:.5},B._alignPixel=function(e,t,n){var i=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*i)/i+r},B.splineCurve=function(e,t,n,i){var r=e.skip?t:e,o=t,a=n.skip?t:n,c=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),s=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),l=c/(c+s),d=s/(c+s),u=i*(l=isNaN(l)?0:l),h=i*(d=isNaN(d)?0:d);return{previous:{x:o.x-u*(a.x-r.x),y:o.y-u*(a.y-r.y)},next:{x:o.x+h*(a.x-r.x),y:o.y+h*(a.y-r.y)}}},B.EPSILON=Number.EPSILON||1e-14,B.splineCurveMonotone=function(e){var t,n,i,r,o,a,c,s,l,d=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),u=d.length;for(t=0;t<u;++t)if(!(i=d[t]).model.skip){if(n=t>0?d[t-1]:null,(r=t<u-1?d[t+1]:null)&&!r.model.skip){var h=r.model.x-i.model.x;i.deltaK=0!==h?(r.model.y-i.model.y)/h:0}i.mK=!n||n.model.skip?i.deltaK:!r||r.model.skip?n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?0:(n.deltaK+i.deltaK)/2}for(t=0;t<u-1;++t)r=d[t+1],(i=d[t]).model.skip||r.model.skip||(B.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(o=i.mK/i.deltaK,a=r.mK/i.deltaK,(s=Math.pow(o,2)+Math.pow(a,2))<=9||(c=3/Math.sqrt(s),i.mK=o*c*i.deltaK,r.mK=a*c*i.deltaK)));for(t=0;t<u;++t)(i=d[t]).model.skip||(r=t<u-1?d[t+1]:null,(n=t>0?d[t-1]:null)&&!n.model.skip&&(i.model.controlPointPreviousX=i.model.x-(l=(i.model.x-n.model.x)/3),i.model.controlPointPreviousY=i.model.y-l*i.mK),r&&!r.model.skip&&(i.model.controlPointNextX=i.model.x+(l=(r.model.x-i.model.x)/3),i.model.controlPointNextY=i.model.y+l*i.mK))},B.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},B.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},B.niceNum=function(e,t){var n=Math.floor(B.log10(e)),i=e/Math.pow(10,n);return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},B.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},B.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,o=e.target||e.srcElement,a=o.getBoundingClientRect(),c=r.touches;c&&c.length>0?(n=c[0].clientX,i=c[0].clientY):(n=r.clientX,i=r.clientY);var s=parseFloat(B.getStyle(o,"padding-left")),l=parseFloat(B.getStyle(o,"padding-top")),d=parseFloat(B.getStyle(o,"padding-right")),u=parseFloat(B.getStyle(o,"padding-bottom")),h=a.bottom-a.top-l-u;return{x:n=Math.round((n-a.left-s)/(a.right-a.left-s-d)*o.width/t.currentDevicePixelRatio),y:i=Math.round((i-a.top-l)/h*o.height/t.currentDevicePixelRatio)}},B.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},B.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},B._calculatePadding=function(e,t,n){return(t=B.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},B._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},B.getMaximumWidth=function(e){var t=B._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,i=n-B._calculatePadding(t,"padding-left",n)-B._calculatePadding(t,"padding-right",n),r=B.getConstraintWidth(e);return isNaN(r)?i:Math.min(i,r)},B.getMaximumHeight=function(e){var t=B._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,i=n-B._calculatePadding(t,"padding-top",n)-B._calculatePadding(t,"padding-bottom",n),r=B.getConstraintHeight(e);return isNaN(r)?i:Math.min(i,r)},B.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},B.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=e.canvas,r=e.height,o=e.width;i.height=r*n,i.width=o*n,e.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=o+"px")}},B.fontString=function(e,t,n){return t+" "+e+"px "+n},B.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.font=t;var a,c,s,l,d,u=0,h=n.length;for(a=0;a<h;a++)if(null!=(l=n[a])&&!0!==B.isArray(l))u=B.measureText(e,r,o,u,l);else if(B.isArray(l))for(c=0,s=l.length;c<s;c++)null==(d=l[c])||B.isArray(d)||(u=B.measureText(e,r,o,u,d));var f=o.length/2;if(f>n.length){for(a=0;a<f;a++)delete r[o[a]];o.splice(0,f)}return u},B.measureText=function(e,t,n,i,r){var o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i},B.numberOfLabelLines=function(e){var t=1;return B.each(e,function(e){B.isArray(e)&&e.length>t&&(t=e.length)}),t},B.color=x?function(e){return e instanceof CanvasGradient&&(e=N.global.defaultColor),x(e)}:function(e){return console.error("Color.js not found!"),e},B.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:B.color(e).saturate(.5).darken(.1).rgbString()}}(),Bt._adapters=Vt,Bt.Animation=U,Bt.animationService=G,Bt.controllers=qe,Bt.DatasetController=ee,Bt.defaults=N,Bt.Element=W,Bt.elements=be,Bt.Interaction=Ze,Bt.layouts=st,Bt.platform=Pt,Bt.plugins=St,Bt.Scale=on,Bt.scaleService=wt,Bt.Ticks=qt,Bt.Tooltip=At,Bt.helpers.each(Wn,function(e,t){Bt.scaleService.registerScaleType(t,e,e._defaults)}),fi)fi.hasOwnProperty(bi)&&Bt.plugins.register(fi[bi]);Bt.platform.initialize();var vi=Bt;return"undefined"!=typeof window&&(window.Chart=Bt),Bt.Chart=Bt,Bt.Legend=fi.legend._element,Bt.Title=fi.title._element,Bt.pluginService=Bt.plugins,Bt.PluginBase=Bt.Element.extend({}),Bt.canvasHelpers=Bt.helpers.canvas,Bt.layoutService=Bt.layouts,Bt.LinearScaleBase=ln,Bt.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(e){Bt[e]=function(t,n){return new Bt(t,Bt.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}}),vi}(function(){try{return n("wd/R")}catch(e){}}())},WOAq:function(e,t,n){"use strict";(function(e){var i=n("Ju5/"),r=n("L3Qv"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,c=a&&a.exports===o?i.a.Buffer:void 0;t.a=(c?c.isBuffer:void 0)||r.a}).call(this,n("3UD+")(e))},XqMk:function(e,t,n){"use strict";var i="object"==typeof global&&global&&global.Object===Object&&global;t.a=i},xutz:function(e,t,n){"use strict";(function(e){var i=n("XqMk"),r="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===r&&i.a.process,c=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=c}).call(this,n("3UD+")(e))}}]);